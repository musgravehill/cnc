$(document).ready(function(){
    $('[data-toggle="tooltip"]').tooltip();
});
$('.dropdown, .dropup').on('show.bs.dropdown', function(e){
  $(this).find('.dropdown-menu').first().stop(true, true).fadeIn();
});
$('.dropdown, .dropup').on('hide.bs.dropdown', function(e){
  $(this).find('.dropdown-menu').first().stop(true, true).fadeOut();
});
 jQuery(document).ready(function(){
    // This button will increment the value
    $('.qtyplus').click(function(e){
        // Stop acting like a button
        e.preventDefault();
        // Get the field name
        fieldName = $(this).attr('field');
        // Get its current value
        var currentVal = parseInt($('input[name='+fieldName+']').val());
        // If is not undefined
        if (!isNaN(currentVal)) {
            // Increment
            $('input[name='+fieldName+']').val(currentVal + 1);
        } else {
            // Otherwise put a 0 there
            $('input[name='+fieldName+']').val(0);
        }
    });
    // This button will decrement the value till 0
    $(".qtyminus").click(function(e) {
        // Stop acting like a button
        e.preventDefault();
        // Get the field name
        fieldName = $(this).attr('field');
        // Get its current value
        var currentVal = parseInt($('input[name='+fieldName+']').val());
        // If it isn't undefined or its greater than 0
        if (!isNaN(currentVal) && currentVal > 0) {
            // Decrement one
            $('input[name='+fieldName+']').val(currentVal - 1);
        } else {
            // Otherwise put a 0 there
            $('input[name='+fieldName+']').val(0);
        }
    });
});
jQuery(document).ready(function(){
	$(".scroll-to-top").click(function()	{
		$("html, body").animate({ scrollTop: 0 }, 600);
		 return false;
	});
	$(window).scroll(function(){
			
		 var position = $(window).scrollTop();
		
		 if(position >= 200)	{
			$(".scroll-to-top").addClass("active")
		 }
		 else	{
			$(".scroll-to-top").removeClass("active")
		 }
	});
	
	
	$('.sidebar-toggle').on('click', function(){
		if($('.main-sidebar').is(':visible')){
			console.log('aside_hide');
			$('.main-sidebar').hide();
		} else {
			console.log('aside_show');
			$('.main-sidebar').show();		
		}
	});
	
});

/* fontSizeMod script start */

/*********************************
  MyBB.ru
  Регулировка размера шрифта в постах
  Версия: V1.1.0
  Автор: Alex_63
  Дата: 24.02.2016
  Последние изменения: 13.02.2017
  Адаптирован для SMF: kak2z
*********************************/
$(function($){


	if($('.post').length)(function(){
	  var sld = '<div id="fntSlider" class="FNTslider" title="Размер шрифта"><div class="before"></div><div class="thumb"></div></div>';
	  var pstSp = $('#zoomInner');
	  pstSp.html(sld);

	  
	  var sliderElem = $('#fntSlider')[0];
	  var thumbElem = $('#fntSlider > .thumb')[0];
	  var thumbBefor= $('#fntSlider > .before')[0];
	  var slideWidth = $('#fntSlider').width();
	  var p00 = parseInt($('#fntSlider').css('padding-left'));
	  var lSFont=localStorage.getItem('FNTsize');
	  var st_Size = '';
	  if(lSFont){lSFont=lSFont.split(',');
		var k01=lSFont[0];var k02=lSFont[1];
		thumbElem.style.left=k01+'px';
		thumbBefor.style.width=k01+'px';
		$('.inner').css('font-size',k02+'px');
		st_Size=lSFont[2];
	  } else {
		var Fnt=$('.inner').css('font-size');
		if(Fnt === undefined){
			return false;
		}
		Fnt=Fnt.replace('px','');Fnt=Math.round(parseFloat(Fnt));
		st_Size=''+Fnt;Fnt-=6;Fnt=Fnt*5;
		thumbElem.style.left=Fnt+'px';
		thumbBefor.style.width=Fnt+'px';
	  }

		function setFont(f) {
			var k00=parseInt(f/5);k00+=6;
			if(k00>30){
				k00=30;
			}
			$('.inner').css('font-size',k00+'px');
			$('blockquote').css('font-size',(k00 - 2)+'px');
			localStorage.setItem('FNTsize',f+','+k00+','+st_Size.replace('px',''));
		}
		function getCoords(elem) {
			var b=elem.getBoundingClientRect();
			return{top:b.top+pageYOffset,left:b.left+pageXOffset};
		}
		
		$(thumbElem).on('mousedown touchstart',function(e) {
			var thumbCoords = getCoords(thumbElem);
			var pageX = ( e.type=='mousedown' ? e.pageX : e.originalEvent ? e.originalEvent.touches[0].pageX : e.touches[0].pageX );
			var shiftX = pageX - thumbCoords.left;

			var sliderCoords = getCoords(sliderElem);
			sliderCoords.left += p00;
			document.onmousemove = document.ontouchmove = function(e) {
				var pageX = ( e.type=='mousemove' ? e.pageX : e.originalEvent ? e.originalEvent.touches[0].pageX : e.touches[0].pageX );
				var newLeft = pageX - shiftX - sliderCoords.left;
				if (newLeft < 0) {
					newLeft = 0;
				}
				var rightEdge = slideWidth - thumbElem.offsetWidth;
				if (newLeft > rightEdge) {
					newLeft = rightEdge;
				}
				thumbElem.style.left = newLeft + 'px';
				thumbBefor.style.width=newLeft + 'px';
				setFont(newLeft);
			}
			document.onmouseup = document.ontouchend = function(){document.onmousemove=document.onmouseup=document.ontouchend=document.ontouchmove=null;};
			return false;
		});
		thumbElem.ondragstart = function() {return false;};

		sliderElem.ondblclick = function(){
			var stFnt=st_Size;//alert(stFnt);
			$('.inner').css('font-size',stFnt+'px');
			$('blockquote').css('font-size', stFnt +'px');
			stFnt=parseInt(stFnt);stFnt-=6;stFnt=stFnt*5;
			localStorage.removeItem('FNTsize');
			thumbElem.style.left=stFnt+'px';//alert(Fnt);
			thumbBefor.style.width=stFnt+'px';
		};

	}())
});
/* fontSizeMod script end */