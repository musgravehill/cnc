<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<!-- saved from url=(0078)http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="ru" class="js mdl-js"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

    <title>Генератор с регулируемоей частотой на ардуино. | Аппаратная платформа Arduino</title>
    
<link rel="shortcut icon" href="http://arduino.ru/sites/default/files/framework_favicon.ico" type="image/x-icon">
<meta name="description" content="Иногда при работе с мк бывает нужно подать сигнал определённой частоты, а специального устройства у меня нет, т.к. не сильно то оно нужно, да и ставить ещё один ящик негде. Вот написал скетчик генератора с регулируемой частотой, в большинстве случаев его достаточно. Что он может: -генерит меандр на 16 битном таймере. Диапазон частот 1Гц - 8МГц.">
<meta name="keywords" content="Arduino,контроллер,электроника,плата,конструктор,электротехника,программирование">
<link rel="canonical" href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino">
<meta name="revisit-after" content="1 day">
    <link type="text/css" rel="stylesheet" media="all" href="./Генератор с регулируемоей частотой на ардуино. _ Аппаратная платформа Arduino_files/css_18e5b988177ca92e28309b5aab38bdbd.css">
<link type="text/css" rel="stylesheet" media="print" href="./Генератор с регулируемоей частотой на ардуино. _ Аппаратная платформа Arduino_files/css_7eefe07e0346ae5e69552f9283c13b04.css">
    <script async="" src="./Генератор с регулируемоей частотой на ардуино. _ Аппаратная платформа Arduino_files/async-ads.js.Без названия"></script><script type="text/javascript" async="" src="./Генератор с регулируемоей частотой на ардуино. _ Аппаратная платформа Arduino_files/f.txt"></script><script type="text/javascript" async="" src="http://www.google-analytics.com/ga.js"></script><script type="text/javascript" src="./Генератор с регулируемоей частотой на ардуино. _ Аппаратная платформа Arduino_files/js_513736643cebb624104e28a0a8afbec5.js.Без названия"></script><style>@charset "UTF-8";.md-dark{color:rgba(0,0,0,.54)}.md-dark.md-inactive{color:rgba(0,0,0,.26)}.md-light{color:#fff}.md-light.md-inactive{color:rgba(255,255,255,.3)}@font-face{font-family:Roboto;font-style:normal;font-weight:300;src:local("Roboto Light"),local("Roboto-Light"),url(https://fonts.gstatic.com/s/roboto/v15/0eC6fl06luXEYWpBSJvXCBJtnKITppOI_IvcXXDNrsc.woff2) format("woff2");unicode-range:U+0460-052F,U+20B4,U+2DE0-2DFF,U+A640-A69F}@font-face{font-family:Roboto;font-style:normal;font-weight:300;src:local("Roboto Light"),local("Roboto-Light"),url(https://fonts.gstatic.com/s/roboto/v15/Fl4y0QdOxyyTHEGMXX8kcRJtnKITppOI_IvcXXDNrsc.woff2) format("woff2");unicode-range:U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:Roboto;font-style:normal;font-weight:300;src:local("Roboto Light"),local("Roboto-Light"),url(https://fonts.gstatic.com/s/roboto/v15/-L14Jk06m6pUHB-5mXQQnRJtnKITppOI_IvcXXDNrsc.woff2) format("woff2");unicode-range:U+1F00-1FFF}@font-face{font-family:Roboto;font-style:normal;font-weight:300;src:local("Roboto Light"),local("Roboto-Light"),url(https://fonts.gstatic.com/s/roboto/v15/I3S1wsgSg9YCurV6PUkTORJtnKITppOI_IvcXXDNrsc.woff2) format("woff2");unicode-range:U+0370-03FF}@font-face{font-family:Roboto;font-style:normal;font-weight:300;src:local("Roboto Light"),local("Roboto-Light"),url(https://fonts.gstatic.com/s/roboto/v15/NYDWBdD4gIq26G5XYbHsFBJtnKITppOI_IvcXXDNrsc.woff2) format("woff2");unicode-range:U+0102-0103,U+1EA0-1EF9,U+20AB}@font-face{font-family:Roboto;font-style:normal;font-weight:300;src:local("Roboto Light"),local("Roboto-Light"),url(https://fonts.gstatic.com/s/roboto/v15/Pru33qjShpZSmG3z6VYwnRJtnKITppOI_IvcXXDNrsc.woff2) format("woff2");unicode-range:U+0100-024F,U+1E00-1EFF,U+20A0-20AB,U+20AD-20CF,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Roboto;font-style:normal;font-weight:300;src:local("Roboto Light"),local("Roboto-Light"),url(https://fonts.gstatic.com/s/roboto/v15/Hgo13k-tfSpn0qi1SFdUfVtXRa8TVwTICgirnJhmVJw.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2212,U+2215,U+E0FF,U+EFFD,U+F000}@font-face{font-family:Roboto;font-style:normal;font-weight:400;src:local("Roboto"),local("Roboto-Regular"),url(https://fonts.gstatic.com/s/roboto/v15/ek4gzZ-GeXAPcSbHtCeQI_esZW2xOQ-xsNqO47m55DA.woff2) format("woff2");unicode-range:U+0460-052F,U+20B4,U+2DE0-2DFF,U+A640-A69F}@font-face{font-family:Roboto;font-style:normal;font-weight:400;src:local("Roboto"),local("Roboto-Regular"),url(https://fonts.gstatic.com/s/roboto/v15/mErvLBYg_cXG3rLvUsKT_fesZW2xOQ-xsNqO47m55DA.woff2) format("woff2");unicode-range:U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:Roboto;font-style:normal;font-weight:400;src:local("Roboto"),local("Roboto-Regular"),url(https://fonts.gstatic.com/s/roboto/v15/-2n2p-_Y08sg57CNWQfKNvesZW2xOQ-xsNqO47m55DA.woff2) format("woff2");unicode-range:U+1F00-1FFF}@font-face{font-family:Roboto;font-style:normal;font-weight:400;src:local("Roboto"),local("Roboto-Regular"),url(https://fonts.gstatic.com/s/roboto/v15/u0TOpm082MNkS5K0Q4rhqvesZW2xOQ-xsNqO47m55DA.woff2) format("woff2");unicode-range:U+0370-03FF}@font-face{font-family:Roboto;font-style:normal;font-weight:400;src:local("Roboto"),local("Roboto-Regular"),url(https://fonts.gstatic.com/s/roboto/v15/NdF9MtnOpLzo-noMoG0miPesZW2xOQ-xsNqO47m55DA.woff2) format("woff2");unicode-range:U+0102-0103,U+1EA0-1EF9,U+20AB}@font-face{font-family:Roboto;font-style:normal;font-weight:400;src:local("Roboto"),local("Roboto-Regular"),url(https://fonts.gstatic.com/s/roboto/v15/Fcx7Wwv8OzT71A3E1XOAjvesZW2xOQ-xsNqO47m55DA.woff2) format("woff2");unicode-range:U+0100-024F,U+1E00-1EFF,U+20A0-20AB,U+20AD-20CF,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Roboto;font-style:normal;font-weight:400;src:local("Roboto"),local("Roboto-Regular"),url(https://fonts.gstatic.com/s/roboto/v15/CWB0XYA8bzo0kSThX0UTuA.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2212,U+2215,U+E0FF,U+EFFD,U+F000}@font-face{font-family:Roboto;font-style:normal;font-weight:700;src:local("Roboto Bold"),local("Roboto-Bold"),url(https://fonts.gstatic.com/s/roboto/v15/77FXFjRbGzN4aCrSFhlh3hJtnKITppOI_IvcXXDNrsc.woff2) format("woff2");unicode-range:U+0460-052F,U+20B4,U+2DE0-2DFF,U+A640-A69F}@font-face{font-family:Roboto;font-style:normal;font-weight:700;src:local("Roboto Bold"),local("Roboto-Bold"),url(https://fonts.gstatic.com/s/roboto/v15/isZ-wbCXNKAbnjo6_TwHThJtnKITppOI_IvcXXDNrsc.woff2) format("woff2");unicode-range:U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:Roboto;font-style:normal;font-weight:700;src:local("Roboto Bold"),local("Roboto-Bold"),url(https://fonts.gstatic.com/s/roboto/v15/UX6i4JxQDm3fVTc1CPuwqhJtnKITppOI_IvcXXDNrsc.woff2) format("woff2");unicode-range:U+1F00-1FFF}@font-face{font-family:Roboto;font-style:normal;font-weight:700;src:local("Roboto Bold"),local("Roboto-Bold"),url(https://fonts.gstatic.com/s/roboto/v15/jSN2CGVDbcVyCnfJfjSdfBJtnKITppOI_IvcXXDNrsc.woff2) format("woff2");unicode-range:U+0370-03FF}@font-face{font-family:Roboto;font-style:normal;font-weight:700;src:local("Roboto Bold"),local("Roboto-Bold"),url(https://fonts.gstatic.com/s/roboto/v15/PwZc-YbIL414wB9rB1IAPRJtnKITppOI_IvcXXDNrsc.woff2) format("woff2");unicode-range:U+0102-0103,U+1EA0-1EF9,U+20AB}@font-face{font-family:Roboto;font-style:normal;font-weight:700;src:local("Roboto Bold"),local("Roboto-Bold"),url(https://fonts.gstatic.com/s/roboto/v15/97uahxiqZRoncBaCEI3aWxJtnKITppOI_IvcXXDNrsc.woff2) format("woff2");unicode-range:U+0100-024F,U+1E00-1EFF,U+20A0-20AB,U+20AD-20CF,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Roboto;font-style:normal;font-weight:700;src:local("Roboto Bold"),local("Roboto-Bold"),url(https://fonts.gstatic.com/s/roboto/v15/d-6IYplOFocCacKzxwXSOFtXRa8TVwTICgirnJhmVJw.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2212,U+2215,U+E0FF,U+EFFD,U+F000}@font-face{font-family:'Material Icons';font-style:normal;font-weight:400;src:local("Material Icons"),local("MaterialIcons-Regular"),url(https://fonts.gstatic.com/s/materialicons/v18/2fcrYFNaTjcS6g4U3t-Y5ZjZjT5FdEJ140U2DJYC3mY.woff2) format("woff2")}@font-face{font-family:'Lety Open Sans';font-style:normal;font-weight:400;src:local("Open Sans Regular"),local("OpenSans-Regular"),url(https://fonts.gstatic.com/s/opensans/v15/mem8YaGs126MiZpBA-UFUZ0bf8pkAp6a.woff2) format("woff2");unicode-range:U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Lety Open Sans';font-style:normal;font-weight:400;src:local("Open Sans Regular"),local("OpenSans-Regular"),url(https://fonts.gstatic.com/s/opensans/v15/mem8YaGs126MiZpBA-UFVZ0bf8pkAg.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Lety Open Sans';font-style:normal;font-weight:700;src:local("Open Sans Bold"),local("OpenSans-Bold"),url(https://fonts.gstatic.com/s/opensans/v15/mem5YaGs126MiZpBA-UN7rgOVuhpKKSTj5PW.woff2) format("woff2");unicode-range:U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Lety Open Sans';font-style:normal;font-weight:700;src:local("Open Sans Bold"),local("OpenSans-Bold"),url(https://fonts.gstatic.com/s/opensans/v15/mem5YaGs126MiZpBA-UN7rgOUuhpKKSTjw.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Lety Montserrat';font-style:normal;font-weight:800;src:local("Montserrat ExtraBold"),local("Montserrat-ExtraBold"),url(https://fonts.gstatic.com/s/montserrat/v12/JTURjIg1_i6t8kCHKm45_c5H3gTD_vx3rCubqg.woff2) format("woff2");unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Lety Montserrat';font-style:normal;font-weight:800;src:local("Montserrat ExtraBold"),local("Montserrat-ExtraBold"),url(https://fonts.gstatic.com/s/montserrat/v12/JTURjIg1_i6t8kCHKm45_c5H3g3D_vx3rCubqg.woff2) format("woff2");unicode-range:U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Lety Montserrat';font-style:normal;font-weight:800;src:local("Montserrat ExtraBold"),local("Montserrat-ExtraBold"),url(https://fonts.gstatic.com/s/montserrat/v12/JTURjIg1_i6t8kCHKm45_c5H3gfD_vx3rCubqg.woff2) format("woff2");unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Lety Montserrat';font-style:normal;font-weight:800;src:local("Montserrat ExtraBold"),local("Montserrat-ExtraBold"),url(https://fonts.gstatic.com/s/montserrat/v12/JTURjIg1_i6t8kCHKm45_c5H3gnD_vx3rCs.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}.material-icons{font-family:'Material Icons';font-weight:400;font-style:normal;font-size:24px;line-height:1;letter-spacing:normal;text-transform:none;display:inline-block;white-space:nowrap;word-wrap:normal;direction:ltr;-webkit-font-feature-settings:'liga';-webkit-font-smoothing:antialiased}#letyshops-notification{box-shadow:1px 1px 4px 1px rgba(0,0,0,.3)!important;-webkit-box-shadow:1px 1px 4px 1px rgba(0,0,0,.3)!important;-moz-box-shadow:1px 1px 4px 1px rgba(0,0,0,.3)!important;height:280px!important;width:320px!important;background-color:#fff;position:relative;border:0!important;padding:0!important;margin:0!important;visibility:visible!important}#letyshops-notification .letyshops-notification-header{height:45px!important;width:inherit!important;background-color:#f3f3f3;text-align:left!important;text-align:-webkit-left!important}#letyshops-notification .letyshops-notification-header .letyshops-notification-logo{display:inline-block!important;max-height:inherit!important;height:inherit!important;width:40px!important;text-align:-webkit-left!important;text-align:left!important;margin:0 0 0 5px!important;background-repeat:no-repeat!important;background-position:center center!important;background-image:url(data:image/png;base64,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)!important;background-size:contain!important}#letyshops-notification .letyshops-notification-header .letyshops-notification-logo-svg{display:inline-block!important;text-align:left!important;margin:10px 0 0 10px!important}#letyshops-notification .letyshops-notification-header .letyshops-notification-name{display:inline-block!important;margin:0!important;padding:0 0 0 3px!important;vertical-align:top!important}#letyshops-notification .letyshops-notification-header .letyshops-notification-name span{font-family:Roboto,sans-serif!important;font-weight:400!important;font-size:14px!important;line-height:45px!important;color:#b1b4b6!important;letter-spacing:-.01em!important;text-transform:none;-webkit-touch-callout:none!important;-webkit-user-select:none!important;-khtml-user-select:none!important;-moz-user-select:none!important;-ms-user-select:none!important;user-select:none!important;text-transform:capitalize;margin:0!important;padding:0!important;border:0!important;vertical-align:middle!important;cursor:default!important}#letyshops-notification .letyshops-notification-header .letyshops-notification-close{-webkit-transition:all .5s ease;-moz-transition:all .5s ease;-o-transition:all .5s ease;transition:all .5s ease;position:absolute!important;height:22px!important;width:22px!important;top:10px!important;right:8px!important;cursor:pointer!important}#letyshops-notification .letyshops-notification-header .letyshops-notification-close i{font-family:'Material Icons'!important;font-weight:400!important;font-style:normal!important;font-size:22px!important;display:inline-block!important;line-height:1!important;text-transform:none!important;letter-spacing:normal!important;word-wrap:normal!important;white-space:nowrap!important;direction:ltr;-webkit-font-smoothing:antialiased;text-rendering:optimizeLegibility;-moz-osx-font-smoothing:grayscale;font-feature-settings:'liga';color:#b0bec5!important}#letyshops-notification .letyshops-notification-header .letyshops-notification-close:hover i{color:#515b60!important}#letyshops-notification .letyshops-notification-content{background-color:#fff;height:140px!important;width:inherit!important}#letyshops-notification .letyshops-notification-content .letyshops-notification-merchant-logo{display:inline-block!important;-webkit-touch-callout:none!important;-webkit-user-select:none!important;-khtml-user-select:none!important;-moz-user-select:none!important;-ms-user-select:none!important;user-select:none!important;height:auto!important;max-height:100px!important;width:160px!important;padding:0!important;margin:0!important;vertical-align:middle!important;text-align:center!important;text-align:-webkit-center!important;overflow:hidden!important}#letyshops-notification .letyshops-notification-content .letyshops-notification-merchant-logo img{max-height:100px!important;max-width:150px!important;margin:0 auto 0 auto!important}#letyshops-notification .letyshops-notification-content .letyshops-notification-merchant-cashback{display:inline-block!important;height:inherit!important;width:90px!important;position:relative!important;padding:0!important;margin:0!important;vertical-align:middle!important;text-align:center!important;text-align:-webkit-center!important}#letyshops-notification .letyshops-notification-content .letyshops-notification-merchant-cashback .letyshops-notification-merchant-cashback-phrase{width:inherit!important;position:absolute!important;top:50%!important;margin-top:-25px!important;margin-left:auto!important;margin-right:auto!important;padding:0!important;cursor:default!important;font-family:Roboto,sans-serif!important;font-weight:400!important;font-size:14px!important;line-height:14px!important;color:#515b60!important;letter-spacing:normal!important;text-transform:none;-webkit-touch-callout:none!important;-webkit-user-select:none!important;-khtml-user-select:none!important;-moz-user-select:none!important;-ms-user-select:none!important;user-select:none!important}#letyshops-notification .letyshops-notification-content .letyshops-notification-merchant-cashback .letyshops-notification-merchant-rebate{font-family:Roboto,sans-serif!important;font-weight:400!important;font-size:18px!important;line-height:18px!important;color:#263238!important;letter-spacing:0!important;text-transform:none;-webkit-touch-callout:none!important;-webkit-user-select:none!important;-khtml-user-select:none!important;-moz-user-select:none!important;-ms-user-select:none!important;user-select:none!important;width:inherit!important;position:absolute!important;top:50%!important;margin:auto!important}#letyshops-notification .letyshops-notification-content .letyshops-notification-merchant-cashback .letyshops-notification-merchant-rebate span{font-family:Roboto,sans-serif!important;font-weight:700!important;font-size:22px!important;line-height:22px!important;color:#263238!important;letter-spacing:.02em!important;text-transform:none;-webkit-touch-callout:none!important;-webkit-user-select:none!important;-khtml-user-select:none!important;-moz-user-select:none!important;-ms-user-select:none!important;user-select:none!important;text-transform:uppercase;cursor:default!important}#letyshops-notification .letyshops-notification-content .letyshops-notification-merchant-cashback .letyshops-notification-merchant-default{font-family:Roboto,sans-serif!important;font-weight:400!important;font-size:11px!important;line-height:11px!important;color:#b0bec5!important;letter-spacing:normal!important;text-transform:none;-webkit-touch-callout:none!important;-webkit-user-select:none!important;-khtml-user-select:none!important;-moz-user-select:none!important;-ms-user-select:none!important;user-select:none!important;-webkit-transition:all .5s ease;-moz-transition:all .5s ease;-o-transition:all .5s ease;transition:all .5s ease;height:23px!important;text-transform:lowercase!important;padding:2px 0 0 0!important;text-decoration:line-through!important;-moz-text-decoration-line:line-through!important}#letyshops-notification .letyshops-notification-content .letyshops-notification-heart{display:inline-block!important;height:auto!important;width:70px!important;padding:0!important;margin:0!important;vertical-align:middle!important;text-align:center!important;text-align:-webkit-center!important}#letyshops-notification .letyshops-notification-content .letyshops-notification-heart i{font-family:'Material Icons'!important;font-weight:400!important;font-style:normal!important;font-size:24px!important;display:inline-block!important;line-height:1!important;text-transform:none!important;letter-spacing:normal!important;word-wrap:normal!important;white-space:nowrap!important;direction:ltr;-webkit-font-smoothing:antialiased;text-rendering:optimizeLegibility;-moz-osx-font-smoothing:grayscale;font-feature-settings:'liga';-webkit-touch-callout:none!important;-webkit-user-select:none!important;-khtml-user-select:none!important;-moz-user-select:none!important;-ms-user-select:none!important;user-select:none!important;-webkit-transition:all 0s ease;-moz-transition:all 0s ease;-o-transition:all 0s ease;transition:all 0s ease;vertical-align:middle!important;text-align:center;text-align:-webkit-center!important;cursor:pointer!important}#letyshops-notification .letyshops-notification-content .letyshops-notification-heart i:hover{font-family:'Material Icons'!important;font-weight:400!important;font-style:normal!important;font-size:26px!important;display:inline-block!important;line-height:1!important;text-transform:none!important;letter-spacing:normal!important;word-wrap:normal!important;white-space:nowrap!important;direction:ltr;-webkit-font-smoothing:antialiased;text-rendering:optimizeLegibility;-moz-osx-font-smoothing:grayscale;font-feature-settings:'liga'}#letyshops-notification .letyshops-notification-content .letyshops-notification-heart .red-heart{color:#ef5350!important}#letyshops-notification .letyshops-notification-content .letyshops-notification-heart .grey-heart{color:#b0bec5!important}#letyshops-notification .letyshops-notification-hint{background-color:#fff;height:70px!important;width:inherit!important}#letyshops-notification .letyshops-notification-hint .letyshops-notification-hint-img{display:inline-block!important;width:50px!important;vertical-align:top!important;padding:10px 0 0 0!important;text-align:center!important;text-align:-webkit-center!important}#letyshops-notification .letyshops-notification-hint .letyshops-notification-hint-img i{font-family:'Material Icons'!important;font-weight:200!important;font-style:normal!important;font-size:26px!important;display:inline-block!important;line-height:1!important;text-transform:none!important;letter-spacing:normal!important;word-wrap:normal!important;white-space:nowrap!important;direction:ltr;-webkit-font-smoothing:antialiased;text-rendering:optimizeLegibility;-moz-osx-font-smoothing:grayscale;font-feature-settings:'liga';color:#ffa000!important;-webkit-touch-callout:none!important;-webkit-user-select:none!important;-khtml-user-select:none!important;-moz-user-select:none!important;-ms-user-select:none!important;user-select:none!important;text-shadow:1px 1px 4px rgba(0,0,0,.3);vertical-align:top!important;text-align:center!important;text-align:-webkit-center!important;cursor:default!important;height:inherit!important}#letyshops-notification .letyshops-notification-hint .letyshops-notification-hint-text{display:inline-block!important;-webkit-touch-callout:text!important;-webkit-user-select:text!important;-khtml-user-select:text!important;-moz-user-select:text!important;-ms-user-select:text!important;user-select:text!important;width:270px!important;height:inherit!important;text-align:left!important;text-align:-webkit-left!important;overflow:hidden!important}#letyshops-notification .letyshops-notification-hint .letyshops-notification-hint-text span{display:inline-block!important;font-family:Roboto,sans-serif!important;font-weight:400!important;font-size:18px!important;line-height:22px!important;color:#515b60!important;letter-spacing:normal!important;text-transform:none;text-shadow:1px 1px 1px rgba(0,0,0,.1);cursor:text!important;display:inline-block;margin:0!important;padding:0 16px 0 0!important}#letyshops-notification .letyshops-notification-button-wrapper{background-color:#fff;height:95px!important;width:inherit!important;border-top:2px solid #f3f3f3;box-sizing:border-box!important;-moz-box-sizing:border-box!important;-webkit-box-sizing:border-box!important}#letyshops-notification .letyshops-notification-button-wrapper .letyshops-notification-warning{white-space:nowrap;color:red;margin:5px auto -44px auto;text-align:center;font-family:Roboto,sans-serif!important;font-size:12px;cursor:default;line-height:normal}#letyshops-notification .letyshops-notification-button-wrapper .letyshops-notification-warning .letyshops-notification-warning-message{color:red;text-decoration:underline;font-size:inherit!important}#letyshops-notification .letyshops-notification-button-wrapper .letyshops-notification-warning span{text-transform:none!important}#letyshops-notification .letyshops-notification-button-wrapper .letyshops-notification-info{position:relative;white-space:nowrap;margin-top:51px;text-align:center;font-family:Roboto,sans-serif!important;font-size:9px;color:#5d5d5d;cursor:default;line-height:normal}#letyshops-notification .letyshops-notification-button-wrapper .letyshops-notification-info span{text-transform:none!important}#letyshops-notification .letyshops-notification-button-wrapper .letyshops-notification-activate{box-shadow:1px 1px 3px 0 rgba(0,0,0,.4)!important;-webkit-box-shadow:1px 1px 3px 0 rgba(0,0,0,.4)!important;-moz-box-shadow:1px 1px 3px 0 rgba(0,0,0,.4)!important;width:255px!important;height:50px!important;position:relative!important;top:50%!important;margin-left:auto!important;margin-right:auto!important;margin-top:-25px!important;text-align:center!important;text-align:-webkit-center!important;border:none!important;border-radius:3px!important;overflow:hidden!important;cursor:pointer!important}#letyshops-notification .letyshops-notification-button-wrapper .letyshops-notification-activate .letyshops-notification-shell-button{display:inline-block!important;-webkit-transition:all .5s ease;-moz-transition:all .5s ease;-o-transition:all .5s ease;transition:all .5s ease;display:inline-block!important;width:255px!important;height:inherit!important;margin:0!important;padding:0!important;vertical-align:top!important}#letyshops-notification .letyshops-notification-button-wrapper .letyshops-notification-activate .letyshops-notification-shell-button a{width:inherit!important;height:inherit!important;margin:0!important;padding:0!important;text-decoration:none!important}#letyshops-notification .letyshops-notification-button-wrapper .letyshops-notification-activate .letyshops-notification-shell-button a button{border-radius:3px 3px 3px 3px!important;-moz-border-radius:3px 3px 3px 3px!important;-webkit-border-radius:3px 3px 3px 3px!important;font-family:Roboto,sans-serif!important;font-weight:500!important;font-size:15px!important;line-height:15px!important;color:#fff!important;letter-spacing:normal!important;text-transform:none;width:inherit!important;height:inherit!important;background-color:#00b0ff!important;background:#00b0ff!important;border:0!important;cursor:pointer!important;text-align:center!important;box-shadow:none!important;text-shadow:none!important}#letyshops-notification .letyshops-notification-button-wrapper .letyshops-notification-activate .letyshops-notification-shell-button:hover a button{background-color:#08f!important;background:#08f!important}#letyshops-notification .letyshops-notification-button-wrapper .letyshops-notification-without-activate-title{font-family:Roboto,sans-serif;font-size:12px;font-style:normal;font-stretch:normal;line-height:25px;letter-spacing:normal;text-align:center;font-weight:600;background-color:#f44336;color:#fff;margin:10px 0}#letyshops-notification .letyshops-notification-button-wrapper .letyshops-notification-without-activate-description{font-family:Roboto,sans-serif;font-size:14px;font-weight:500;font-style:normal;font-stretch:normal;line-height:1.21;letter-spacing:normal;text-align:center;color:#a0a0a0;width:85%;margin:0 auto}#letyshops-notification .letyshops-notification-button-wrapper .letyshops-notification-without-activate-description a{color:#00b0ff;cursor:pointer}#letyshops-notification .letyshops-notification-success-wrapper{background-color:#81c784;height:95px!important;width:inherit!important}#letyshops-notification .letyshops-notification-success-wrapper .letyshops-notification-activated-img{display:inline-block!important;height:auto!important;max-height:95px!important;width:110px!important;padding:0!important;margin:0!important;vertical-align:middle!important;text-align:center!important;text-align:-webkit-center!important}#letyshops-notification .letyshops-notification-success-wrapper .letyshops-notification-activated-img i{font-family:'Material Icons'!important;font-weight:700!important;font-style:normal!important;font-size:60px!important;display:inline-block!important;line-height:1!important;text-transform:none!important;letter-spacing:normal!important;word-wrap:normal!important;white-space:nowrap!important;direction:ltr;-webkit-font-smoothing:antialiased;text-rendering:optimizeLegibility;-moz-osx-font-smoothing:grayscale;font-feature-settings:'liga';color:#fff!important;-webkit-touch-callout:none!important;-webkit-user-select:none!important;-khtml-user-select:none!important;-moz-user-select:none!important;-ms-user-select:none!important;user-select:none!important;vertical-align:middle!important;text-align:center!important;text-align:-webkit-center!important;text-shadow:2px 2px 4px rgba(0,0,0,.3);cursor:default!important}#letyshops-notification .letyshops-notification-success-wrapper .letyshops-notification-activated-text{display:inline-block!important;height:inherit!important;max-height:95px!important;width:210px!important;position:relative;padding:0!important;margin:0!important;vertical-align:middle!important;text-align:start!important;text-align:-webkit-start!important}#letyshops-notification .letyshops-notification-success-wrapper .letyshops-notification-activated-text span{font-family:Roboto,sans-serif!important;font-weight:400!important;font-size:17px!important;line-height:17px!important;color:#fff!important;letter-spacing:normal!important;text-transform:none;-webkit-touch-callout:none!important;-webkit-user-select:none!important;-khtml-user-select:none!important;-moz-user-select:none!important;-ms-user-select:none!important;user-select:none!important;position:absolute;top:50%;margin-top:-9px;text-shadow:1px 1px 4px rgba(0,0,0,.3);cursor:default!important}.letyshops-notification-extended{height:370px!important}#letyshops-notify{box-shadow:1px 1px 7px 2px rgba(0,0,0,.3)!important;-webkit-box-shadow:1px 1px 7px 2px rgba(0,0,0,.3)!important;-moz-box-shadow:1px 1px 7px 2px rgba(0,0,0,.3)!important;-webkit-touch-callout:none!important;-webkit-user-select:none!important;-khtml-user-select:none!important;-moz-user-select:none!important;-ms-user-select:none!important;user-select:none!important;height:255px!important;width:320px!important;background-color:#fff;position:relative;border:0!important;padding:0!important;margin:0!important}#letyshops-notify .letyshops-notify-logo{width:50px!important;height:50px!important;float:left;margin:0!important;background:#81c784;background-repeat:no-repeat!important;background-position:center center!important;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAlCAYAAABVjVnMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA39pVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDE0IDc5LjE1MTQ4MSwgMjAxMy8wMy8xMy0xMjowOToxNSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDplZWU2OTQxYS02NDliLWFlNGUtOGIxNy1mOTRjYjRkNjNiMjQiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MkYyMjE5NTJGQTQ0MTFFNUI5Q0ZCMUFDNTJFRjAzNEYiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MkYyMjE5NTFGQTQ0MTFFNUI5Q0ZCMUFDNTJFRjAzNEYiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOmFhNzgzMWE3LTdiNzYtZGY0Zi1hMzFiLTA0OGFjZGJlMGM4OCIgc3RSZWY6ZG9jdW1lbnRJRD0iYWRvYmU6ZG9jaWQ6cGhvdG9zaG9wOjEyMmMxMmIxLWQ2MzAtMTFlNS1iZTJkLWM4OTU1MjQ0NGVmNiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PkVmrsgAAAKNSURBVHjaxNhLaBNBHMfxbFpqqe9KJaD4ahGspVhRkPoCQSOCWMX6OFlvFgS91cfJiwfxYhFEEREFQTz0IYgKihfFi4IVC8ViQEsPEpHWg1o163fwHxim2exMslkHPmw2mc1vd2d2ZhLP9/3E/yjVsr2BOXiKfoxXPFldMZZi0v9XfuM+9iApn0dO3znqTy/D2BdhYD2azGDlql+4DCJVYpiHLTiJ9kJXrFRhICB8HJssw1QTbUYvnuOwnEAiKFiZgf6A8B/S9sVCu5HBN5zF+rA21q3Fq4DwX+gIOK5L66A3cQCPXIKv+MXLT2wrcNwQRtCAlXLVD12CZ+FdSPiXfA/VmmgKG2X/tNQbcwlWFuN9SPhrCVT123BdO/6uVq/J/P5kkbFlDO14UKROGy7K60ac0j5r0F6vMw9MhgxsrfKFQeUxJrAMfchiBW5jq1ZvftCQGWSmDJ9mUcPrEbQY9TulQ5ll2lPgWcxOHjpxCAvxGS9xDxmt3i4Moso4/jtSmHS5YlsLkDWu8hMmcMa1V7u4YITmsBeXzKEyquBG1OGrFvoHx8Om1GSJ0/gqDMhTodp2nrw/ip24jJzNQsDFDunV+Xn6GkZl2qspZSFgY7WEPpH9ajSXslJxudXqsbqF2ahFt7w/HHpby7zVaa0D9US55gpzR0KfRfEI2t7q3TJyqfImitWtTXANeqWNEzIpxBK8X2Yf/URiCU4b+6m4gptlm9Pm6FiC62WrpsEprMGSOIKzss3IMkd1soNxBA/Jdi7OyS/KE6irdHCfbJfLrVbP9AucLyfYZumjTu4tFkl75ztZBz5od6QiY/UGWayno/rJajtkqsVdF45F9YeA5/gfyHZ8xEi5wX8FGACtjQcdynLg2gAAAABJRU5ErkJggg==)!important;background-size:35px!important}#letyshops-notify .letyshops-notify-content{width:250px!important;height:inherit!important;float:right}#letyshops-notify .letyshops-notify-content .letyshops-notify-content-name{font-family:Roboto,sans-serif!important;font-weight:500!important;font-size:14.5px!important;line-height:14.5px!important;color:#263238!important;letter-spacing:normal!important;text-transform:none;width:inherit!important;height:24px!important;display:block!important;padding:10px 8px 0 8px!important;margin:0!important;box-sizing:border-box!important}#letyshops-notify .letyshops-notify-content .letyshops-notify-content-msg{font-family:Roboto,sans-serif!important;font-weight:400!important;font-size:13px!important;line-height:14px!important;color:#263238!important;letter-spacing:normal!important;text-transform:none;width:inherit!important;height:inherit!important;display:block!important;margin:0!important;padding:6px 8px 0 8px!important;box-sizing:border-box!important;overflow:hidden;text-overflow:ellipsis}#letyshops-notify .letyshops-notify-close{position:absolute!important;height:12px!important;width:12px!important;top:2px!important;right:5px!important;cursor:pointer!important}#letyshops-notify .letyshops-notify-close i{font-family:'Material Icons'!important;font-weight:500!important;font-style:normal!important;font-size:14px!important;display:inline-block!important;line-height:1!important;text-transform:none!important;letter-spacing:normal!important;word-wrap:normal!important;white-space:nowrap!important;direction:ltr;-webkit-font-smoothing:antialiased;text-rendering:optimizeLegibility;-moz-osx-font-smoothing:grayscale;font-feature-settings:'liga';color:#b0bec5!important}.letyshops-check-svg{padding:4px 10px 0 0}.letyshops-check-circle{font-family:"Material Icons";font-style:normal!important;font-size:35px!important;-webkit-font-smoothing:antialiased;color:#fff!important;user-select:none!important;transition:all .3s ease;vertical-align:middle!important;text-align:-webkit-center!important;text-shadow:0 0 5px #77ca77;cursor:default!important;margin-right:10px;margin-top:-1px!important}.letyshops-item-logo-settings{display:flex}.letyshops-header-info-notification i{margin-left:25px;position:absolute;font-family:"Material Icons";font-weight:400!important;font-style:normal!important;font-size:16px!important;line-height:1;cursor:pointer!important;color:#e0e0e0!important;top:5px!important;right:5px!important}.letyshops-notification-button-wrapper-price{display:flex;align-items:center;background-color:#fff;height:80px!important;width:inherit!important;box-sizing:border-box!important;-moz-box-sizing:border-box!important;-webkit-box-sizing:border-box!important;justify-content:center!important;font-family:"Open Sans",Aria,Helvetica,sans-serif!important;font-weight:400!important;font-size:16px!important;color:#00c853!important}.letyshops-notification-activate-price{box-shadow:1px 1px 3px 0 rgba(0,0,0,.4)!important;-webkit-box-shadow:1px 1px 3px 0 rgba(0,0,0,.4)!important;-moz-box-shadow:1px 1px 3px 0 rgba(0,0,0,.4)!important;width:275px!important;height:50px!important;position:relative!important;margin-left:auto!important;margin-right:auto!important;text-align:center!important;text-align:-webkit-center!important;border:none!important;border-radius:0!important;overflow:hidden!important;cursor:pointer!important}.letyshops-notification-shell-button-price{display:inline-block!important;-webkit-transition:all .5s ease;-moz-transition:all .5s ease;-o-transition:all .5s ease;transition:all .5s ease;width:inherit!important;height:inherit!important;margin:0!important;padding:0!important;vertical-align:top!important}.letyshops-notification-shell-button-price a{width:inherit!important;height:inherit!important;margin:0!important;padding:0!important;text-decoration:none!important}.letyshops-notification-shell-button-price a button{font-family:Roboto,sans-serif!important;font-weight:500!important;font-size:15px!important;line-height:15px!important;color:#fff!important;letter-spacing:normal!important;text-transform:none;width:inherit!important;height:inherit!important;background-color:#00b0ff!important;border:0!important;cursor:pointer!important;text-align:center!important}.letyshops-popup{box-shadow:0 1px 10px 0 rgba(0,0,0,.24);position:absolute;top:65px;left:0;right:0;z-index:2;display:none;border-radius:0 0 4px 4px;background-color:#fff}.letyshops-popup .letyshops-saler-no-rating{position:absolute;top:8px;left:8px;color:#f2f5f6;font-size:19px;line-height:1;text-decoration:none}.letyshops-popup .letyshops-saler-rating-tooltip{position:absolute;left:28px;top:-11px;z-index:1;width:275.3px;background-color:rgba(33,33,33,.95);padding:14px 20px;font-size:11px;text-align:left;color:#fff;line-height:1.4;font-family:'Open Sans',Arial;border-radius:3px;opacity:0;visibility:hidden;transition:all .2s ease}.letyshops-popup .letyshops-saler-rating-tooltip:before{display:block;content:'';width:0;height:0;border-width:7px 8px;border-color:transparent;border-right-color:rgba(33,33,33,.95);position:absolute;border-style:solid;top:12px;left:-16px}.letyshops-popup .letyshops-saler-rating{position:absolute;top:18px;left:18px;color:#f2f5f6;font-size:19px;line-height:1;text-decoration:none;cursor:pointer}.letyshops-popup .letyshops-saler-rating svg{fill:#9e9e9e}.letyshops-popup .letyshops-saler-rating:hover svg{fill:#1eb1fc}.letyshops-popup .letyshops-saler-rating:hover .letyshops-saler-rating-tooltip{opacity:1;visibility:visible}.letyshops-wrap{box-shadow:0 1px 10px 0 rgba(0,0,0,.24);display:flex;align-items:center;width:100%;background-color:#fff;border-radius:4px;position:relative;height:64px}.letyshops-wrap .letyshops-item.text-r{text-align:right;padding:0 12px;height:64px;align-items:center;display:flex;margin-left:-2px;background:#fafafa}.letyshops-wrap .letyshops-item{display:block}.letyshops-wrap .letyshops-logo{width:40px;height:64px;text-align:center;border-radius:0 4px 4px 0;background-color:#f6f6f6;background-image:linear-gradient(to bottom,#fafafa,#eee);background-repeat:repeat-x;display:flex;align-items:center;justify-content:center}.letyshops-wrap .full-letyshops-item-logo{width:120px}[class*=" letyshops-i-"]{display:inline-block;vertical-align:middle;background-image:url(data:image/png;base64,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);background-size:100px 91px;background-repeat:no-repeat}[class^=letyshops-i-]{display:inline-block;vertical-align:middle;background-image:url(data:image/png;base64,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);background-size:100px 91px;background-repeat:no-repeat}.letyshops-i-logo{width:22px;height:39px;background-position:0 0}.letyshops-i-collapse{width:24px;height:24px;background-position:0 -41px}.letyshops-i-arrow-up{width:21px;height:24px;background-position:-52px -41px}.letyshops-i-favourites{width:24px;height:24px;background-position:-76px 0}.letyshops-i-good-saller{width:24px;height:27px;background-position:0 -67px}.letyshops-i-stranger-saller{width:24px;height:27px;background-position:-24px 0}.letyshops-i-bad-saller{width:24px;height:27px;background-position:-50px 0}.letyshops-i-good-saller-small{width:17px;height:19px;background-position:-62px -67px}.letyshops-i-stranger-saller-small{width:17px;height:19px;background-position:-44px -67px}.letyshops-i-bad-saller-small{width:17px;height:19px;background-position:-26px -67px}.active .letyshops-i-favourites{width:24px;height:24px;background-position:-26px -41px}.letyshops-i-favourites-added{width:24px;height:24px;background-position:-26px -41px}.letyshops-i-price-slow-down{width:24px;height:24px;background-position:-76px -26px}.letyshops-і-price{width:16px;height:16px;margin:0 8px 0 0}.letyshops-layer{width:7px;height:17px;font-family:OpenSans;font-size:12px;font-weight:800;text-align:center;color:#333}.letyshops-pm{top:15px;right:15px;font-size:10px;font-family:"Open Sans",Aria,Helvetica,sans-serif;font-weight:400;line-height:1.2;color:#333;height:64px}.letyshops-pm *{box-sizing:border-box}.letyshops-pm:not(.letyshops-open) .letyshops-popup{display:none}.letyshops-pm.letyshops-open .letyshops-wrap .letyshops-item--sections{display:flex;height:64px;align-items:center}.letyshops-btn-favourites{display:inline-block;margin:0 16px 0 14px;cursor:pointer}.letyshops-btn-favourites span{display:none}.letyshops-show-area{background-color:#eee;display:block;width:20px;position:absolute;margin-top:-12px;top:50%;left:-19px;text-align:center;height:24px;border-radius:4px;cursor:pointer}.letyshops-show-area i{-ms-transform:rotate(-90deg);transform:rotate(-90deg);margin-left:-2px}.letyshops-saller-info{text-align:center;padding:3px 12px;border-right:solid 1px #eee;position:relative;line-height:1.4;display:flex;cursor:pointer;align-items:center}.letyshops-saller-info .letyshops-desc{padding-top:2px;display:none}.letyshops-saller-info [class*=" letyshops-i-"]{margin-top:-4px}.letyshops-saller-info--top{display:flex;justify-content:center}.letyshops-num{font-size:12px;font-weight:800;color:#333}.letyshops-open .letyshops-show-area i{-ms-transform:rotate(90deg);transform:rotate(90deg)}.letyshops-open .letyshops-btn-favourites{display:inline-block;border-radius:4px;border:1px solid #b96bc6;font-weight:600;text-align:left;color:#333;padding:7px 10px;line-height:1.1;text-decoration:none;margin:0 12px;width:142px;cursor:pointer}.letyshops-open .letyshops-btn-favourites i{float:left}.letyshops-open .letyshops-btn-favourites span{display:block;margin-left:33px;padding-top:2px}.letyshops-open .letyshops-btn-favourites:hover{background-color:#f5ccfc}.letyshops-open .letyshops-saller-info.active:before{display:block;content:'';height:2px;width:100%;background:#1eb1fc;position:absolute;left:0;bottom:-17px;box-sizing:content-box;margin-left:0}.letyshops-open .letyshops-saller-info{display:block;padding:0 12px;position:relative;min-width:105px}.letyshops-open .letyshops-saller-info .letyshops-desc{display:block}.letyshops-open .letyshops-saller-info .letyshops-link-popup{position:absolute;top:0;left:0;right:0;bottom:-17px}.letyshops-open .letyshops-saller-info .letyshops-link-popup.active{border-bottom:3px solid #1eb1fc}.letyshops-popup.letyshops-popup-open{z-index:2147483646!important;display:block}.letyshops-order{text-align:center;color:#9e9e9e;display:table;margin-left:75px;line-height:1.2}.letyshops-order span{display:table-cell;vertical-align:middle;padding:20px 5px}.letyshops-order i{float:right}.letyshops-popup-close{position:absolute;top:8px;right:8px;color:#9e9e9e;font-size:19px;line-height:1;text-decoration:none;cursor:pointer}.letyshops-popup-close:hover{color:#f44336;text-decoration:none}.letyshops-price-dynamics{background-color:#fafafa;padding:18px 27px}.letyshops-price-dynamics .letyshops-price{font-size:18px;font-weight:800;line-height:.89;color:#333;padding-right:15px}.letyshops-schedule{padding:15px 20px}.letyshops-max-min-price{font-weight:400;display:flex;align-items:baseline;justify-content:center;padding:0 0 5px 0}.letyshops-max-min-price .letyshops-max{color:#f44336;font-size:12px;padding:0 0 0 5px}.letyshops-max-min-price .letyshops-min{color:#00c853;font-size:12px;padding:0 10px 0 5px}.letyshops-max-min-price .letyshops-interval{font-size:9px;color:#9e9e9e}.letyshops-interval-down{color:#9e9e9e;display:block;text-align:center;font-size:10px}.letyshops-item-one{font-size:12px;font-weight:600;line-height:1.2;color:#f44336;padding:5px 0 25px 0;font-family:"Open Sans",Aria,Helvetica,sans-serif}.letyshops-item-one-text{padding:0 0 5px}.letyshops-url-item-one{text-decoration:underline;color:#00b0ff}.letyshops-url-item-one:hover{text-decoration:none;color:#00b0ff}.letyshops-text-info{padding-top:10px;font-family:'Open Sans',sans-serif;font-size:12px;font-weight:600;font-style:normal;font-stretch:normal;line-height:1;letter-spacing:normal;text-align:left;color:#333}.letyshops-infopuls-saller{display:table;width:100%;padding:25px;border-bottom:1px dashed #e0e0e0}.letyshops-infopuls-item{display:table-cell;vertical-align:middle;font-size:12px;font-weight:600;line-height:1.33;position:relative}.letyshops-infopuls-item [class*=" letyshops-i-"]{position:absolute;top:25px;left:37px}.letyshops-infopuls-item [class^=letyshops-i-]{position:absolute;top:25px;left:37px}.letyshops-infopuls-item .letyshops-oval{width:80px;height:80px;background-color:#fff;border:solid 4px #f2f5f6;border-radius:50%}.letyshops-infopuls-item .letyshops-oval .letyshops-no-info-saler-logo{width:36px;height:36px;object-fit:contain;padding:25% 0 0 25%}.letyshops-list-characteristics{list-style:none;font-size:11px;font-weight:600;line-height:1.09;padding:24px 32px;margin:0}.letyshops-list-characteristics li{padding-bottom:15px;position:relative}.letyshops-list-characteristics .oval-bad-saller:after{display:inline-block;border-radius:50%;position:absolute;content:"";width:4px;height:4px;top:4px;left:-16px;background-color:#f44336}.letyshops-list-characteristics .oval-bad-saller:before{display:inline-block;border-radius:50%;position:absolute;content:"";width:12px;height:12px;opacity:.2;left:-20px;top:0;background-color:#f44336}.letyshops-list-characteristics .oval-good-saller:after{display:inline-block;border-radius:50%;position:absolute;content:"";width:4px;height:4px;top:4px;left:-16px;background-color:#00c853}.letyshops-list-characteristics .oval-good-saller:before{display:inline-block;border-radius:50%;position:absolute;content:"";width:12px;height:12px;opacity:.2;left:-20px;top:0;background-color:#00c853}.letyshops-list-characteristics .oval-stranger-saller:after{display:inline-block;border-radius:50%;position:absolute;content:"";width:4px;height:4px;top:4px;left:-16px;background-color:#fc0}.letyshops-list-characteristics .oval-stranger-saller:before{display:inline-block;border-radius:50%;position:absolute;content:"";width:12px;height:12px;opacity:.2;left:-20px;top:0;background-color:#fc0}.letyshops-list-characteristics .oval-saller:after{display:inline-block;border-radius:50%;position:absolute;content:"";width:4px;height:4px;top:4px;left:-16px}.letyshops-list-characteristics .oval-saller:before{display:inline-block;border-radius:50%;position:absolute;content:"";width:12px;height:12px;opacity:.2;left:-20px;top:0}.letyshops-progress-radial{width:80px;height:80px;border:4px solid #f2f5f6;border-radius:50%;margin-right:15px;padding-top:15px;text-align:center;font-size:16px;font-weight:600;line-height:1;color:#00c853}.letyshops-progress-radial .letyshops-overlay{padding-top:5px}.letyshops-circliful{margin:auto;position:relative}.letyshops-circle-info{width:100%;position:absolute;text-align:center;display:inline-block;color:#999}.letyshops-circle-info-half{width:100%;position:absolute;text-align:center;display:inline-block;color:#999}.letyshops-circle-text{width:100%;position:absolute;text-align:center;display:inline-block;line-height:125px!important}.letyshops-circle-text-half{width:100%;position:absolute;text-align:center;display:inline-block}.letyshops-progress{margin-right:10px}.letyshops-progress.good-saller{color:#1ade5f}.letyshops-progress.stranger-saller{color:#ffb200}.letyshops-progress.bad-saller{color:#f44336}.letyshops-item-logo{width:100px;height:15px;object-fit:contain}.letyshops-item-text{width:120px;height:20px;font-size:10px;font-style:italic;line-height:1;text-align:left;color:#333}.letyshops-item-logo-active{display:none}.letyshops-price-dynamics__top{display:flex}.letyshops-notification-search{display:inline-flex}.letyshops-notification-search__icon{width:18px;min-width:18px;margin-right:4px}.letyshops-notification-search__info{flex-grow:1;font-size:14px;font-weight:600;line-height:1.29;color:#df1f00;text-decoration:none!important}.letyshops-confirm-delivery{display:inline-flex;align-items:center;width:140px;border-radius:2px;border:solid 1px #fc0;background-color:#fff;margin:10px 0 15px;padding:4px;animation:expand .5s ease-in-out}.letyshops-confirm-delivery__text{font-family:"Open Sans",serif;font-size:9px;color:#121212;cursor:default}.letyshops-confirm-delivery__logo{height:32px;margin-right:7px}.letyshops-notification-search-tooltip{-moz-user-select:none;-khtml-user-select:none;user-select:none;-webkit-tap-highlight-color:transparent}.letyshops-notification-search-tooltip .letyshops-notification-search-close{-webkit-transition:all .5s ease;-moz-transition:all .5s ease;-o-transition:all .5s ease;transition:all .5s ease;position:absolute!important;height:8px!important;width:8px!important;top:5px!important;right:10px!important;cursor:pointer!important}.letyshops-notification-search-tooltip .letyshops-notification-search-close i{font-family:'Material Icons'!important;font-weight:400!important;font-style:normal!important;font-size:12px!important;display:inline-block!important;line-height:1!important;text-transform:none!important;letter-spacing:normal!important;word-wrap:normal!important;white-space:nowrap!important;direction:ltr;-webkit-font-smoothing:antialiased;text-rendering:optimizeLegibility;-moz-osx-font-smoothing:grayscale;font-feature-settings:'liga';color:#fff!important}.letyshops-notification-search-tooltip__body{font-size:12px;position:absolute;left:135px;top:-50px;margin-top:12px;background:#4a4a4a;padding:12px 16px;line-height:1.2;border-radius:4px;transform:translateX(-50%);transition:all .2s ease;opacity:0;visibility:hidden;z-index:2147483647!important;color:#fff;width:275px;box-shadow:0 8px 8px 0 rgba(0,0,0,.12);text-align:left}.letyshops-notification-search-tooltip__body:before{display:block;content:'';width:0;height:0;border-width:5px;border-style:solid;border-color:transparent;border-top-color:#4a4a4a;position:absolute;transform:translateX(-50%);left:55px;bottom:-10px}.letyshops-notification-search-tooltip__body .letyshops-notification-search-tooltip__close{position:absolute;right:8px;top:5px;transirion:all .2s ease-out}.letyshops-notification-search-tooltip__body .letyshops-notification-search-tooltip__close:hover{transform:rotate(90deg)}.letyshops-notification-search-tooltip--active .letyshops-notification-search-tooltip__body,.letyshops-notification-search-tooltip:hover .letyshops-notification-search-tooltip__body{opacity:1;visibility:visible;margin-top:5px}@media only screen and (-Webkit-min-device-pixel-ratio:1.5){[class*=" letyshops-i-"]{background-image:url(data:image/png;base64,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)}[class^=letyshops-i-]{background-image:url(data:image/png;base64,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)}}@media only screen and (-moz-min-device-pixel-ratio:1.5){[class*=" letyshops-i-"]{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAAC2CAYAAACccMIvAAAtIElEQVR4AezBC6DWBX0w/s/395wL5xxuIqJ4QbMsFS+tCEEtNQ9gm5YuzGXNVW/5bku7b/1ty2Fvr3vXfanvu6jWWuVWtqywJXjM1BQkW6FJF9OEVAgEuZ3r8zy/7/8gh2nG5QAHozqfT9jLxo4de3hftfcheyjCv3Vu6r7Qbshv2qKOxNm4xWi9DlE6VjpWOhqHYhzGSqPQbIteYSPWYS0eFn4sLFVYqtkjzrDBDQhUPCFe5jciZ85s686NM8ssX4KJMieKmBhpon4ZVshcIWIFVhRR3NYSoxbEggWdhv2KsJe1jmo9W5nz7KEoivd0buz8e7sgb7BFN8Yp9GhRGovxwkE4VDoch+EgjEEzmqRmVGxRF3rRh16sx0r8QliGh6WVeExhnRG6rVVq8YQ4216XZ565f1dl47lK58poTznCLgjRI7JD4aut9VFfjZtvXmOYBntZiONT2lMp77W7JgqbNEuH4oU4UelYHII2NKAXncI6dAp9qNuigia0SaNxOJ6LmtSJR4SlWCJ9T9VyE/VYJ+1lef7pI7se73lXV256Z9aN9IS0q1KOkM5Wd3aXTR/rbJ/24db9Rnworvv2JntRx9u/e2S9Wj8rZDueJ00gR4p4MPkR8a2m8Qf+8xlzntVjF9w95+7WNWuqb4x0emYeKxwRrEmxMlhSKL4+dnxlwZQ5U7rsQNjL2ka2XJvp1fZQU2PzEevWrVtmEHKeLQqF1IrxOEKajKl4nnQQGrAea7EKq4U1WI8uVG3RiFaMkfbHAZiAcRiDmrASP8Fi4T48hMeELqVSvzjHkMmLL27s+vmSizNdLnOCXxP3ROFrEZZGFitC+Wjz2JYV+vWu656YioMzyomZjs3SK8gTPF3Eqgjva33WiXNj7tyqIdRx6aJj65mXR3pVyrBDsTKK+NAh+4+6avKcyX124M6339nSWS3eWirfIR1gByKsE8X7D9l/1FWT50zusw1hL2sb2XpvZh5nD0TYuGlj15iISIOQ82xRaJUmYYo0AydIB6BPWI6fYqm0DI9ho9CHKuoobVGggkapCaMwXjgcx+K50iQ0Catxj3AT7haWK3XpF+cYEt1nTTuiXs2vkSf4VfcVRXymyMbrR3R850G7oKf91CPLqJ5Xlvl6TPYUIZYUjXFuy42LHjIEFlyy6K2Z5YdRsSvCwpaGple+5GNTVtiGb11614m1svy3lMfYJfEzlYbzZn38RT/0NGEveuELX9j4ox8v7USjPRHu7NrUfYqdyBtskRoxCocLL5Sm4xSMl1YJ9+MHwr1YKj2s2UY9UtixxAih1yjhUBwrHY/nS0cJE/AY7hAWSt/DMmwUqvrF2XZb98yTX1Iva1+WDjAgIh5V5OWtYw7/l7juuro9kOefX+lav+x1ynhfZh5sq7C6UjTMbllw5212U87JYsHqhZ/EGwwIkbghCvNC3NHaUK4cM2bMphVrNj6nLPOcjHyddLStwopKVl7Zfs1JCz3FTZcsvLSUH5SaDYiIn0fkRyoNDbccOKbt/lWdneP6+uqHF3VnlZmvxvNsFbEhIs6fedW0BZ4i7EVtbW0npHKJPRXxia5NXX9uJ/IGW6T9MBnT0Y6jUOABoQP/hUewFhvQra4uEHYskaiooAWjMQ6H4AVSO56NEvejAwtxn/C4fnG23dLZPu1NsrwmadQvRA3va22d8OGYN6/LEMpzzmnt6lr1TlyeskG/oCqKN7d1LPqk3TD/kjs/KL3LVuH2SqW4pP0fp91jOzIzbn7LogvL0sdSjrdZRB9x6ayrp83NzFjwlrs+oizfZkCwSeFdjftP//QZc6JmG/JLWem4fdHFmXllprH6RailyqxZV5/0LQPCXtTW1vaaVH7eHioiLtm0qesa25HzUaKughbpKLTjVJyAwA+F7wgdWvzIGTp9wxbpCXGOQcl5tghb/BFu0abbMVK7dCqOQ+IefAcdwv3oVlFXELMMWmf7tDdllnNtFdZUKnF+y/y7brEXdc866Yx6Pa+T9jcgori4rWPRJ+2Cmy6986Ky9Fn/Lf5f0wHT3nLGnKgZhFv+avFB1e76lzPzFFuFucRImRfaKiysNDa+tv2jL3rQIHzrrd99XrVe/Yb0bFs8HpXipJkfn3a/foW9qjzekCjuNTgtOEx4IdpxAjbhDuFa4Xrhfi26fdHQ+SJadAv3C9cL1+IObMIJaBdeiMPQYhd1zzz5JbK8xn+LpQ2aprbMv+sWe1nL/LtuadA0lVhqqyyv6Z419cUG6c633zkuy/i4ARHx77Oumf6XZ8yJmkE644NTVx4yfvRLiS/YKl0s80IDIlx36Pgxp7d/9EUPGqSX/uOLfmJE28nEQ7bYT738UmaGfg2GwKpbTh9Z5qrJjY0mldXyMJVilMzWLy3YNPvhx2q6uuoefaz06Oqany6r6uwu7YqiKH5oR1rQo1A3Hi+UpuMoBO7BzcKdlnvIJGzEeKLdbolz/IrswEaltN5y603SK42wxSk4Spou9KBbRZcRSoPQfda0I+q12pfR6AmxtC1GnRwdHes9Q0Z0fOfBbG8/uTM33kkemzTW6/6j+6xpU1tuXPSQndhUjXenHGOLn4wb3/g/7IbJcyb3Zeaf3vSWheuy9Ga/Iv7fjPHTLok5UdpFsz504qqbLrnz5SkWZmZb8vyOSxe+GteG3bT6O39wsFrPa8jzpRckFYOQyX0P9PrmHV2+ckunFY/V7Vg80tXZdagdyA6FmhFqpkqvx0kYgR8K1wp3YJVNuo1EIwqi3ZDIDpSoYhNGasEE6RTpQhyHHtwlfEaDxRr0RLvSDuTFFzd2PrDkbvIEm4U1DZqmjuj4zoN+A3raTz2ypm+xtL9+IZa0PvvEF8XcuVXbccuc+0b2rd7wS7JVv+CPZ15z8vX20PxL7vyg9C79Qnx85jXT32oP3XTJwr8rM+d4Qvxs5tXTnluxi9bedtwJ7/qz/T+urH4q00wcgsIgRTBhXINTnt/ijeeOdsyzmixbUbNqbd22hLizWq1+wXbkPJRalQ6TpuFlmIgfCd8WvuUhDxir5rnEKVzxOa74V0Pmin/lis9xxbXMuQLr1Dxkvf30oQ374Ui04GFpjbruOa9XveJztuuvxzX8hczX6xeiVmmIl7fctPD7fkPe/+Dyx9971KHfVcZrUOCg2vpf/vLKBx/5ru14zeTX/hFeq19E3DvzmpPfagh8fvGnb7ropDc144ezrpl+qSHwhj98x/fKrr6L0Ypxy258+D8Lg7Txtj84YNUtx/xLvaz9IDNflakwBGZNbzXvYxN9/K8OMGG/il+X99qZ0ljphZgqHSCtEjoUOhRWGueZNw6FlQodQoe0SjoAU6UXKo21A3n+6SMzXe5J72uZf9ctfsNa5t91C95nQKbL8/zTR9qO5GwDgv8whGZePe09s66Z/peGyBlzJm/KyK8YUE9nNxiEx759zHk9Zc+nyf0y7RUvP63VS180wmVXrzHvti7/rVLca8caMB7Px/PQJ9yP/9Lsx5p1OZ441H/LeX5dgQqCmGWb8gZbpG2Kc4jJnpAP4yEb9fqxbvsL06Tj8TysxH0qfomabeh6vOddMifoFxGPtrZM+LB9RGvrhA93da/688w8WOaErsd73oU5tiXiRJk2iywW2MdVsjKvrn6xzdJphR3InFOs/vYxHykzv5KZ+9nLRrYWrvrrA1z55nEaG2xRuMeOjZQOko6VDhKW4wd4RINuo5R+U0YpNejGI/iBsFw6SDpWOEhqsw155pn7y3ynJ7035s3rso+IefO6FHm5rTLfmWeeub9tCDnRgDIal9nXNRVLDchwSGE78r7JTatv/eK/Z+bbDVZQqdDYSFMTTU00NlGpIAzaq2aOduPVzzKqtahNHD/xx3YkHCwchkPQiPuFe7BGn7o1xKGekAvIG23WiP1wCI7EYRit0KAibE8hhAZhNCbhSByCsWjMeeQNnhCHYg361LFGuAc/RQMOwaH6HGwbuiobz0050hb3tZ76sn+xj2kdc/i/4D79Uo7sqmw81zakGG/AuOPL1fZxraorDAhxUINtyDy/svrWH/67zPPsRBQ0NdLUTGMDwrYl1Sp9Vfp6ybRdtXoYM6rRdR+cVH/J637Ua8eOweEYiQ1Yih9ho+0biefhWTgA6/F96SGlLtRsS6qgDUfgDzAav8TP8VOss20b8SNMwqkYJR2htA4/8nSlcw0oFP8cc+aUBmFT+/RZRZTHFRlLRnQs6rALNrVPn1VEeVyRsWREx6IOOxHXXVfvmnHSZ8oyP2Sz0rn4tKeJzHXJBP02/tQYPGYI3Hzp3c+uldUb9WsoGs8686opDxgCvWPGVKxeb7OkXtiGx2774dUyz7MDEbS2st9Y2kbS2IiwfUFjE21t7LcfrW1EYZvqZWGz1uaiZueOxaEo8Jj0kPQIemIG8VJPFWgUDsRUnIl2vETp+aoO16fF9pRalY6QXoCXoB3teBEORAPCgHgpMcNmPdIj0kNYiwKHSsd6mpw5s01GuwFFNHzVIGxqn/oFWb+xLPNDtSxv6mw/6RMGaVP71C/I+o1lmR+qZXlTZ/tJnzAIRTZeb6uM9pw5s83TZMQKA7KvfoghUiv7XkU+h3xOrex7lSFSXbtxogHBysLTPHbrMRdlmX9uB5qaGDuWES0Iuy4YMYKxY2hq9mtq9bDZhs7aSjuTjsZB6MUqPIZOqe7XFWjFETgNM6Sp0oukFys9X2ms7UljpRdIL5FeJE2VZkinS5MwAuHpUh2deAy/RB8Okp7nabrLDbNSjvCEuGdEx3cetBOb2qfPki70FJl5cdeMaafYiU3t02dJF3qKzLy4a8a0U+zEiI7vPEjco1/KEd3lhlmeJtJPDKgqTzNUIpptFdFsiGQ60VaZvyg8xbrbjz+yLP1fO9DWxshRRGGPRcHIkbSNRPhv9TJstrEr/8vOHYox6MRqbERNSNvXioMxCQdiIg7AaDTYvkaMxgGYiANxOCYKLbYnJGrYiNXoxBgc5mlK+WIDovA1g1BEeZxtSOVxdqKI8jjbkMrjDEIUvmZAKV/saZL/NCAyX2EfF2X5cgOSmwtPUa3XriLbbEswchTNIwy55mZGjvKEMinLsFlnV3zZzo1Ds7BBWCP02b4SXcJ6rEdVIPQKq4RVQq/tCT3CKmGV0CcQeoR12IAepO0JfcIaYT2aMc6vyYMNiLDUIJRZ/NA2hOKHdqLM4oe2IRQ/NAgRlnrSRE/TUjT/p4jSZhlnLLjkrin2Ube88+7xybkGFOGGBgPW3DL5rHrW/9B2tLXR1GSvaWpk5EgeX1fYLCLz1e/+8XUX/n9hJ8ZiHTqxHtU4x/YkqsIvhcXSZmPwiLAED6HL9nXh5/gBxmAiHsd3hVVSzTbE2Z6Q81SxHp2YgLGeLh1kQKg8ahBGdiycv6l96rXShQZExNzWmxbdYSdGdiycv6l96rXShQZExNzWmxbdYRAiixXUPSFzoqd5yVUvWD3/kkWfJy9KGbL8QGaeGRFpkG6+9O5n18q+V4loNiA4PW0RnD7/koVzbJXZ21A0fenMq6Y8YBfUeqvvwSj9gh/MuPrkexsMqEf9vdI2NTfT3Gyva2qmKDyhr5ZlRKSdSaPQLfShC3U7U/gFviTdKo1GFx7CKnTavk34KdYJP0WLsF74pfCwmp2powt9UjNGebqIiTJtFllfYZBGdix+zaYzp3+uKMrJRcaSER2LOgzSyI7Fr9l05vTPFUU5uchYMqJjUYdBCuWjtoqYaBuaGvLv+mrxJzKbyDM6Ll10Oa4wSLWyeiOeI9NW6UmZeRpO8xS1svoGHGWQFlyy8JRMlxgQReVv9WvQb823j55eTyfbhqKgrc0zptIYikrq3lTfYHCaUUEdVZS2I2Z6Qr7Fejdb79/92KNa1RA6lep2rIq1GqxXelQDJuryh2peSvyrnSlRRR0VNHuaSBPTFs1jW1bYBSNvXngjbrQbRt688EbcaBc1j21ZUVvbZbNIE23DGR+b/tCCSxf9n8y8XL9Mf3fTJXfeP+Pqk6+1D7j1HYsP6+2r/0fKRv0i4tYZV530Df0K/cr0Z7ajtRXhGdPbF1pGlDZsqi+zt7wQb8GZaio6FTrdrW6wfqau0Kmi0wlq/gYvMWwHZnz8pDn4mn4pI/lsx5vvOtsgNBSNZ+E9Iq4QcYWIKyLiVgMi4lYRV4i4QsQVeE9D0XiWQbjlrxYf1NNb/1ZmHqhfhEdpvtCAhszzK4/d+sPzZXq6SoWmZs+ovmrIpLO7dqvB6UUdFTSisDMvRQ+ORpe6Ei8k/sgOxTmekN9Aqa6KW3EwRhiMAo2ooI5eT5NhhXSUfr3ruififvuw3nXdEw3IsMJ2RETeMue+11ZXr789eX6mhjLKL3Vcetes9qtOut0OnHnVlAfw955i/iUL5+A0/ZJvz7p6+hy76Pb/7579ujdtugnP0S/oqYTzzrzqBY8a0PDY7T85MTPH2YbmZs+oWi1kekJPX9/nDUbYiF40oRUV+64KWtEk9GKjp0srcZR+qTgY99tN+bKXNXf1rZsRUT4Hh+DAMq1VxApZrohK8cO2+Yv+yx5IxcHUPSFzhR04Y87kTR1vXXRWvV7eIT07M1tK9a93vHXRae3/OO0ez6D571rS1r2p8z8zHadfhFpGvOrMq6Yv9hQNRZYvrtu2pmbPqN5q2KwoMl/97l/cbXDWoQ9tGIPGnIcgzvYrcp4tfmDPlLYosQEbPCHneUKc41fkDUibNWIM2tCHdZ4ucoX0hIxyot3QO+uUybV67S2dfWtehbGZflWZNstaaVP7SfeHuDabRvzTyP/89kq7KKOcaKuIFXai/R+n/bLj7d+dWe+r3UEelGlsvV7eOP+Su06ZdfVJP/cMuG/OfU2PPLb+K5mm6Rcii/C69qumz/M0Ra1en2wbioKi8IyqVsNmvdWyavDWolcaLe0vNdlXpSZpf2kMerHWr4lHDch0rF2QM2e2dZ057R9qter3M/NijLUzmUdlln+nr/snXe1T355zTm+wCzId60krDEL7R1/0YGNRnBVivc3SRFkumP+uJRMMVmavrTJ7DVLOyeKR1Rs+l2mmARlxSftV079gGxqKwlGZfk1Dg2dctRo229RVX2vwHsY4HI4DMAoNUh3pVzVhJFrQiCo2CF1q6vl1hC3SrwpbJOpoUJFaMRqNqKIbm9DnqVKgglE4AG1YjTWephC3l/Jt+mXpFbjcIPTMmv6czvr6eeTRniLCg/hGhoellYUYJ2NiRvmszDiLHGWzzNElH+n6TverOme9+I/b5t++wiBk6RUGFFHcZpBeetVJSxZceucrpPlSM/kcPV3f/M5f//j0Uz9w9EY70VA0falWVt+gX0PR+CWDdNNji65J+SoDioi/nXH1tP9rOxowwTYUFc+4vqonbOyq/9hghR9LR+K5mIDxaBM6UfOrRuJ5mISxWI/7pGWabVSVBqNZqGnD4ZiMMViH5fgJ1nqqUJHaMB4HogkrhQc9TUsxen5XfX1PyhHkCT3tpx45ouM7D9qBrpnTT67Vy3kyx3nSbZUGf9syf/HttiPPn97Sva5+bpnmSM/VLzOnRb3v7k2zpv7hyPmLl9iBnvZTj6xl3wn6hehpiVEL7IKZV51864I33/nqjPiyzELmC7o6115/35z7/nDynMl9duDMq6Y8gKPsgvmXLHx/Zv65AUXER2dcPf1/24FCGGkbivCMyqRaC5t1dpcLDFZYiodRYn/hCOEQjMibyG95qmZMwNE4FTOlGdLpql6E5+FwTMR47If9MB4TcTiep+pF0unSDMzEqTgaE9BsQH6LvMlmI4RDhCMwDiUeFpZ6mliwoFNkhwFlVM+zA70zTz6uLMsbZI7TL0R3VLxx5M2LT2uZv/h2OxDXLexuvWnxv7Xtd/jxEeZEKPXLzIPVYn7PrOnPsQNlVM+zVWRHLFjQaRfNvObk6yPyLw1IznzksfWfzzlZGEI3vfnOt8n8GwNC/Ev7VdPeaScKqdE+oK8WNouQj3fGpw1WYanwEDZiNI7BMRhl2wKjpedJM/BGvAVvwGzMwEk4HsfgGByPkzADs/EGvAVvlGZIz8NohG0bhWNwDEZjo/CQwlLbUviqAWWZr8/zz6/Yhjz/9JG1sv51mfvZLGIVldPaFiz+tF0Q113X19ax+ApFcTax0RPywFq9nJevO32Ebcjzz6+UpTfYqvBVu2nmVSd/Ivg7AzKd3/HYoqsMkZsuvfOiFB/xpK/NOG3aGyMi7USRqdM2ZHpGVfsMyLzorx5YZbCaPIqH8QhqeK50AvbXpGJ/8mFb9WI1luEBrEYLno2pOB0zMAuzMBMzMQuzMAOnYyqejRasxgNYhtXo1S8fxv5oUsH+0gl4Lmp4BA9r8qhtaK2P+mqITbaY3LV+2etsQ9fj3f+Qmc/yhNgYirPabr7zu3ZT24JF36xEvDxEj80yj+5+uPt/2Yau9cteRx6rX4hNrfVRX7UHZl5z8vuI/2dAmfmXCy5Z9F576Ka3LHpFpk+nDP0i4tamAyb+Sbwq6gahiMJ621CWnlF91bBZd1/ZY1eETmmlsFRYKU3C83GImhYbFZ60CT/GN/FPwlXCV4R7BcJzcArOxqvwGrwGr8LZOEV4jkC4V/iKcBX+Cd/Ej7HJVhsValpwCJ4vTRJWCkullUKnbYibb14j4sO2KuN9ec45rZ6id9Ypk/E/DaiIv2jrWPh9e6ilY9G3Ffk2A1K+pfusaUd4ijznnFZlvM9WER+Om29eYw/NPGDaJcGXDcgs37fgzQvfaDd1vGXRGWVZfjFTg34Rvj864uVnzHlWj0EqMvPntqEsPaOqtbDZhk31lXZFXQ2PYQl+gibpKLxAr6NtNMrt5DdQ6MMa3C/cKXQI84Vv4S7cg5/hUaxDF7qwDo/iZ7gHdwnfEuYLHcKduB9rFPryG7gdG43S62i8QDoKTfgJluAxdTXb0brfiA+JWKVfZh7c1bXqnZ6iVtYuyMyKfhHmt9y86AuGSNtNiz8h3Kpfpqas5ys9RVfXqndm5sE2i1jVut+IDxkCMSfKZxUHvDYivm1Ayn+af+nCc+yiBZfcNaVeL78mNesXEffniLazpl01bYNdUFDcbxuqNaRnTF9f2Kyrq/wvu6qwTvgeFgurhQlSu1K70kHW2qLiSeNVhdX4PubhE/gH4Qrh/cJHhKuEq4SPCO8XrsA/4BOYh+8Lq41XtVXFFmtROkipXWoXJgirsVj4nsI6OxDXfXtThPd50uXds046w4CGLK4TVgcPFA3FnxtiDQ2N/zPEIyEeKRoqXzWge9ZJZ+ByAyK8L6779iZD5KirjuodHfEKEUtsUYn0xZvfsvhkg3TLJXcfLctvYpR+ER5tbDBz1odOXGUXxWO3HX9uWa9ebxtGjqap0V5X1lm+otFm9yztfu0fv+tnX7ALskOhZoSaqdLrcRJG4IfCtcIdWGWTbiPRgBrSkxI1LMdkzXqNkUbYLPRott59ek1CA8KTAg2oYRNGasEE6RTpQhyHHtwlfEaDxRr0RLvSDuTFFzd2PbDkuylPtFlY06Bp6oiO7zzoN6Cn/dQja/oWS/vrF2JJ67NPfFHMnVs1xG57290Te2rVOzLzWTaLWFs0OHXGx6b/yA7c+o7Fh/X01u8gD7NZxNrGxspLXvrRqffZDUVTc/X2CGkb+no8I3prYbOikOe98w/+3a5qUir04CHhJtyBEsdJf6R0Jg601haBwq8rcDCO0Cc8LqwSVgmPO0Kfg1H4dQXCFmttdqDSmdIf4TiUuEO4CQ8p9GhS2omYO7daNMa5wmqbpf1rWZ2X7e1jPMOyvX1MLavzpP1tFlYXjXFuzJ1btRe85GNTVihilrDaZpnjyqr5N7/9zkNsxy3vvHt8T19tAXmYfhHRWUT80Us/OvU+u6ny9596rPuvXndAOyZ5mnpJcxNR2Ku6ewrdPYWy3/7P/fYVdtGcP0EppRo6hcBB2B/7oQ09xuoTasao+qXUZIu0xTi0YhVKpVRDDaV1GIs29NgibLERExR6jDbGEdJJmIUT0IT7hfm4CyvRq84Vn7dT//tnD69773MOv0uWr0UFB1T1vfzyZz/rxvc/uPxxz4Ce9lOP7M3um8lj9QuqlUrD2S3zFy6xF33urk+tvWjqxbeEvBBNGJNlzLjojL+49nN3zO31FLfMuW9kdWPXTdIJNovoq2S8YsbV026zBwr9IvJztiXp6rbX9VXDZp095UZ7phu/kL6HDtyDkThFulA6TzpKtxYXGDoXoFuLdJR0nnQhTsFI3IMO6Xv4BbrtopYFd94mijf7b3lsTd/i7lknnWEv65510hk1fYvJY20VxZtbFtx5m2fAzKtPurtQ/HGIqn6ZeXx2Vr92/6X3Nxtw/6X3N1dXr/9qpik2iyhFvKb9mmk32UOh35pFJ40uezYsy8yxtmHUaBob7TUrVjXo7Qsr1vQuefGf/vT5dlPeYIu0HyZjOtpxFAo8IHTgv/AI1mIDutXVBcKOJRIVFbRgNMbhELxAasezUeJ+dGAh7hMe1y/Otls626e9SZbXJI36hajhfa2tEz4c8+Z1GUJ5zjmtXV2r3onLUzboF1RF8ea2jkWf9Ayb/+ZFfxLy2pRhs4j/2P/4xlfrt+be6r/JfKUBId4085rpnzIEKvp94FOP9L779QeMzPQS21CtMqKZCHvF2vUVkkfWVK+/9oa137Cb5lxoqzo2YK3wOGo4GEdKz8Gzsb/QjD6pxwh9agg71yLUjBQOwwukM3COdIbwbGzAbcJ83IGfYZNQ6nfFtXbLlQ8+/F/vPerwW1N5NtpQ4Ixarev1f/OcQ9b/7z9905Irvv3ttAdyzpzir5u63lCtdl2f8uUobBZWVyoNZ7fetPB6vwGf/+6nfnjRSW9cm7zMFsd2rypf3/PL8m3kSbYq/PWsq0++2hAJA9bdfvx+ffXqT6XxtqGhgVGjiTCkarXw8MoGEem2722a/vq/fWiRPZTzbFFolSZhijQDJ0gHoE9Yjp9iqbQMj2Gj0Icq6ihtUaCCRqkJozBeOBzH4rnSJDQJq3GPcBPuFpYrdekX5xgS3WdNO6Ks5ldTnuhX3Vco/rmIhq+O6PjOg3ZBT/upR5ZZO7dUvgGTPUWIJUVjnNty46KH/Ibd9OaF/6uUf2sbQlw585rpf2MIhadYdeuxb1CWn7YdDQ2MGkUUhkxnd2Htuoq+Pvm8c+4tDIGcZ4tCIbViPI6QJmMqnicdhAasx1qswmphDdajC1VbNKIVY6T9cQAmYBzGoCasxE+wWLgPD+ExoUup1C/OMWTy4osbu36+5OJMl8uc4NfEPVH4WoSlofJoZH1F89iWFfr1ruuemFGZmOoHZzo2S68gT/B0EasivK/1WSfOjblzq/YRCy6969Wy/GhmHugJsbIS3tZ+9fQvGmLhKTIzHrv12G9k5stsR1Fh5EgaGgyJdesr1jxe0d1X9j1/9g+bDaG8wRZjhU1GqJkkvRAnSsfiELShAb3oFDagE32o26KCJrRJo9GGZtTQiUeEpVgifE+D5UbqsU7qF2fba/L800d2Pd7zLpnvTDnSEAixScSHW/cb8aG47tub7KPmX3LXs/SbdfVJP7eXhKfZcMsLx/dG5/czHWp7ghEjaGkhwu5JurtZtaZRb7WwdkP1l6detPQgQyhvsEU3xin0aFEai/HCQThUOhyH4SCMQTOapGZUbFEXetGHXqzHSvxCWIaHpZV4TGGdEbqtVWrxhDjbXpdnnrl/V2XjuUrnymhPOcIuCNEjskPhq631UV+Nm29eY5iwDWtvO+6Eer12WzLGDkTBiGaaR1AUBqUs6e2hp4dMHt/UpF4Py1d033bWX/z0NHtBftMWdSTOxi1G63WI0rHSsdLROBTjMFYahWZb9AobsQ5r8bDwY2GpwlLNHnGGDW5AoOIJ8TK/ETlzZlt3uWFWKV+MiTInipgYaaJ+GVbIXCFiBVYU4vaWYvT8WLCg07BfEbZj7S2TT61H/T8zjTIIlQqNTVQqFAURnpBJ1qnVqdWo1fy3xJr1zTa79/5Nl1/wVw/8L8OG7UMK2zHujPu+k1GcRvzSINTr9HTTuYmNG9iwng3r2biBTZ309FCr+RX1emGzCNnXV/uUYcP2MYUdmHDa0u9XNE7BHfaCWj1sVpbpT/9m2QrDhu1jCjux/xn3PHyAg05XxN8K3YZQvfSEnr56t2HD9kEVg3DFZx8qP/gvj93+nj879AsZtQnBsSjsoZ7eBvUy/GRZ973XLVg717Bh+5iwG9bdcdyzq7X6JZ1d5f9oHRGj7Ia1G+p+9HOu/tJad93T9cpNm7q/YtiwfUzYA2NHt/zrCyeP+NOTTxxh6rEjPPuwBuPHVmzL2g11D/yiZvHSXguXdFt0b49a3RMaKo3P3bBhw/2GDdvHNNgD1Xoct/CeHgvv6bFVUdBQCZXCE+ol9Xqql7an+x3veMcDc+bMMWzYvqawm84///xKymM8TVnSV03dvam7N/VVU720A3HfnDlzSsOG7YMKu+nGG288CiPsoeBew4btowq7KbN2vCGR9xo2bB9V2G1xvCFR3GvYsH1UYTeVHG9o3GvYsH1Ug92Wx9tDEbG6c1PnLw37/ZbnV9zlPGKNaV+6xT6ksBsOPPDANulIeyzvMWzYXeWfUV5H/VsWz77SPqSwG7q7N0xG2GPFvYYNKyJtVeZlFs++0j6isBtqGccbAhl5r2HDinGfF3G9rcq8zOLZV9oHFHZDZBxvCDSEew0bNmVuVWXcBSKut1WZl1k8+0q/YYXdUh5vz5UjR469z7Bhm02ZW1UZd4GI621V5mUWz77Sb1DFbmhqavoQ2uyJ8MDaNY9/xLBhW839XunPT/2K7DkOx9gsvdjFk5t9cunNfgMKu6itre3AzDzAHot7DRv2dFPmVlXGXSDieluVeZnFs6/0G1DYdScYAgX3GjZsW6bMraqMu0DE9bYq8zKLZ1/pGVbYdccbEnmvYcO2Z8rcqsq4C0Rcb6syL7N49pWeQYVdlscbAhEN9xo2bEemzK2qjLtAxPW2KvMyi2df6RlS2EXJ8fZcz1lnnfUzw4btzJS5VZVxF4i43lZlXmbx7Cvtju9eeKS7LjjRIFXsgjlz5hR33Pmdj6LRHghxzw9+sOSfDBs2GHO/V/rzU78ie47DMTZLL3bx5GafXHqzwVp8/vNlfYks3+zi437sk0vvsxOFXfDhD3/4OWix5+41bNiumDK3qjLuAhHX26rMyyyefaXByjxJZqPNsjzVIBR2QWbteEMi7jVs2K6aMreqMu4CEdfbqszLLJ59pUHJsFVEGITCLonjDYUG9xo2bHdMmVtVGXeBiOttVeZlFs++0l7QYBeU4e6I4j32UIOG7xo2bHdNmVt198UXqK/9oszzbFbmZRbPZuqX32MINdgFXRu7bsANhg37TZsyt+ruiy9QX/tFmefZrMzLLJ7N1C+/xxApDBv222rK3KrKuAtEXG+rMi+zePaVhkhh2LDfZlPmVlXGXSDieluVeZnFs680BArDhv22mzK3qjLuAhHX26rMyyyefaU91JCZfptFhGG75he/+MXpZVlei1+0tLS8YsKECSv9tpsyt+ruiy9QX/tFmefZrMzLLJ7N1C+/x24qDPu98vDDDz+3Xq9fn5kTM3NqV1fXVzKz2e+CKXOrKuMuEHG9rcq8zOLZV9pNDX7PdLz9u0fWq/WzQrbjedIEcqSIB5MfEd9qGn/gP58x51k9dsHdc+5uXbOm+sZIp2fmscIRwZoUK4MlheLrY8dXFkyZM6XLb8jjjz8+dv369fMw1pOmL1++/J/wer8LpsytuvviC9TXflHmeTYr8zKLZ5O53C6KzPTbLCIMRseli46tZ14e6VUpww7FyijiQ4fsP+qqyXMm99mBO99+Z0tntXhrqXyHdIAdiLBOFO8/ZP9RV02eM7nPMygzK8uXL/9mZs6wRRWNBhRF8Y5JkyZ91O+Kuy9uVF/7RZnnedKPcbTNirjG1C9fYicKvwcWXLLorfWyvEfmBSnDTuVBWZYfevix9d++7W13T7Qd37r0rhM39cX3yiz/XjrATmQam2X5oYdXb7hv/lu+e5xn0PLlyz+amTP0i4isVCp/EhGfMCAzP7h8+fKZfldMmVtVGXeBiOs96Wi7KDLTb7OIsD05J4sFqxd+Em+wu8KKSlZe2X7NSQs9xU2XLLy0lB+Umu2OiA0Rcf7Mq6YtsJctW7bs4sz8hCe994gjjnh/ZjYuX768IzNfYot1lUpl6mGHHXa/fdn3LjhGvTxBZNiZejSS/4c82FMVcY2pX77ETlTmzJnjt9kVV1xhe04+btYH8GZ7ZlSGP/3TqW9a9fnFn/peZsbJa1/20cy8Ag12X3PIV7926sV3fH7xp35uL/nFL35xelmW/4aKLf79iCOOeKt+V1xxRfnud7/7G/V6/VUYixGZOeO9733v5z7wgQ/02hctfuVk9XKJzFdJs6XZ0mxptjRbmi3NlmZLs8nzMMrTRXzXJ5f+p50o/I666dI7L5LeZShkNsnyE/MvufMTCy5d9Hll+TZDIFODrH95wVsWHWUvWLZs2ZFlWX4ZjfpFxN2VSuUNnmLixImrK5XKyyOi0xZHb9y48d8ys7AvKuMQNNhzvzQIhd9Bd779znFZxscNtXSxzAsNrf3Uyy9lZhhCa9asGY15mbm/fhHxaES84rDDDuv2NIcddtg9RVFcFBFpiz9cvnz539sXTfvyAlG8U8QXhGuFa4VrhWuFa4VrhWuFa4VrhWuFa4VrhWuFa0V8wOjRHzMIDX4HbarGu1OO8VsieX7HpQtfjWsNgcwsli1b9m84Vr+I6I6IcydNmvSo7TjssMO+smzZsiswR7/M/OuHHnroniOOOOIL9jUnXfcRz5DC75hb5tw3MtMlfsuUGVdkZhgCy5Yt+wD+0ICIeMOkSZO+aycmTZr0voj4D0/61PLly1/k91jhd0x19foZZKvfOvmcb71l4YvsoeXLl78O7zSgKIr3T5o06d8NQkRkc3Pzn2GJLUZk5lcfeuihiX5PNdhFEWEwPvOZz7whM/9PRKyrVCpvuuiii241CJlpTyRn+y1VT2djsd20bNmyU8qy/IQnfeWwww673C446KCDOh999NFX9PX1fRcHZObBuD4zT4uIXr9nCnvBZz7zmUsz89M4IDOPqtfr3/zsZz/b7pkQcaLfVuk0u+nRRx+dlJlfQZMtfjBixIiLIiLtooMPPnhZURSvRNUWJy1fvnyu30OFIfaZz3zm0sz8uKfIzJayLL/+2c9+tt1eFnKifUCE5SHSLshwiN2wcuXKtr6+vq9jgi1+2dTU9IqDDjqo026aNGnS7RFxiQGZedFDDz30Lr9nCkPoM5/5zKWZ+XHbkJktZVl+/bOf/Wy7vSjFeL9BEWpFeM3Mq08+vFKpnGoXhDjILsrM6Onp+TxOtEUv/vjg//wsksYAACmSSURBVL89OAGssjzzPvz7P+97ThZAFBprUJbaqd8A1gVZAiKtlkUdRKwELVVDnIptFaujnU43Bbs5MzrtEOyCbWO0RSRaFWxdoFoVlQDiUoFWO5QESRQEgUCSs7zP/SUkaAxbgohiz3X16FHFe9S7d+9ZzrlbaSHpP9euXXsm/0AcB0hpaelUM5tBK5KStGJmOd77eWVlZSN5n8hsMx8QibRwF46aOWw2jY7q1mmZYBvtZBDRQZWVld8HxtNC0uV9+vR5hgOkZ8+eVwOP08jMXBRFc9atW/f/+AfhOABKS0unmtkMWpFU75z7F0lX0YqZ5Xjv55WVlY3kfWBSDR8AiTQwadTMgntpUf1m7b8ZdKadBK/TAVVVVV8AvkULSf/du3fvMg4gSekwDAslraZZ11QqNe+tt946nH8AjveotLR0qpnNoBVJ9c65cUVFRQuLi4tLJF1FK2aW472fV1ZWNpIDTMZf2X9/RTxLx0UOXTR65rByWjwy9dmrvPkf0RFma2mntWvXDvbe/5oWkn7fq1ev/+B9cMwxx2wExgG1NDtuy5Ytd5lZwEdcyHtQWlo61cxm0IqkeufcuKKiooW0KC4uLiktLcXMZtDCzHK89/PKysrGFRUVLeQAMfgDMJEOElo1amZBf0n2yJWLp8js54aJfYvkgotHlgy5mxYLpj5zpff2v3SQwR9ph7Vr1x7tvb8fyKaFpNcrKytvXrNmDW1Jer537953sg9mFl+7du1F3vvjacPMkPQXMxtEszMrKyv/E7iOjzDHfiotLZ1qZjNoRVK9c25cUVHRQtooLi4ukXQVrZhZjvd+XllZ2UgOkByX9QckT0eJ9ZKMRmNmFsyS43IhY28kHzgVjS4ZchctHrly8Ve9p4T94MSDtIP3/vtmlk8r3vt/Ba4BrgGuAa4BrgGuMbM7qqqqRrAPa9euvdR7/yvgGuAa4BrgGuAa4BozG8S7XVtdXd2XjzDHfigtLZ1qZjNoRVK9c25cUVHRQvaguLi4RNJVtGJmOd77eWVlZSM5AEaUDNgA+g0dZGafefTKxRfRYlTJ0NvkuFzI2B3Jy2nyyJKhv6XFo1c++2WZzWQ/CF4YNXPYn2mfrXRcPvtgZsPomGSjBj7CQjqotLT0UjObQSuS6p1z44qKihbSorS09FIzu0nS5iAILrvkkkueoFFxcXHJ7bffLu/9/9LCzHK89/NKS0vPABbzHsVDuyGZ1oWYxekAw8oevWqxRs8ouJNGo0qG3rZg6rPg9QvDxE6Sx7h09IyCO2nxyJWLp2D2U8PEfpALvkM79erV698rKyuXSMpj7y42swE0MrPt7IOZdecdcyRVsGfW6Kk+ffr8nY+wkA4ys5toRVK9c25cUVHRQlqUlpZONbMZNDKzvCiKHiorKxtXVFS0kEaTJ0+ecfvtt+O9/19amFmOpBuAs3iPTv/J0DWPTl18k5ldT0eYOfPcvmDqMxpVMuwOGo0qGXrbgqnPgtcvDJOQCX1p1K0FZbR49Ipnv4TZzw0T+0HSE6NKhvyedpKUAH7LPlRWVp4KDKBREATb2bfutJD0u969e5fzD87RQZI200JSvXNuXFFR0UJalJaWTjWzGbRiZjne+3llZWUjaTF58uQZzrmv8W6bOUBGzRgyDXiAjjJz3lT6yBXPFtFiVMnQ2+S4HIhMdtmomQWltFgwdfGlwCzDxH6QqIasSbw/cmhhZnXsg6TuvGMTGTg67hJJSyUtBcYUFRUtpEVpaelUM5vBbphZjvd+XllZ2UhaTJ48eYZzrghYJekRM/t3DhBJFs/repHgBTrKzCF+veDKxcW0GFUy9LaAoN+YmcN+RYtHpz472ZvdZpjYD4KGQJw3euaAat4HZpZLCzPbzr51p0UQBBvJIKSDiouLFwODaaO0tHSqmc2gFUlJM4vTwsxyvPfzysrKxhUVFS2k0eTJk+8A7qBFcXExB8rp0/pvW/i1xWdGkX8a45N0hJnz4pcLpi7WqJKCX9No5K1DXqHFgqnPXOKNX2Hm2A8SaZMmfq5k6BLeP4fTIjs7+032wsyCqqqqw2mRlZX1f2TgOABKS0unmtkMWpFU75z7F0lX0YqZ5Xjv55WVlY3kIBj5vwVvBLHYaNDrdJSZM2+/fPSKZ79EK49eufgibyrFzLEfhMxJk8eUDJ3P+0hSL5rVHnnkka+zF+vWrTvezEQjSdV5eXm1ZOB4j0pLS6ea2QxakVTvnBtXVFS0sLi4uETSVbRiZjne+3llZWUjOQhG/njQ6phzZwptoYMMEzDr0Sue/cZT//HSEY9eufhrhpVh5thPJl05smTob3kfvf76653MrDuNJL3KPnjvz+AdK8jYwfEelJaWTjWzGbQiqd45N66oqGghLYqLi0skXUUrZpbjvZ9XVlY2koPgjJIhL+LsXEEDHWSYDLupvnb7RjP/E8wc+8lJ3xkzs+CnvM9SqdQnaWFmr7APZvY5WpjZo2Ts4NhPpaWll5rZDFqRVO+cG1dUVLSQNoqLi0ucc1+jFTPL8d7PKy0tLeAgGF0y7AlgEpJnPxgm3gMn/XjUzKE/4CDw3g+hhaS/sBdmFprZCFrEYrH5ZOzg2E9mdhOtSKp3zo0rKipayB5Mnjx5hnPua7RiZjnADRwko28ddp9kX+UgE7p9ZEnBtRw8p9LCOfcn9mLdunWDgC40kvS3o48++q9k7ODYT5I200JSvXNuXFFR0UL2YfLkyTOcc1/j3bZwEI0uGfYLwQ0cPA+M+kzBlyQZB4GZycxOp5Gk7cccc8yz7IX3fhItzGw+GW9z7L9LJC2VtBQYU1RUtJB2mjx58gznXBGwStIjZvZ1DrLRtw67EfQz3meSnojn5V+oiYo4SF577bXPAL1oZGZPSkqyB+vWrevpvb+MFmEYzifjbSEdZGa0WAwMpsXkyZPpoDuAO2hRXFzMwTY6r+DKBRuezTOYwPtA4vnDpHEF0z7RwEHkvZ9MC+fcfPYinU5/B8ii2UtHH330E2S8zfEPTNPkP+HyLpL0Jw4wSa9adqczC0oKtnIQVVdX9zazL9BIUl3nzp1nswdr1qz5hJkV0yIIgm9I8mS8zfEP7lMln0ocJp2L9CIHiER1LGT0mJtPXM9Blk6nvwvEaWRmd3fr1m0LeyDpJiBGI0l/7Nmz58NkvIsjg4KSgq05YewsSX/nvZI2hbFw9Ok/GbqGg6yysvIUM5tMI0kWhuEM9qCysnK6mU2kkSRr9O9k7MKRscOInwyswWkMYgP7SdJ2J/3LGT8evIKDzMxC4BdmFtCs7JhjjnmB3aiqqvqymV1PCzMr7dOnz3IyduHIeNvoGQWviuBswTY6Sko603mjSgoW8wGorKy8ycxOoZGkbWb2LXajqqpqvJnNpIWkP/bu3fsrZOyWI+NdRs8csszhPi+Uor0kj/TFkbcWLOADUFlZWQRcSwtJl/Xp06eGVsxMVVVV/+a9n2tmAY0kPZebm3uepCQZu+XI2MXIWwsWGLpEyGgHGZePKSm4hw/AmjVrvgT8mhbOuZt79eo1h1aqq6s/VlVVNd97fwsQo5GkV7Oyss7Oy8urJWOPQjJ2a8ytBXMWXPlsnhkz2BvHv48uGfpLDrLq6urcVCp1q5lNNjOaSLqtZ8+e36DFpk2bum7duvWqVCp1tZl1o4WkJbFYrPCoo45aT8ZehWTs0aiZQ0sWXPHskR77Drsh9MPRJUP/m4PIzNzatWvHJZPJHwJ9ecctvXr1+rokq6qqGmhmE7du3ToF6GpmNJEUSfpRz549p0tKk7FPIRl7NerWod99dGrFSsz/2Mw+zg56PRBXj5w59G4OAjPLqqqqGgR8rqqqqsjMPkELSV7ST733f6mqqvpZZWXl2d77nuzqBeDKXr16PU1Gu4Vk7NPokiF3AXc9cmXFJ2g0ZuaQv3OQVFZW3lBVVfUNM8thN8zMmdmVNDIzWpNkjR6WdEvv3r3/SEaHhWS025iZQ/7OQWZmXwZyaL+kpKckPSRpXs+ePV8lY7+FZHyoSbrKzK6VdKSZdZMUN7MAqAPWS1pvZq9IeikIgpfi8fjSI488chsZGRkZGRkZGRkZGRkZhxxxILx4cScaGkYjG4G3fEQ+Rj4onx2sBlGDUYNTDaYnyc5+lBPv3M4BZlOmQBgnqt1AsvpvGDHwKeJ5PUDCb3sdV59DOkh0cxYbHpE+PSI6RZCHpydNHGsNNgQEzwWEj3ulFoVR1iafU4/rfBSYkdxQDUGILEm8x3EEXfIgnUSzZtEe9jAQAYaIczhp+uEZjlEA9AaOxDiMJmIrsB6oRCzGsYiQlSTZjDAC0JkcWK9OzWJzzRl4zgXri5EPymcHq0HUgFbheIDD8x/jUyUJPoLE/qq4pDvUjwcbjzESLJsOUQNiIeh+yLmfIXds5ACwKVMgjBPVbiBZ/TeMGERJso7qBRLR5teOjRLhN835c7xFHwchxA6imbGDYYDhFLwh7+YHWekfBYcfsxozEq9XQRhDliTe4ziCLnmQTqJZs9gbe5Bmq4B+5OEZAQzH6AccCQhRB9RhpGkiQiAXIxcwYD1iJbAIx5OsZAN92UFjeW+WX9iDZOoG0CSwzrSLtoHNJh6bzoA51XyEiI5aUdiZbXYdxrVgnTkgtA1xC511M/3Lt/Ee2JQpEMaJajeQrP4bRgwREXbtFvNpf326duPXTS4LDKfYUyZb5BxPELE+67CsaholtiZ6EHCk93xGpuHeUqeBkPlE2KX7f7vQ3ZjesillcsiSxHscR9AlD9JJNGsWe2LzaebogtEP4wxgFEZPYDvwd2A1Yh2wEaijWS7QHeNo4FjgE0AnxFpgAeIxxEo8tTTSOXTc2sIcauy7eK4Gy6GJ9AKm+3A8QSxWTTxVQ5NkLJ9UqgeezyA7D7OTaCLqQD+hh75Pz/J6PgJEey2bEiO9cQpwPXAku9BLwAMErMRUQyxWTTxVQ5NkLJ9UqgeyfCL6AeeCncCu1gM3EnafxcBZKfaDTZkCYZyodgPJ6r9hiuGcOy6KkmUWWYFcgIvFZgex7Bm+vq7CYygwiCD78CyaNGxOQAAWCYdwOblDolTDVT6VmmQ+QoEWB0G8yHv/iixBvMdxBF3yIJ1Es2axO/YgYDigE2IIxheAcRi1iKcQD2E8DbwOpNm9EDgKcSrGWRinIboA8xB3YVQA2xFeY2m/FwqPJmH3YzaQJtJ9hMG3OeXuVbTHcxf0JR39ALPzaCItI0vjOal8HYc40R7PX9iHRPoBsBNoTVqBKEXx+xg0ezUdsXTSsVjyPIxizPrTmniReGw8J89ZQwfZlCkQxolqN5Cs/humeF/MP+LxPYVVxoJOX3XZWX/ABaRq38IABQYRZHfNoknDlgQEYJEQEOtyBPgI35A4OxVt/6mh3g63FmmMLLEq3uM4gi55kE6iWbPYHXsQMLoAZwP/CnwaWIH4KeI5jE0YdUREBOxeBAQEiFxEN4xTML4K9Af+DPwK+AOiVmNpn2UXDCBKP4iRD1QSuosYWL6I/bGscDhp/xugN6KGIBzLwLuXcwgT+7Jk4gjM34NZHm9TNdL1DOZ2VB7xXlhhwBImY3YjWA92kjYgN4HBc5+kA2zKFAjjRLUbSFb/rY8RLvX4jwUEC3DRhaHrtEnxOCZIb9+KAQoMIsjumkWThi0JCMAiISDsdBgysGSStN/eDR/MiYhGOfSmSA2M9ziuMuiSB+kkmjWL1uwPQACk6AIMwfh34FhgCaKUkCVsYAtHAMYOOofdsvk0E/AWkEdX0gzGKAYGA6sR/wVUEKOWCHQ2e/ZC4dEk/FKMfNAi4vo8A8o38F4sL8wjab8DG46oIcsN4qTydRyiAvZmyfmXYdyNWReapXGaRtDtCwy+cwnTVxrv1fSVxi9XPs+Xh/8cGhIYpwEO6ARcxJS+r3PbquW007RBBRBmQbI+nnrrjd+b3HGBYk/GlX12muQ252K4MAZy+GQ9IOQAgzA7pEk6EYEDTIARZOUiwKI03qfqs9RprmEjvEV98dHQ+BFHlSmnq8eM6cuW0tq0i4FcRIKTMCYDw4GngdtYzh/JI0F30Jkw/S6Yfhd7NP0umH4XTJ8N064E6knwPKvJZxNwFDAEyEZU0Zlq0jD9N+ze2sIcNtsjGP8PtIgu+hwnltfyXv1iZR3X9P8tSU4H+hMxghv6/4Yfr0xzCHLsyZLzL8MzC7MYTcRGCEYz+J7vMXBWHQfawFl1DL7nexCMRmykiVkMzyyWnH8Z7VVXCVv+j+TGmhu8hUOQX+0cY+VJmEU0idIpkg21SIZkYKKJnJATTcwcJsMEUcNWLJXCALMIeRLOMRb51d7CIcmNNTew5f+grpJdeKCWj2GcAYwDViBKgT9xGtAX9Dk6TJ8D+gKn0eRPiFJgBTAO4wxq+RgJ9qzGvovZQKCSuD5P//IkB0r/8iRxfR6oxGwg1fYdDlGO3VkycQSmW9lJWonLGkzB3Md5vxXMfRyXNRhpJTuZbqViwmm0x+YtRJvW90zXbb5WTsRd1uWBYrWSIx7rQuSTJBPbsVQSECCamCCdjEglPB5hxg5CWCpJOrUd75PE4oehMCQIsmvjYe7lCgJSdW9dF21a35PNW9hFhPCMAEZh1CJ+SsgSwDDeO6OJEbIE8VOMWmAUnhEEiN1ZfmEPPFfTJHQXMaB8AwfagPINhO4idrCrWX5hDw5BIW09f2Efkul7MIvRRFpJoGEMnL2Fg2XQ7NUsKxxGxDOY9cMshnQvz184mJPnrGEvfG2cFNF0D1lhPH5PvNNRC/EG8Sxcw1bS2zYggVwAGDtJIrk9hTchJ1qTC/CALCIIslF2J8IoArEw7d+4Jx1pQmq7pov4pezqcIzTgF6IpxDPcQZbFAd7HPgr2Hze4YAQNIZ3sQdpZrzjr0Bn0DlgSbawgOcQT2EMQwwnzmPAW7SVTN0A5CDdx8DyRbxfBpYvomLCfZidRzJ1A3A5hxhHa8umxEikH8AsjyZiIy5+DgPLt3CwDSzfgoufg9hIE7M8kqn7WTYlxl6kYg1doyB9vhIJ4v980nROHQFDh0L/viR8PUQRkmiUBcRpRU7IiTaygLgQZkYqtRViIeTmQm5n4p263yhvREH6/FSsoSttiX5Af6AO8RDGRp6hWQKI0SQPOB44GdGVGI62HA7oCpwMHA98jCbbaPYMYGxEPATUY/QnTT/aenVqFmgSTcLg27zfwuDb7KBJvDo1i0NMSGvpjVOAE2iWxoJCBs1ezQdl0OzVLJ5YCNGjQIhxIumNU4Bb2YPQ4qclfcNhLp67nNfWvpzetAkQydqN+K1bcFlZYNHnzex7HjPEfwg9yO593sy+5zFD/Idc+KCPUiS2VhMEuewQpf/sXGy599GAUJ1OAx7k3YYDHwP+D+NpoEGf5R2eEBgGjATieOZQz3JgC61FdAEGAhcA9cAC4GEgTSN9Fmw+DcDTwGqgN57hwNO0trnmDLDOSM9zyt2r2J2lE84i4jZkHhdcyqC5C9mdpRPOIuI2ZB4XXMqguQtp65S7V1Ex4QXMTmJzzRnAQxxCHDutKOwMXM9OTjdSMPdxPmgFcx/H6UbecT0rCjuzBwmrP1NyKBZ7MP1mDanVq0itXoG9tQGXHUfmczBKwPoZ9DdsBlgcDDAkQxjCcjBKwPoZ9DdsBvi4FBCl6knVv0Wq/i3SqTrkggclR8Lqz6QtowAQsBp4HUjzjgCRB4wHLsIYi6eQiD60ZRyLcSHGWIyLMcYDRwCOd6SB14HVgMMooC3PuTQx3c+eRNwGdjRGTyL/M/Yk4jawozF6EvmfsSem+2jiOZdDjGOnbXYdcCQ7qBrX7RY+LFy3W0DVNDuSbXYde2D4k4SQomd8lsM6ZWG5OSgWB2/sk9GKsStDLsBCYaHwgUfOPyOE4U9kV70RdYh1RKR4N0+ceiAADkccgUgiUrQlUogk4gjEEYgARwNgtBaRQryG2A70ZhfWlyaOJzhYAnuSHawvhxhHk4pLumNcy9vsuwycVceHxcBZdUjXs5NxLRWXdGf3utNIXm/IC3khD94LQxiqR0wFrRJaIXQVkASBgRkYwlA90lTQKsEKoatASRBmQhEoAkWgiDfYQR9jV0cCdcBGAqRzaM3IpxbxCHAnMAexELGeXb0BPArMAe5APEontgNGC50DBAjYCNQBR9KWkU+TWKyaPQm4DLQOsZbAfYU9CbgMtA6xlsB9hT0J4+toYuRziAnZoX48WGeaSCsYfPztcC8fKoO5nSW6BrP+YJ2hfjzwK9ry9JSDeJdYjZzAACdSCU9iWwo5gex3kv7gMO+UlTRBFCWQBDKQIYR5/U7iDy5l3gIlceAjI6tLjCAegDcQmLeahtoE5q0nbRmHAWlEHW3oTLAXiTiWOVTzIAlygDcx0uxqA47fAxVkUc/RbGMrXp9ld+ow0sBh7EL5YBBP1bAng+55CDiGfRl0z0PAMexLPFVDgkbK5xDj2MHG8zb9Gk3ztEfFxDEsmXAtSyeOpKMqJo5hyYRrWTpxJO2h8ghRyttsPB0g84ShCALh5AgIGwxLOhfiiAHGu8hAgKnBHREkiQsCEcQF3jhg0sAtROSyFbGBHNLsSR5pxAZy2coPiXiTjPeZ48WLO2GMZCcXu5/2qDj/t1j0MN5uJooWsPj8X9BeFef/FosextvNRNECFp//C9pD8fvYyRjJixd3oi2ntWaQ3JrMb9icoGFLgoaN9fhkRM4R2QQOQoXEFQcchmFEJwEXA9cCXwHGYfwTzmEWEPaKQacQycjukUM6FdGwoZ6GLQkaNidIbk3mmwFOa2lLbEWEQC67kw1cD9RjGBH1oLHsQucAGwAjoh7j+0Af9iQXESK2sguroUkyls/Bkozls4PVcIhxJOrHgGWzg15i0OzV7EvFxDEYk3i3KSydeCr7UjFxDMYk3m0KSyeeyr4Mmr0a9BI7WDaJ+jHswjbSyAI+bgGYAwsgyI2BwMwwDBCNLkhF9U+noobnDd3hzW7G7Kd4e8C8vYq3efhoDDsYRAYOwsNjWAjmwAKwgI+zg73JrtYDuUB3Iszm8zabD6wGXgLqAA949swDHqgDXgJWg83nbTYfiDCgO5ALrKctUUOTVKoHbdm0ECsM2F82LcQKA9pKJ4+miajhEBMCp/GOB2gP+eMxduX98cDT7I388Ri78v544Gn27QHgBJqdBvyOVoR7wROdaj4Y5oxHLIogCAjjIXgDhGF5SWso8d5fgEDSBmCRQZVMucBxyAp8lDxH0jnJKt1mSa5VoFoiI8wNSDkHKY+CAC+GGWkcwYvsqhLjE8DRBMSAFO9wQC4QB9LAdtJENp9mRjPRLA2EBEAnIASSQB3g2SkghnEM0Amxml1oFdgIPJ8BnqC1ij//GameFYUF9C9P0hF/n5zNkpeXYTQAA2kt0ggwQCs5xIQYPdgpYCXtYe5liNiFcy+zL+ZehohdOPcy7RGwkohm3vJpI0s5D9f5rVeYRWPDeJcbyIqBGgAPCKHDU1H6YYgGSG6LHN8T/Nwb2xHIQCGEWfp4qiFnqln6G+lNycsIXT+XFZyJ2AYiFu8CMQc+TSJZO9bwZLnOD9OWWIzRBzgWOAqoAdI0ywU+C/QF3gAeJ+R1IE0zo5loEhICRwGnAx8HVgF/ArbRLASOAo4FPGIxbTkeIOJyZOcBN9Ka1IDZyWxnGvAtOmLDth9h1h/pWdqSnYcBjnkcYhzYUexkrpr2GDL3EcRs3m0Wg+Y+zb4MmfsIYjbvNotBc5+mPUw17CTyaSOt5FPOBVu9Tw0gO+fTYdePE3bKBvOYJxb56CHMDxDBckkngN0CbGcX/o149uHfcUHs04rpFbydaml70CLvMBF26UbY9UjIzvm096kBzgVb00o+RVuORcAG4JOIUxHZ9id2CoA8jJEYX8f4H4zrgEJgOHAicCIwHCjEuA7jfzC+jjESyAMCGtmfAJGNOBU4FtiAYxFtHZ7/GGgbZifx3AV9ac1xDcLw9k2WFF5Ae1UU/iverkbyiOto7bkL+mJ2Emgbh+c/xiHGYeSzUyysob2G3PtFnDsLp+sIglEU3Hs57TXk3i/i3Fk4XUcQjKLg3stpr1ismp2MfNqIpbK3BFF4rzmR3L7xeupqibalSNWmSdQmvhn5qMDJrRXBuaAq9sIsotFfnNxYF2i9j/xnGt5o+HpiQwPUJaBuG8ntG683J4IovDeWyt5CWyErESuAHIyzEN0Zxk5J4BVgCbAeOB64APgKMBW4ArgCmAp8BbgAOB5YDywBXgGSNBkGiO4YZwE5iBWErKStT5UkwGbTJB39gNYG3fMn0I00MZvNkgk/xKaF7MmKwjiLJ9wI/jaafYvB9zxDa+n0D9nBZvOpkgSHmBCUD8YO8VQNHTG4/GHgYfbH4PKHgYfpqHiqhgQtlE8brkuSmLcb0nU2yUd+QrLhzZHgF0beH+7Npgsh8UWM1zyGeId5wzwIIYEZO72K4wvm+aOlucnM35qKNm8z8yN95Cc4LBHrZDc4l2QXSTYDixAnYpyGcQqPsdnms4UE9WTxDLAcR19gFMZpQG+gDxDQLAK2ISoRTwEL8KwCGkhgNh94jK4Yp2CchlgDLCLJZnYnHptOMn0xZuexrHA4A8sXsdOQe6ZRMSGG2bcwvknFn8ewZML/4GKPMPCuN3l1ahZb1h+D92PZ5r8KHAfyOH2LweX/SWvLCoeT9uMRdcRi0zkEhXzUHN6VgGBtjNqbk7Vbv53U9l/EXNZJMYttTliyRI6tcvaUpRsIYnEwh0WGEEE8wBl470mnIIwHBMSIkvW4WPwxmf8vw4eBi22L0okuaUv+wiIR73LEzUG3LmshYhcRRsiTeI5D/BvGV0lTCyzkVIxlGKIeWAGsAX6LyAEOBz5GE/EmsBmjHqgDtiMSNDkVWIZIMxjjq4guwAIcT5LG2J0Bc6pZMuEneL5J2v+G5YWDGFC+gZ2G3PNtKgqXYTYTbADefoNPQsWEJBur47QmXsG5Kxg0dyGtLS/MI+l/ww76CQPmVHMIcmA17JSM5fNhl4zl8zaroa3c3tD1k8S75093Sldg7ljvedARjzvpKsx/x+V2Jjz6k1hDhI8EEkJkd4oT7xzHvIiSItWwlWh7HeExx+JyO4P5b0i6NkjH4mZ6EHPHOqUr4t3zp9P1k5Dbm11kAV14E/EYMA/oj1EMfJZZgAdiNEkAm4DXSPIq3XkOx5M4nqQ7z5HkVeA1YBOQIAZ4YBZNPotRDPQH5iEeowtvksWe5et7SMuA3iTtd6wojNPakPL7OPywf0Z8BbQItAmzOFISqER6AOcupLP7NIPmLqS1FYVxkvY7oDfSMnro+xyiQkQNxqdokkr1AF7lwyyV6sFOooa2fAoi4X065YLgQsMtjUiNaDD/oAK7MLScTS7eFbp2g7+vhiAAsYN5Yyc5ESUbUDINXY9AiRShqydNolvC6uZERCOc3JsKggu9T6eCKAk+xS48UI8BKxF3YfQEBtPkFEJClrCBLRwBGM3ygM14jO002QzkAZsBAwRsAPLoyikMxigGBgN/RtwFrKQew7NnPcvreaFwPAlbitlwavkjyws/z4DyDez0z7+uBX4O/JwmKwrj9C9PsjfLC/Ootd+BDUfUkKXx9Cyv5xDlMGrYSZbPh50sn52MGvZuDXIjHG6tJxrlI78c09m0k5xDEjuZcbb3fnlENMrh1iI3AljDXuhs0Bia1GJUAL8CVgOnY3yDNJ+jG72BLkBABGwG0oABBqSBzUBEkwDoQjd6k+ZzGN8ATgdWA7/CqABqNQZ0Nnt3Uvk6gnAsogZsOEm/lGWFw9mT/uVJ9mZZ4XCSfinYcEQNQTiWk8rXcQgLcarBGztE9GNPbFrI0pe/iaeWgnt+woFm0xxLXv46khjU/7/QNM/uRPRjJ6ca9slWuSAYaVFUZpEVpFT/e1e3eXawOZyhIKwwWhG7UBDiN28aEtVtvspHDZPMDAUsdkFQ5L1/hY7ZDvwBsRHjC8A4PDcjnkI8BDxNwOtAmt0JCIGjgFPxnIVxGqILMA9xF0YFsJ2OGHj3cl4oHETC7sdsIGn/FBUT7iMMvs0pd6+iPZ67oC/p6Aek/Xk0kZaRpfGcdPc6DnEh8BRwNc3OBa5nd5auuA5vN9JkSWE2g8tv4kCqeHka2HcxgyV/3gz8nN07l51MT7IvBhalXol37T7Cp/316dqNX4+2bZ0UbXlrkovnPGX4RUJPAG+Yp4Zm+aCPG/YZH7rh6cpXTyMIEJaIHdb9v13obkxv2ZSCgPbSWLD5eKAWUQHUYvwNMQpjGMaJwN+B1Yh1wEagjma5QHeMo4FjMT4BdEKsARYgHkOsxKilkcbSMSeVr2Nt4Qiq+Q7Y1ZidRyp9HhUTnsd0P44niMWqiadqaJKM5ZNK9cDzGWTjSaVPpomoA/2EHvo+Pcvr+QgIycp5hPr6BrBssBNYOulYBs1ezS5sLTt5+zbLJ93FgNmVHAgVFxyHRdfxNr3G7iyddCxR4gR2UAPZ2Y/SDhZFuHhOymXpu0ptLo0S4Tct7s/xljoNdJqP9E0a1dc2sIMBERiGEeHiWW/Iu/lBVvpHQafOqzHDogiCgI7QOWAPAkYtq6igH6vxvIIYjtEP6AN8AqgD6jDSNBEhkAvkAga8gVgJLMLxJCvZQF9AoLHsn57l9cC3WX7hrSRTN4AmYXYy2Ml4IJGABC0SvM1opG1gs4nFpjNgTjUfISEn3rmdigkLMcbSxJLnAbfQ1qDj76Li5W+AfRqsM6nknawoHEn/8iTvxYsXd6K+7i4ghx20hCH3PMjuWPI8dhILOfHO7bSHhPkIJHBaHSN+WVqJbiHZwyOiMyKiAYI8PD1p4lhrsCEgXB4QPOaVXhQS3+RdhPkIzEBif2gsO9jDQMQGxO+I8xhp+uEZjlEA9AZ6AYfRbCuwHvF3xGIciwhZSZLNgPFp0JkcGAPmVAOX8+rUq9hccwaec8H6YuSD8tnBahA1oFU4HuDw/Mf4VEmCjyDRpKLwXzH/S5pIKxh8/AlomqetxRcUQLQILKCJNJfBx38RTUuzP168uBP19feBjaKJlEIazODyF2jLCgOW2EuY9aOJ3JcYUv4rMjLeR44dcu4HbaOJWX+WrChmdwruXoy4np3MJlLx54d4adIRdNTySb1pqF8ENop3XMvg8hfYnSVMxqwfO2gb5NxPRsb7LKDJL1+s57J+WcBnaTaQLw//ObOeS9HWL1c+xZT+eRiDaXYsKX8xl/Vbyy9XrmRfbFrIWR/7N6JoLlgvdhI/YMi9N7E7y6bk4uvvA7rQRPoRQ+56iIyM91nITp11M7X2FeBIsB74TdcC32N3BpVPZUnhBrAbMATWA2MuFee/CJRB+HuCrq8xcFYdy6bE8FuPwtJ9EJ+n4uUvgH2cd6SBqxly763sid90LVgPmq2ns24mI+MgEK0tPv8KYCbN0hCMpmDu4+xJxcTx4H+G2VHsXi2iM4bYvb8gTWHIPU+xJ4snng7Ro0BIsyspuPdWMjIOAkdrYfdZoJdoFqKonKWTjmVPhsy9n0D/jFQCamBXXTDErtYjfYOw+wkMuecp9mTZBZ9EUTkQ0kS8SNh9FhkZB4lo6/kL+5BML8EsjybSSgINY2D5FvZm8RcPQ8lCsIlg/4SpB1g2kAa9gawaYwUK5jDYFqLyiL1ZVtiVyJ7BrB9NpA3Ew8GcPGcNGRkHididJRNHYH4hZjGaSCtx8XMYNHs1HbH4i4cx5De1SEZHLJ10LD45H7N+NJFSyI1k8Nwnycg4iMSeLDn/Mjyz2ElsxIJCCuY+zvtp8cTTUVSO0Z2dHFMYfO9tZGQcZGJvlpx/GaZbMYvRLI3TjbhutzBwVh0H0rIpufhN1+LteiCkiZRCdgWD772NjIwPgNiXJRNHYP4ezPJ4m6qRrmdw/1I0zfNe2DTHkhXFmN0I1oOdpA3ITWDw3CfJyPiAiPZ4/sI+JFP3Y5xIa9IK0K9xsfsZNHs1HbF00rH41HiwSzHrT2viReKx8Zw8Zw0ZGR8g0V7LpsRIb5wCXA8cyS70EvAAASsxV00srCGeqqFJMpZPKp2PfA8i+gHngp3ArtYDNxJ2n8XAWSkyMj5goqNWFHZmm12HcS1YZw4IbUPcQmfdTP/ybWRkfEiI/VVxSXeoHw82HmMkWDYdogbEQtD9kHM/Q+7YSEbGh4w4EF68uBOJ+jHAaXjLR+Rj5IPy2cFqEDUYNTjVAE+RlfMIJ965nYyMD7H/D0uP3uOVmnXtAAAAAElFTkSuQmCC)}[class^=letyshops-i-]{background-image:url(data:image/png;base64,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)}}@media only screen and (-o-min-device-pixel-ratio:3 / 2){[class*=" letyshops-i-"]{background-image:url(data:image/png;base64,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)}[class^=letyshops-i-]{background-image:url(data:image/png;base64,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)}}@media only screen and (min-device-pixel-ratio:1.5){[class*=" letyshops-i-"]{background-image:url(data:image/png;base64,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)}[class^=letyshops-i-]{background-image:url(data:image/png;base64,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)}}.jspContainer{overflow:hidden;position:relative}.jspPane{position:absolute}.jspVerticalBar{position:absolute;top:0;right:0;width:16px;height:100%}.jspHorizontalBar{position:absolute;bottom:0;left:0;width:100%;height:16px}.jspCap{display:none}.jspHorizontalBar .jspCap{float:left}.jspTrack{backgroud:#dde;position:relative}.jspDrag{position:relative;top:0;left:0;cursor:pointer}.jspHorizontalBar .jspDrag,.jspHorizontalBar .jspTrack{float:left;height:100%}.jspArrow{text-indent:-20000px;display:block;cursor:pointer;padding:0;margin:0}.jspArrow.jspDisabled{cursor:default}.jspVerticalBar .jspArrow{height:16px}.jspHorizontalBar .jspArrow{width:16px;float:left;height:100%}.jspVerticalBar .jspArrow:focus{outline:0}.jspCorner{float:left;height:100%}.letyshops__similar{font-family:'Lety Open Sans',sans-serif!important;text-align:left;line-height:normal;box-sizing:initial;letter-spacing:normal!important;-webkit-font-smoothing:initial;border-radius:4px}.letyshops__similar svg{width:auto;height:auto;vertical-align:baseline!important}.letyshops__similar *{font-family:'Lety Open Sans',sans-serif!important;font-style:normal}.letyshops__similar-wrap{padding:16px 16px 16px 24px}.letyshops__similar-wrap *{margin:0}.letyshops__similar-minified #letyshops-notification{width:145px!important}.letyshops__similar-minified .letyshops__similar-wrap{padding:16px}.letyshops__similar-minified .letyshops__similar-content,.letyshops__similar-minified .letyshops__similar-settings{display:none}.letyshops__similar-minified .letyshops__similar-min-content{display:block}.letyshops__similar-minified .letyshops__similar-minify svg{transform:rotate(270deg)}.letyshops__similar-min-content{display:none;font-size:12px;color:#121212;padding:0 16px 16px}.letyshops__similar-unminify{color:#00b0ff;font-size:12px;transition:.3s all}.letyshops__similar-unminify:hover{color:#00b0ff;opacity:.8}.letyshops__similar-minify{position:absolute;top:16px;left:-16px;width:16px;display:flex;height:40px;align-items:center;border-radius:4px 0 0 4px;background-color:#eee;transition:.3s all;cursor:pointer}.letyshops__similar-minify:hover{opacity:.7}.letyshops__similar-minify svg{transform:rotate(90deg)}.letyshops__similar-collapse{cursor:pointer;transition:.3s all}.letyshops__similar-collapse svg{transition:.3s all}.letyshops__similar-collapse:hover{opacity:.8}.letyshops__similar-collapse-less,.letyshops__similar-collapse-more{display:inline;margin-right:8px;font-size:12px;color:#00a8ff;border-bottom:dashed 1px #00a8ff;font-weight:400}.letyshops__similar-collapse-less{display:none}.letyshops__similar-header{display:flex;justify-content:space-between}.letyshops__similar-tools{display:flex;align-items:center}.letyshops__similar-tools svg{cursor:pointer}.letyshops__similar-tools svg path{transition:.3s all}.letyshops__similar-tools svg:hover path{opacity:.7}.letyshops__similar-closebutton{margin-left:16px}.letyshops__similar-product{display:flex}.letyshops__similar-product-logo{display:flex;align-items:center;justify-content:center;min-width:48px;min-height:48px;border-radius:4px;background-color:#fff;border:solid 1px #f5f5f5;margin-right:8px}.letyshops__similar-product-logo img{max-width:43px;max-height:43px}.letyshops__similar-product-title{padding:7px 12px;font-size:12px;font-weight:700;line-height:1.33;color:#121212;background-color:#fafafa}.letyshops__similar-shop{padding:7px 24px;display:flex;flex-wrap:wrap;transition:.3s all;border-bottom:solid 1px #f5f5f5!important;margin:0}.letyshops__similar-shop:hover{padding:7px 24px}.letyshops__similar-shop:hover{background-color:#fafafa}.letyshops__similar-shop,.letyshops__similar-shop:hover .letyshops__similar-shop-cashback,.letyshops__similar-shop:hover .letyshops__similar-shop-price,.letyshops__similar-shop:hover .letyshops__similar-shop-rate,.letyshops__similar-shop:hover .letyshops__similar-shop-title{text-decoration:none!important;text-transform:none!important;text-shadow:none!important}.letyshops__similar-shop-rate,.letyshops__similar-shop:hover .letyshops__similar-shop-rate{font-weight:700}.letyshops__similar-shop-cashback,.letyshops__similar-shop-price,.letyshops__similar-shop:hover .letyshops__similar-shop-cashback,.letyshops__similar-shop:hover .letyshops__similar-shop-price{font-weight:400}.letyshops__similar-shop:hover .letyshops__similar-shop-title{color:#00a8ff!important}.letyshops__similar-shop:hover .letyshops__similar-shop-price{color:#121212!important}.letyshops__similar-shop:hover .letyshops__similar-shop-cashback{color:#a0a0a0!important}.letyshops__similar-shop:hover .letyshops__similar-shop-rate{color:#121212!important}.letyshops__similar-shop:active,.letyshops__similar-shop:focus,.letyshops__similar-shop:hover,.letyshops__similar-shop:visited{text-decoration:none!important;border-bottom:solid 1px #f5f5f5!important;outline:0!important;box-shadow:none!important}.letyshops__similar-shop>span{flex-basis:50%;text-decoration:none!important;text-transform:none!important;border:none}.letyshops__similar-shop>span:hover{text-decoration:none!important;text-transform:none!important}.letyshops__similar-shop-title{font-size:14px;line-height:1.43;color:#00a8ff!important}.letyshops__similar-shop-price{font-size:12px;line-height:1.33;color:#121212!important}.letyshops__similar-shop-cashback{font-size:10px;line-height:1.6;color:#a0a0a0!important;text-align:right}.letyshops__similar-shop-rate{font-size:14px;font-weight:700;line-height:1.43;color:#121212!important;text-align:right}.letyshops__similar-attention{color:#a0a0a0;padding:8px 24px 12px}.letyshops__similar-hint{font-size:10px!important;display:inline-flex;align-items:center;font-weight:400!important;color:#a0a0a0!important;margin-top:12px}.letyshops__similar-hint *{font-size:10px!important}.letyshops__similar-hint b{margin-right:4px;padding:0;font-weight:700!important;color:#a0a0a0!important}.letyshops__similar-expandable{overflow-y:hidden;position:relative;max-height:327px;transition:.3s all}.letyshops__similar-expandable .letyshops__similar-wrap{padding:0 16px 24px 24px}.letyshops__similar-bottom-tools{display:flex;justify-content:space-between;align-items:center}.letyshops__similar-sort{position:relative}.letyshops__similar-sort-all{padding:12px 0;border-radius:4px;box-shadow:0 4px 16px 0 rgba(0,0,0,.12);background-color:#fff;position:absolute;bottom:23px;right:-8px;display:none}.letyshops__similar-sort-current{font-size:12px;color:#121212;border-bottom:dashed 1px #121212;cursor:pointer}.letyshops__similar-sort-item{padding:0 16px;line-height:2.67;font-size:12px;color:#121212;cursor:pointer!important;transition:.3s all;white-space:nowrap}.letyshops__similar-sort-item:hover{background-color:#f5f5f5}.letyshops__similar-close-title{font-size:14px;line-height:1.43;color:#121212}.letyshops__similar-close-promt{padding:24px;display:none}.letyshops__similar-close-buttons{display:flex;margin-top:32px;text-align:center;line-height:40px}.letyshops__similar-close-ok{flex:2;border-radius:4px;border:solid 2px #fc0;margin-right:16px;cursor:pointer;color:#000}.letyshops__similar-close-cancel{flex:2;border-radius:4px;background-color:#fc0;cursor:pointer;color:#000}.letyshops__similar-close .letyshops__similar-attention,.letyshops__similar-close .letyshops__similar-expandable,.letyshops__similar-close .letyshops__similar-tools{display:none}.letyshops__similar-close .letyshops__similar-close-promt{display:block}.letyshops__similar-expanded .letyshops__similar-expandable{max-height:465px}.letyshops__similar-expandable .jspPane{width:320px!important}.letyshops__similar-expandable .jspDrag{width:8px;border-radius:4px;background-color:#000;opacity:.15}.letyshops__similar-expanded .letyshops__similar-collapse svg{transform:rotate(180deg)}.letyshops__similar-expanded .letyshops__similar-collapse-more{display:none}.letyshops__similar-expanded .letyshops__similar-collapse-less{display:inline}.letyshops__sonboarding{font-family:'Lety Open Sans',sans-serif!important;height:100%}.letyshops__sonboarding-popup{width:664px;height:631px;border-radius:4px;box-shadow:0 4px 16px 0 rgba(0,0,0,.12);background-color:#fff;position:absolute;top:10px;left:50%;transform:translateX(-50%);padding:24px 24px 48px 40px;box-sizing:border-box;text-align:left;line-height:normal;letter-spacing:normal!important;-webkit-font-smoothing:initial}.letyshops__sonboarding-tools{text-align:right}.letyshops__sonboarding-subtitle{font-family:'Lety Montserrat',sans-serif!important;font-size:24px;font-weight:800;line-height:1.17;color:#121212;margin-top:24px;margin-bottom:16px}.letyshops__sonboarding-title{font-family:'Lety Montserrat',sans-serif!important;font-size:32px;font-weight:800;line-height:1.13;color:#121212}.letyshops__sonboarding-description{margin-top:24px;font-size:16px;color:#121212;display:flex;flex-direction:row}.letyshops__sonboarding-description svg{min-width:56px;margin-left:87px}.letyshops__sonboarding-close{cursor:pointer;transition:.3s all}.letyshops__sonboarding-close:hover{opacity:.7}.letyshops__sonboarding-step{font-size:16px;color:#121212;margin-top:32px}.letyshops__sonboarding-step-padding{margin-right:48px}.letyshops__sonboarding-step-wrap{display:flex;flex-direction:row}.letyshops__sonboarding-step-wrap>div{flex:50%}.letyshops__sonboarding-step-wrap img{margin-top:24px;max-width:253px;height:117px}.letyshops__sonboarding-thx{display:flex;justify-content:center;margin-right:24px;margin-top:24px}.letyshops__sonboarding-thx-button{border-radius:4px;background-color:#fc0;cursor:pointer;transition:.3s all;font-size:16px;text-align:center;color:#121212;padding:12px 24px}.letyshops__sonboarding-thx-button:hover{opacity:.7}.letyshops__sonboarding-overlay{width:100%;height:100%;background-color:rgba(0,0,0,.5)}</style>
<script type="text/javascript">
<!--//--><![CDATA[//><!--
jQuery.extend(Drupal.settings, { "basePath": "/", "lightbox2": { "rtl": "0", "file_path": "/(\\w\\w/)sites/default/files", "default_image": "/modules/lightbox2/images/brokenimage.jpg", "border_size": 10, "font_color": "000", "box_color": "fff", "top_position": "", "overlay_opacity": "0.8", "overlay_color": "000", "disable_close_click": true, "resize_sequence": 0, "resize_speed": 400, "fade_in_speed": 400, "slide_down_speed": 600, "use_alt_layout": false, "disable_resize": false, "disable_zoom": false, "force_show_nav": false, "show_caption": true, "loop_items": false, "node_link_text": "View Image Details", "node_link_target": false, "image_count": "Image !current of !total", "video_count": "Video !current of !total", "page_count": "Page !current of !total", "lite_press_x_close": "press \x3ca href=\"#\" onclick=\"hideLightbox(); return FALSE;\"\x3e\x3ckbd\x3ex\x3c/kbd\x3e\x3c/a\x3e to close", "download_link_text": "", "enable_login": false, "enable_contact": false, "keys_close": "c x 27", "keys_previous": "p 37", "keys_next": "n 39", "keys_zoom": "z", "keys_play_pause": "32", "display_image_size": "original", "image_node_sizes": "()", "trigger_lightbox_classes": "", "trigger_lightbox_group_classes": "", "trigger_slideshow_classes": "", "trigger_lightframe_classes": "", "trigger_lightframe_group_classes": "", "custom_class_handler": 0, "custom_trigger_classes": "", "disable_for_gallery_lists": true, "disable_for_acidfree_gallery_lists": true, "enable_acidfree_videos": true, "slideshow_interval": 5000, "slideshow_automatic_start": true, "slideshow_automatic_exit": true, "show_play_pause": true, "pause_on_next_click": false, "pause_on_previous_click": true, "loop_slides": false, "iframe_width": 600, "iframe_height": 400, "iframe_border": 1, "enable_video": false }, "syntaxhighlighter": { "clipboard": "/sites/all/libraries/syntaxhighlighter/scripts/clipboard.swf" } });
//--><!]]>
</script>
    <!--[if lte IE 7]><link type="text/css" rel="stylesheet" media="all" href="/themes/framework/ie.css" /><![endif]--> <!--If Less Than or Equal (lte) to IE 7-->

<script>window._epn = {campaign:5338179317};</script>
<script src="./Генератор с регулируемоей частотой на ардуино. _ Аппаратная платформа Arduino_files/epn-smart-tools.js.Без названия"></script>
<script type="text/javascript">

window.onload = function formatHrefs() {
    var baseRedirect = "http://out.arduino.ru/?redirect=";
    var anchors = document.getElementsByTagName("a");

    for (var i = 0; i < anchors.length; i++) {
        if ((anchors[i].hostname === "arduino.ru") || (anchors[i].hostname === "")|| (anchors[i].hostname === "ru.wikipedia.org")|| (anchors[i].hostname === "out.arduino.ru")|| (anchors[i].hostname === "rover.ebay.com")) { continue; }
        anchors[i].href = baseRedirect + encodeURIComponent(anchors[i].href) + "&baseU=" + encodeURIComponent(anchors[i].baseURI);
        anchors[i].setAttribute('target', '_blank');
        anchors[i].setAttribute('rel', 'nofollow');
    }


	var p = document.getElementsByClassName("pager")[0];
	var p_up = p.cloneNode(true);
	var p_container = document.getElementById("upper-pager");
	p_container.appendChild(p_up);
	if (p) {
    	p_container.setAttribute("style", "height:1em");
	}

}
</script>


    <script type="text/javascript">

      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-2018649-4']);
      _gaq.push(['_trackPageview']);

      (function() {
         var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
          ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
         var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();

   </script>
  <script src="./Генератор с регулируемоей частотой на ардуино. _ Аппаратная платформа Arduino_files/cse_element__ru.js.Без названия" type="text/javascript"></script><link type="text/css" rel="stylesheet" href="./Генератор с регулируемоей частотой на ардуино. _ Аппаратная платформа Arduino_files/default+ru.css"><link type="text/css" rel="stylesheet" href="./Генератор с регулируемоей частотой на ардуино. _ Аппаратная платформа Arduino_files/default.css"><style type="text/css">/* Chart.js */
@-webkit-keyframes chartjs-render-animation{from{opacity:0.99}to{opacity:1}}@keyframes chartjs-render-animation{from{opacity:0.99}to{opacity:1}}.chartjs-render-monitor{-webkit-animation:chartjs-render-animation 0.001s;animation:chartjs-render-animation 0.001s;}</style><style type="text/css">.gsc-control-cse{font-family:arial, sans-serif}.gsc-control-cse .gsc-table-result{font-family:arial, sans-serif}</style><style type="text/css">.gscb_a{display:inline-block;font:27px/13px arial,sans-serif}.gsst_a .gscb_a{color:#a1b9ed;cursor:pointer}.gsst_a:hover .gscb_a,.gsst_a:focus .gscb_a{color:#36c}.gsst_a{display:inline-block}.gsst_a{cursor:pointer;padding:0 4px}.gsst_a:hover{text-decoration:none!important}.gsst_b{font-size:16px;padding:0 2px;position:relative;user-select:none;-webkit-user-select:none;white-space:nowrap}.gsst_e{vertical-align:middle;opacity:0.55;}.gsst_a:hover .gsst_e,.gsst_a:focus .gsst_e{opacity:0.72;}.gsst_a:active .gsst_e{opacity:1;}.gsst_f{background:white;text-align:left}.gsst_g{background-color:white;border:1px solid #ccc;border-top-color:#d9d9d9;box-shadow:0 2px 4px rgba(0,0,0,0.2);-webkit-box-shadow:0 2px 4px rgba(0,0,0,0.2);margin:-1px -3px;padding:0 6px}.gsst_h{background-color:white;height:1px;margin-bottom:-1px;position:relative;top:-1px}.gsib_a{width:100%;padding:4px 6px 0}.gsib_a,.gsib_b{vertical-align:top}.gssb_c{border:0;position:absolute;z-index:989}.gssb_e{border:1px solid #ccc;border-top-color:#d9d9d9;box-shadow:0 2px 4px rgba(0,0,0,0.2);-webkit-box-shadow:0 2px 4px rgba(0,0,0,0.2);cursor:default}.gssb_f{visibility:hidden;white-space:nowrap}.gssb_k{border:0;display:block;position:absolute;top:0;z-index:988}.gsdd_a{border:none!important}.gsq_a{padding:0}.gssb_a{padding:0 7px}.gssb_a,.gssb_a td{white-space:nowrap;overflow:hidden;line-height:22px}#gssb_b{font-size:11px;color:#36c;text-decoration:none}#gssb_b:hover{font-size:11px;color:#36c;text-decoration:underline}.gssb_g{text-align:center;padding:8px 0 7px;position:relative}.gssb_h{font-size:15px;height:28px;margin:0.2em;-webkit-appearance:button}.gssb_i{background:#eee}.gss_ifl{visibility:hidden;padding-left:5px}.gssb_i .gss_ifl{visibility:visible}a.gssb_j{font-size:13px;color:#36c;text-decoration:none;line-height:100%}a.gssb_j:hover{text-decoration:underline}.gssb_l{height:1px;background-color:#e5e5e5}.gssb_m{color:#000;background:#fff}.gssb_a{padding:0 9px}.gsib_a{padding:5px 9px 4px 9px}.gscb_a{line-height:27px}.gssb_e{border:0}.gssb_l{margin:5px 0}input.gsc-input::-webkit-input-placeholder{font-size:14px}input.gsc-input:-moz-placeholder{font-size:14px}input.gsc-input::-moz-placeholder{font-size:14px}input.gsc-input:-ms-input-placeholder{font-size:14px}input.gsc-input:focus::-webkit-input-placeholder{color:transparent}input.gsc-input:focus:-moz-placeholder{color:transparent}input.gsc-input:focus::-moz-placeholder{color:transparent}input.gsc-input:focus:-ms-input-placeholder{color:transparent}.gssb_c .gsc-completion-container{position:static}.gssb_c{z-index:5000}.gsc-completion-container table{background:transparent;font-size:inherit;font-family:inherit}.gssb_c > tbody > tr,.gssb_c > tbody > tr > td,.gssb_d,.gssb_d > tbody > tr,.gssb_d > tbody > tr > td,.gssb_e,.gssb_e > tbody > tr,.gssb_e > tbody > tr > td{padding:0;margin:0;border:0}.gssb_a table,.gssb_a table tr,.gssb_a table tr td{padding:0;margin:0;border:0}</style></head>
  <body class="lightbox-processed">
    <!-- Layout -->
    <div class="container"> <!-- add "showgrid" class to display grid -->
  
      <div id="header" class="clearfix">
        
                  <a href="http://arduino.ru/" title="">
            <img src="./Генератор с регулируемоей частотой на ардуино. _ Аппаратная платформа Arduino_files/framework_logo.png" alt="" id="logo">
          </a>
        
        <div id="sitename">
					  
                      <h1><a href="http://arduino.ru/" title="">Arduino.ru</a></h1>
                  </div> <!-- /#sitename -->

        			<div style="float:right; width:450px; height:60px;">
				<div id="block-block-10" class="block block-block">

  
  <div class="content">
        <script>
  (function() {
    var cx = '000212414265083961610:_80qtkoe9oo';
    var gcse = document.createElement('script');
    gcse.type = 'text/javascript';
    gcse.async = true;
    gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(gcse, s);
  })();
</script><style type="text/css">
   .gsc-control-cse {padding:0;}
</style><p><div id="___gcse_0"><div class="gsc-control-cse gsc-control-cse-ru"><div class="gsc-control-wrapper-cse" dir="ltr"><form class="gsc-search-box gsc-search-box-tools" accept-charset="utf-8"><table cellspacing="0" cellpadding="0" class="gsc-search-box"><tbody><tr><td class="gsc-input"><div class="gsc-input-box" id="gsc-iw-id1"><table cellspacing="0" cellpadding="0" id="gs_id50" class="gstl_50 gsc-input" style="width: 100%; padding: 0px;"><tbody><tr><td id="gs_tti50" class="gsib_a"><input autocomplete="off" type="text" size="10" class="gsc-input" name="search" title="поиск" id="gsc-i-id1" placeholder="Пользовательский поиск" dir="ltr" spellcheck="false" style="width: 100%; padding: 0px; border: none; margin: 0px; height: auto; background: url(&quot;http://www.google.com/cse/static/images/1x/googlelogo_lightgrey_46x16dp.png&quot;) left center no-repeat rgb(255, 255, 255); text-indent: 48px; outline: none;"></td><td class="gsib_b"><div class="gsst_b" id="gs_st50" dir="ltr"><a class="gsst_a" href="javascript:void(0)" title="Очистить окно поиска" role="button" style="display: none;"><span class="gscb_a" id="gs_cb50" aria-hidden="true">×</span></a></div></td></tr></tbody></table></div></td><td class="gsc-search-button"><button class="gsc-search-button gsc-search-button-v2"><svg width="13" height="13" viewBox="0 0 13 13"><title>поиск</title><path d="m4.8495 7.8226c0.82666 0 1.5262-0.29146 2.0985-0.87438 0.57232-0.58292 0.86378-1.2877 0.87438-2.1144 0.010599-0.82666-0.28086-1.5262-0.87438-2.0985-0.59352-0.57232-1.293-0.86378-2.0985-0.87438-0.8055-0.010599-1.5103 0.28086-2.1144 0.87438-0.60414 0.59352-0.8956 1.293-0.87438 2.0985 0.021197 0.8055 0.31266 1.5103 0.87438 2.1144 0.56172 0.60414 1.2665 0.8956 2.1144 0.87438zm4.4695 0.2115 3.681 3.6819-1.259 1.284-3.6817-3.7 0.0019784-0.69479-0.090043-0.098846c-0.87973 0.76087-1.92 1.1413-3.1207 1.1413-1.3553 0-2.5025-0.46363-3.4417-1.3909s-1.4088-2.0686-1.4088-3.4239c0-1.3553 0.4696-2.4966 1.4088-3.4239 0.9392-0.92727 2.0864-1.3969 3.4417-1.4088 1.3553-0.011889 2.4906 0.45771 3.406 1.4088 0.9154 0.95107 1.379 2.0924 1.3909 3.4239 0 1.2126-0.38043 2.2588-1.1413 3.1385l0.098834 0.090049z"></path></svg></button></td><td class="gsc-clear-button"><div class="gsc-clear-button" title="удалить результаты">&nbsp;</div></td></tr></tbody></table></form><div class="gsc-results-wrapper-overlay"><div class="gsc-results-close-btn" tabindex="0"></div><div class="gsc-tabsAreaInvisible"><div class="gsc-tabHeader gsc-inline-block gsc-tabhActive">Пользовательский поиск</div><span class="gs-spacer"> </span></div><div class="gsc-tabsAreaInvisible"></div><div class="gsc-above-wrapper-area-invisible"><table cellspacing="0" cellpadding="0" class="gsc-above-wrapper-area-container"><tbody><tr><td class="gsc-result-info-container"><div class="gsc-result-info-invisible"></div></td></tr></tbody></table></div><div class="gsc-adBlockInvisible"></div><div class="gsc-wrapper"><div class="gsc-adBlockInvisible"></div><div class="gsc-resultsbox-invisible"><div class="gsc-resultsRoot gsc-tabData gsc-tabdActive"><table cellspacing="0" cellpadding="0" class="gsc-resultsHeader"><tbody><tr><td class="gsc-twiddleRegionCell"><div class="gsc-twiddle"><div class="gsc-title">Интернет</div></div><div class="gsc-stats"></div><div class="gsc-results-selector gsc-all-results-active"><div class="gsc-result-selector gsc-one-result" title="показать один результат">&nbsp;</div><div class="gsc-result-selector gsc-more-results" title="показать другие результаты">&nbsp;</div><div class="gsc-result-selector gsc-all-results" title="показать все результаты">&nbsp;</div></div></td><td class="gsc-configLabelCell"></td></tr></tbody></table><div><div class="gsc-expansionArea"></div></div></div></div></div></div><div class="gsc-modal-background-image" tabindex="0"></div></div></div></div></p>
  </div>

</div>
			</div>
					
      </div> <!-- /#header -->

      <div id="nav">
                  <div id="block-menu-primary-links" class="block block-menu">

  
  <div class="content">
        <ul class="menu"><li class="leaf first even"><a href="http://arduino.ru/About" title="Что такое Ардуино?">Что такое Ардуино?</a></li>
<li class="leaf odd"><a href="http://arduino.ru/Arduino_environment" title="Среда разработки Arduino">Среда разработки</a></li>
<li class="leaf even"><a href="http://arduino.ru/Reference" title="Программирование Ардуино">Программирование</a></li>
<li class="leaf odd"><a href="http://arduino.ru/Hardware" title="Аппартная часть платформы Arduino">Контроллеры Arduino</a></li>
<li class="leaf even"><a href="http://arduino.ru/projects" title="">Проекты</a></li>
<li class="leaf odd"><a href="http://arduino.ru/forum" title="">Форум</a></li>
<li class="leaf last even"><a href="http://arduino.ru/buy" title="">Купить в России</a></li>
</ul>  </div>

</div>
        
              </div> <!-- /#nav -->

			
      <div id="main">
        <div class="breadcrumb"><a href="http://arduino.ru/">Главная</a> » <a href="http://arduino.ru/forum">Форумы</a> » <a href="http://arduino.ru/forumy/proekty">Проекты</a></div>                <h2>Генератор с регулируемоей частотой на ардуино.</h2>                                                

  <div id="upper-pager" class="item-list" style="height:1em"><ul class="pager"><li class="pager-current first">1</li>
<li class="pager-item"><a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino?page=1" title="На страницу номер 2" class="active">2</a></li>
<li class="pager-item"><a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino?page=2" title="На страницу номер 3" class="active">3</a></li>
<li class="pager-next"><a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino?page=1" title="На следующую страницу" class="active">следующая ›</a></li>
<li class="pager-last last"><a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino?page=2" title="На последнюю страницу" class="active">последняя »</a></li>
</ul></div>


<div class="forum-topic-header clear-block">
  <a id="top"></a>

  <ul class="forum-links"><li class="comment_forbidden first last"><span><a href="http://arduino.ru/user/login?destination=node%2F11357%23comment-form">Войдите</a> или <a href="http://arduino.ru/user/register?destination=node%2F11357%23comment-form">зарегистрируйтесь</a>, чтобы получить возможность отправлять комментарии</span></li>
</ul>
  <div class="reply-count">
    134 ответа
    
           [<a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino?page=2#comment-444579" class="active">Последнее сообщение</a>]
    
  </div>


</div>
  
    <div id="node-11357" class="top-post forum-post  clear-block">


  <div class="post-info clear-block">
    <div class="posted-on">
      Чт, 27/08/2015 - 14:05
          </div>

      </div>

  <div class="forum-post-wrapper">

    <div class="forum-post-panel-sub">
      

<div class="author-pane">
 <div class="author-pane-inner">
        <div class="author-pane-section author-pane-general">
            <div class="author-pane-line author-name">
        dimax      </div>

                    
  <div class="picture">
          <img src="./Генератор с регулируемоей частотой на ардуино. _ Аппаратная платформа Arduino_files/picture-6856.jpg" alt="dimax аватар" title="dimax аватар">      </div>
      
                    <div class="author-pane-line author-offline">
           Offline        </div>
      
            
            
            
                    <div class="author-pane-line author-joined">
          <span class="author-pane-label">Зарегистрирован:</span> 25.12.2013        </div>
      
            
                </div>

        <div class="author-pane-section author-pane-contact">
            
            
            
                </div>

        <div class="author-pane-section author-pane-admin">
            
          
               </div>
  </div>
</div>
    </div>

    <div class="forum-post-panel-main clear-block">
      
      <div class="content">
        <p>Иногда при работе с мк бывает нужно подать сигнал определённой частоты, а специального устройства у меня нет, т.к. не сильно то оно нужно, да и ставить ещё один ящик негде. Вот написал скетчик генератора с регулируемой частотой, в большинстве случаев его достаточно. Что он может: -генерит меандр на 16 битном таймере. Диапазон частот 1Гц - 8МГц. Регулировка частоты производится энкодером. До частоты 2,8 кГц разрешение 1 герц, на частотах выше таймер аппаратно уже не может поддерживать это разрешение, поэтому более высокие частоты синтезируются задавая параметром&nbsp; не требуемую частоту, а просто инкременируя регистр сравнения. Получается чем выше частота -тем больше шаг между щелчками энкодера. Вращая энкодер с ненажатой кнопкой частота меняется на 1Гц , с нажатой кнопкой один шаг -100Гц.&nbsp; Выше 2,8кГц вращение энкодера с нажатой конпкой так-же ускоряет счёт. Програмного подавления дребезга контактов энкодера нет, поэтому нужно повесить конденсаторы 0,01..0,1 мкф относительно земли. На кнопке конденсатор не обязателен. Рассчитанная математически частота выводится в сериал.&nbsp; Энкодер использовался самый <a href="http://out.arduino.ru/?redirect=http%3A%2F%2Fi.ebayimg.com%2F00%2Fs%2FODAwWDgwMA%3D%3D%2Fz%2FE2gAAOSwgQ9VpKhE%2F%24_57.JPG&amp;baseU=http%3A%2F%2Farduino.ru%2Fforum%2Fproekty%2Fgenerator-s-reguliruemoei-chastotoi-na-arduino" rel="nofollow" target="_blank">популярный</a>, для нестандартных возможно придётся корректировать обработчик.</p>
<div id="highlighter_68491" class="syntaxhighlighter  "><div class="bar       "><div class="toolbar"><a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#viewSource" title="код" class="item viewSource" style="width: 16px; height: 16px;">код</a><div class="item copyToClipboard"><embed width="16" height="16" id="highlighter_68491_clipboard" type="application/x-shockwave-flash" title="скопировать" allowscriptaccess="always" wmode="transparent" flashvars="highlighterId=highlighter_68491" menu="false" src="/sites/all/libraries/syntaxhighlighter/scripts/clipboard.swf"></div><a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#printSource" title="расечатать" class="item printSource" style="width: 16px; height: 16px;">расечатать</a><a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#about" title="?" class="item about" style="width: 16px; height: 16px;">?</a></div></div><div class="lines"><div class="line alt1"><table><tbody><tr><td class="number"><code>01</code></td><td class="content"><code class="comments">/* Генератор 1 Hz..8 MHz. Энкодер подключен к пинам A0 и A1, кнопка </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>02</code></td><td class="content"><code class="comments">энкодера подключена к A2. Требуется использовать конденсаторы&nbsp; 0,01..0,1uf </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>03</code></td><td class="content"><code class="comments">относительно земли на каждый из 2х выводов энкодера.</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>04</code></td><td class="content"><code class="comments">Скетч для ардуино на мк atmega328 (UNO,Nano, MiniPro)</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>05</code></td><td class="content"><code class="comments">*/</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>06</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>07</code></td><td class="content"><code class="keyword">float</code> <code class="plain">freq; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>08</code></td><td class="content"><code class="keyword">void</code> <code class="keyword">setup</code><code class="plain">() {</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>09</code></td><td class="content"><code class="plain">pinMode (9,OUTPUT); </code><code class="comments">// выход генератора</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>10</code></td><td class="content"><code class="plain">pinMode(A0,INPUT); </code><code class="comments">// с рассчетом, что&nbsp; энкодере внешняя подтяжка-&nbsp;&nbsp; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>11</code></td><td class="content"><code class="plain">pinMode(A1,INPUT); </code><code class="comments">// -к шине питания. Если нету, то подтянуть программно. </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>12</code></td><td class="content"><code class="plain">pinMode(A2,INPUT_PULLUP); </code><code class="comments">//кнопка энкодера </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>13</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>14</code></td><td class="content"><code class="keyword">Serial</code><code class="plain">.begin(9600);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>15</code></td><td class="content"><code class="plain">PCICR=1&lt;&lt;PCIE1; </code><code class="comments">//разрешить прерывание PCINT</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>16</code></td><td class="content"><code class="plain">PCMSK1=(1&lt;&lt;PCINT9);</code><code class="comments">// По сигналу на А1 создавать прерывание</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>17</code></td><td class="content"><code class="plain">TCCR1A=1&lt;&lt;COM1A0; </code><code class="comments">//подключить выход OC1A первого таймера</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>18</code></td><td class="content"><code class="plain">TCCR1B=0;</code><code class="comments">//</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>19</code></td><td class="content"><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>20</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>21</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>22</code></td><td class="content"><code class="plain">ISR (PCINT1_vect){</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>23</code></td><td class="content"><code class="keyword">static</code> <code class="plain">boolean gen_mode=0; </code><code class="comments">//флаг режима управления</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>24</code></td><td class="content"><code class="keyword">static</code> <code class="plain">uint32_t enc=1; </code><code class="comments">//переменная счёта энкодера</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>25</code></td><td class="content"><code class="plain">uint32_t ocr=OCR1A;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>26</code></td><td class="content"><code class="plain">uint32_t divider=1; </code><code class="comments">//переменная коэфф. деления прескалера</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>27</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>28</code></td><td class="content"><code class="keyword">byte</code> <code class="plain">n=PINC&amp;3; </code><code class="comments">//считать значение энкодера</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>29</code></td><td class="content"><code class="plain">boolean knopka = PINC&amp;(1&lt;&lt;2); </code><code class="comments">// 0-кнопка нажата, 1-кнопка НЕ нажата.</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>30</code></td><td class="content"><code class="keyword">if</code> <code class="plain">(freq&lt;2848) gen_mode=0; </code><code class="comments">//переключение режима управления по частоте</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>31</code></td><td class="content"><code class="keyword">if</code> <code class="plain">(freq&gt;=2848) gen_mode=1; </code><code class="comments">//переключение режима управления по OCR</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>32</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>33</code></td><td class="content"><code class="comments">// Если&nbsp; увеличение частоты</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>34</code></td><td class="content"><code class="keyword">if</code> <code class="plain">(n==3||n==0){ </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>35</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="keyword">if</code> <code class="plain">(gen_mode){</code><code class="keyword">if</code> <code class="plain">(knopka){ </code><code class="keyword">if</code><code class="plain">(ocr&gt;0) {ocr--; } } </code><code class="keyword">else</code> <code class="plain">{&nbsp; </code><code class="keyword">if</code><code class="plain">(ocr&gt;9)ocr-=10; }&nbsp;&nbsp; }</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>36</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="keyword">else</code> <code class="plain">knopka?&nbsp; enc++ : enc+=100; </code><code class="comments">// в нч режиме</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>37</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="plain">} </code><code class="comments">//end GetUP</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>38</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>39</code></td><td class="content"><code class="comments">// Если уменьшение частоты</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>40</code></td><td class="content"><code class="keyword">if</code> <code class="plain">(n==2||n==1){ </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>41</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="keyword">if</code> <code class="plain">(gen_mode){ </code><code class="keyword">if</code> <code class="plain">(knopka){ </code><code class="keyword">if</code><code class="plain">(ocr&lt;65535) {ocr++; } } </code><code class="keyword">else</code> <code class="plain">{&nbsp; </code><code class="keyword">if</code><code class="plain">(ocr&lt;=65525)ocr+=10; }&nbsp;&nbsp; }</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>42</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="keyword">else</code> <code class="plain">{</code><code class="keyword">if</code> <code class="plain">(knopka) { </code><code class="keyword">if</code> <code class="plain">(enc&gt;=2)enc--;&nbsp; } </code><code class="keyword">else</code> <code class="plain">{ </code><code class="keyword">if</code> <code class="plain">(enc&gt;100) enc-=100; }&nbsp; }</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>43</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="plain">} </code><code class="comments">//end GetDown</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>44</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>45</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>46</code></td><td class="content"><code class="keyword">if</code><code class="plain">(gen_mode){ OCR1A=ocr;&nbsp; freq= (</code><code class="keyword">float</code><code class="plain">)F_CPU/2 / (OCR1A+1);&nbsp; } </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>47</code></td><td class="content"><code class="keyword">else</code> <code class="plain">{ </code><code class="comments">//расчёт прескалера и OCR по нужной частоте</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>48</code></td><td class="content"><code class="plain">divider=1; ocr = (F_CPU / enc /2 /divider) -1;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>49</code></td><td class="content"><code class="keyword">if</code> <code class="plain">(ocr &gt;65536) { divider=8; ocr = F_CPU / enc /2 /divider;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>50</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(ocr &gt;65536) { divider=64; ocr = F_CPU / enc /2 /divider;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>51</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(ocr &gt;65536)&nbsp; {divider=256; ocr = F_CPU / enc /2 /divider;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>52</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(ocr &gt;65536) { divider=1024; ocr = F_CPU / enc /2 /divider;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>53</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(ocr &gt;65536){ocr=65536; }}}}} OCR1A=ocr-1; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>54</code></td><td class="content"><code class="comments">//запись в регистр прескалера&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>55</code></td><td class="content"><code class="keyword">switch</code> <code class="plain">(divider) {</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>56</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">1: TCCR1B=1|(1&lt;&lt;WGM12); </code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>57</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">8: TCCR1B=2|(1&lt;&lt;WGM12); </code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>58</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">64: TCCR1B=3|(1&lt;&lt;WGM12); </code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>59</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">256: TCCR1B=4|(1&lt;&lt;WGM12); </code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>60</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">1024: TCCR1B=5|(1&lt;&lt;WGM12); </code><code class="keyword">break</code><code class="plain">;&nbsp; }</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>61</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>62</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">freq= (</code><code class="keyword">float</code><code class="plain">) F_CPU/2 / (OCR1A+1) /divider;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>63</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">} </code><code class="comments">//end if !gen_mode</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>64</code></td><td class="content"><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>65</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>66</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>67</code></td><td class="content"><code class="keyword">void</code> <code class="keyword">loop</code><code class="plain">() {</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>68</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>69</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code>&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>70</code></td><td class="content"><code class="keyword">if</code> <code class="plain">(freq &lt;10000) { </code><code class="keyword">Serial</code><code class="plain">.print(freq,1);</code><code class="keyword">Serial</code><code class="plain">.println(</code><code class="string">" Hz "</code><code class="plain">); }</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>71</code></td><td class="content"><code class="keyword">if</code> <code class="plain">(freq &gt;10000) { </code><code class="keyword">Serial</code><code class="plain">.print(freq/1000,3);</code><code class="keyword">Serial</code><code class="plain">.println(</code><code class="string">" kHz"</code><code class="plain">);}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>72</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>73</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>74</code></td><td class="content"><code class="plain">delay(100);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>75</code></td><td class="content"><code class="plain">}</code></td></tr></tbody></table></div></div></div>

<p>&nbsp;</p>
      </div>

          </div>
  </div>

  <div class="forum-post-footer clear-block">
    <div class="forum-jump-links">
      <a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#top" title="Jump to top of page">Верх</a>
    </div>

          <div class="forum-post-links">
        <ul class="links inline forum-links"><li class="comment_forbidden first last"><span><a href="http://arduino.ru/user/login?destination=node%2F11357%23comment-form">Войдите</a> или <a href="http://arduino.ru/user/register?destination=node%2F11357%23comment-form">зарегистрируйтесь</a>, чтобы получить возможность отправлять комментарии</span></li>
</ul>      </div>
      </div>
</div><div id="comments"><a id="comment-134577"></a>

    <div class="forum-post  clear-block">

  <div class="post-info clear-block">
    <div class="posted-on">
      Чт, 27/08/2015 - 16:37
          </div>

          <span class="post-num"><a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#comment-134577" class="active">#1</a> </span>
      </div>

  <div class="forum-post-wrapper">

    <div class="forum-post-panel-sub">
      

<div class="author-pane">
 <div class="author-pane-inner">
        <div class="author-pane-section author-pane-general">
            <div class="author-pane-line author-name">
        dimax      </div>

                    
  <div class="picture">
          <img src="./Генератор с регулируемоей частотой на ардуино. _ Аппаратная платформа Arduino_files/picture-6856.jpg" alt="dimax аватар" title="dimax аватар">      </div>
      
                    <div class="author-pane-line author-offline">
           Offline        </div>
      
            
            
            
                    <div class="author-pane-line author-joined">
          <span class="author-pane-label">Зарегистрирован:</span> 25.12.2013        </div>
      
            
                </div>

        <div class="author-pane-section author-pane-contact">
            
            
            
                </div>

        <div class="author-pane-section author-pane-admin">
            
          
               </div>
  </div>
</div>
    </div>

    <div class="forum-post-panel-main clear-block">
      
      <div class="content">
        <p>Кстати заметил ошибку в стартовом сообщении. В 48 строке нужно убрать -1&nbsp; в конце строки.</p>
      </div>

          </div>
  </div>

  <div class="forum-post-footer clear-block">
    <div class="forum-jump-links">
      <a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#top" title="Jump to top of page">Верх</a>
    </div>

          <div class="forum-post-links">
        <ul class="links forum-links"><li class="comment_forbidden first"><span><a href="http://arduino.ru/user/login?destination=node%2F11357%23comment-form">Войдите</a> или <a href="http://arduino.ru/user/register?destination=node%2F11357%23comment-form">зарегистрируйтесь</a>, чтобы получить возможность отправлять комментарии</span></li>
<li class="vud_comment_votes_count last"></li>
</ul>      </div>
      </div>
</div><a id="comment-134710"></a>

    <div class="forum-post  clear-block">

  <div class="post-info clear-block">
    <div class="posted-on">
      Чт, 27/08/2015 - 21:37
          </div>

          <span class="post-num"><a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#comment-134710" class="active">#2</a> </span>
      </div>

  <div class="forum-post-wrapper">

    <div class="forum-post-panel-sub">
      

<div class="author-pane">
 <div class="author-pane-inner">
        <div class="author-pane-section author-pane-general">
            <div class="author-pane-line author-name">
        Kolchugin      </div>

                    
      
                    <div class="author-pane-line author-offline">
           Offline        </div>
      
            
            
            
                    <div class="author-pane-line author-joined">
          <span class="author-pane-label">Зарегистрирован:</span> 15.12.2013        </div>
      
            
                </div>

        <div class="author-pane-section author-pane-contact">
            
            
            
                </div>

        <div class="author-pane-section author-pane-admin">
            
          
               </div>
  </div>
</div>
    </div>

    <div class="forum-post-panel-main clear-block">
      
      <div class="content">
        <p><strong>dimax.&nbsp;</strong>Проверил ваш проект в работе. &nbsp;Смотрел меандр осциллографической приставкой, так же покрутил на частотомере.<br>
	Всё отлично!&nbsp;</p>
<p><img alt="" src="./Генератор с регулируемоей частотой на ардуино. _ Аппаратная платформа Arduino_files/generator.jpg" style="width:780px;height:518px;" width="780" height="518"></p>
      </div>

          </div>
  </div>

  <div class="forum-post-footer clear-block">
    <div class="forum-jump-links">
      <a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#top" title="Jump to top of page">Верх</a>
    </div>

          <div class="forum-post-links">
        <ul class="links forum-links"><li class="comment_forbidden first"><span><a href="http://arduino.ru/user/login?destination=node%2F11357%23comment-form">Войдите</a> или <a href="http://arduino.ru/user/register?destination=node%2F11357%23comment-form">зарегистрируйтесь</a>, чтобы получить возможность отправлять комментарии</span></li>
<li class="vud_comment_votes_count last"></li>
</ul>      </div>
      </div>
</div><a id="comment-135129"></a>

    <div class="forum-post  clear-block">

  <div class="post-info clear-block">
    <div class="posted-on">
      Пнд, 31/08/2015 - 16:50
          </div>

          <span class="post-num"><a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#comment-135129" class="active">#3</a> </span>
      </div>

  <div class="forum-post-wrapper">

    <div class="forum-post-panel-sub">
      

<div class="author-pane">
 <div class="author-pane-inner">
        <div class="author-pane-section author-pane-general">
            <div class="author-pane-line author-name">
        dimax      </div>

                    
  <div class="picture">
          <img src="./Генератор с регулируемоей частотой на ардуино. _ Аппаратная платформа Arduino_files/picture-6856.jpg" alt="dimax аватар" title="dimax аватар">      </div>
      
                    <div class="author-pane-line author-offline">
           Offline        </div>
      
            
            
            
                    <div class="author-pane-line author-joined">
          <span class="author-pane-label">Зарегистрирован:</span> 25.12.2013        </div>
      
            
                </div>

        <div class="author-pane-section author-pane-contact">
            
            
            
                </div>

        <div class="author-pane-section author-pane-admin">
            
          
               </div>
  </div>
</div>
    </div>

    <div class="forum-post-panel-main clear-block">
      
      <div class="content">
        <p>jeka_tm, вот, модифицировал основной код. Эта версия с регулировкой скважности. Частоту ограничивать в итоге не стал, скважность регулируется на всех частотах, просто начиная с какого-то значения регулируется всё бОльшими рывками. На мегагерце например всего 8 градаций.&nbsp; Но энкодер всё равно везде счёлкает 100 градаций (в процентах).Некоторое неудобство, но избавится от него малыми силами не выйдет. Хочешь, сам повозись, можно по идее ввести разрядность регулировки скважности в зависимости от частоты.</p>
<div id="highlighter_363682" class="syntaxhighlighter collapsed  "><div class="bar "><div class="toolbar"><a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#expandSource" title="показать код" class="item expandSource" style="width: 16px; height: 16px;">показать код</a><a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#viewSource" title="код" class="item viewSource" style="width: 16px; height: 16px;">код</a><div class="item copyToClipboard"><embed width="16" height="16" id="highlighter_363682_clipboard" type="application/x-shockwave-flash" title="скопировать" allowscriptaccess="always" wmode="transparent" flashvars="highlighterId=highlighter_363682" menu="false" src="/sites/all/libraries/syntaxhighlighter/scripts/clipboard.swf"></div><a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#printSource" title="расечатать" class="item printSource" style="width: 16px; height: 16px;">расечатать</a><a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#about" title="?" class="item about" style="width: 16px; height: 16px;">?</a></div></div><div class="lines"><div class="line alt1"><table><tbody><tr><td class="number"><code>01</code></td><td class="content"><code class="comments">/* Генератор 1 Hz..4 MHz. С регулировкой скважности. Энкодер регулировки частоты </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>02</code></td><td class="content"><code class="comments">подключен к пинам A0 и A1, кнопка&nbsp; энкодера подключена к A2. </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>03</code></td><td class="content"><code class="comments">Энкодер регулировки скважности&nbsp; подключен к пинам 8 и 10</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>04</code></td><td class="content"><code class="comments">Его кнопка не задействована.</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>05</code></td><td class="content"><code class="comments">Требуется использовать конденсаторы&nbsp; 0,01..0,1uf&nbsp; относительно земли </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>06</code></td><td class="content"><code class="comments">на каждый вывод обоих энкодеров.</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>07</code></td><td class="content"><code class="comments">Скетч для ардуино на мк atmega328 (UNO,Nano, MiniPro)</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>08</code></td><td class="content"><code class="comments">*/</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>09</code></td><td class="content"><code class="preprocessor">#define set_duty() { OCR1A=(uint32_t)ICR1*duty/100; }</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>10</code></td><td class="content"><code class="plain">uint8_t duty=50;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>11</code></td><td class="content"><code class="keyword">float</code> <code class="plain">freq; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>12</code></td><td class="content"><code class="keyword">void</code> <code class="keyword">setup</code><code class="plain">() {</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>13</code></td><td class="content"><code class="keyword">Serial</code><code class="plain">.begin(9600);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>14</code></td><td class="content"><code class="plain">pinMode (9,OUTPUT); </code><code class="comments">// выход генератора PB2</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>15</code></td><td class="content"><code class="plain">pinMode(A0,INPUT); </code><code class="comments">// PC0 вывод энкодера "частота"</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>16</code></td><td class="content"><code class="plain">pinMode(A1,INPUT); </code><code class="comments">// PC1 вывод энкодера "частота"</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>17</code></td><td class="content"><code class="plain">pinMode(A2,INPUT_PULLUP);&nbsp; </code><code class="comments">// PC2 кнопка энкодера </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>18</code></td><td class="content"><code class="plain">pinMode(8,INPUT);&nbsp; </code><code class="comments">// PB0 вывод энкодера "скважность"</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>19</code></td><td class="content"><code class="plain">pinMode(10,INPUT); </code><code class="comments">// PB2 вывод энкодера "скважность"</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>20</code></td><td class="content"><code class="plain">PCICR=(1&lt;&lt;PCIE1)|(1&lt;&lt;PCIE0); </code><code class="comments">//разрешить прерывания PCINT 0, 1</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>21</code></td><td class="content"><code class="plain">PCMSK1=1&lt;&lt;PCINT9;</code><code class="comments">// По сигналу на А1 создавать прерывание (устновка частоты)</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>22</code></td><td class="content"><code class="plain">PCMSK0=1&lt;&lt;PCINT0;</code><code class="comments">// По сигналу на pin8 создавать прерывание (скважность)</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>23</code></td><td class="content"><code class="plain">TCCR1A=1&lt;&lt;COM1A1; </code><code class="comments">//подключить выход OC1A первого таймера</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>24</code></td><td class="content"><code class="plain">TCCR1B=0;</code><code class="comments">//</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>25</code></td><td class="content"><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>26</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>27</code></td><td class="content"><code class="plain">ISR (PCINT1_vect){</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>28</code></td><td class="content"><code class="keyword">static</code> <code class="plain">boolean gen_mode=0; </code><code class="comments">//флаг режима управления</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>29</code></td><td class="content"><code class="keyword">static</code> <code class="plain">uint32_t enc=1; </code><code class="comments">//переменная счёта энкодера</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>30</code></td><td class="content"><code class="plain">uint32_t icr=ICR1;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>31</code></td><td class="content"><code class="plain">uint16_t divider=1; </code><code class="comments">//переменная коэфф. деления прескалера</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>32</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>33</code></td><td class="content"><code class="keyword">byte</code> <code class="plain">n=PINC&amp;3; </code><code class="comments">//считать значение энкодера частоты</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>34</code></td><td class="content"><code class="plain">boolean knopka = PINC&amp;(1&lt;&lt;2); </code><code class="comments">// 0-кнопка нажата, 1-кнопка НЕ нажата.</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>35</code></td><td class="content"><code class="keyword">if</code> <code class="plain">(freq&lt;2848) gen_mode=0; </code><code class="comments">//переключение режима управления по частоте</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>36</code></td><td class="content"><code class="keyword">if</code> <code class="plain">(freq&gt;=2848) gen_mode=1; </code><code class="comments">//переключение режима управления по OCR</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>37</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>38</code></td><td class="content"><code class="comments">// Если&nbsp; увеличение частоты</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>39</code></td><td class="content"><code class="keyword">if</code> <code class="plain">(n==3||n==0){ </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>40</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="keyword">if</code> <code class="plain">(gen_mode){</code><code class="keyword">if</code> <code class="plain">(knopka){ </code><code class="keyword">if</code><code class="plain">(icr&gt;2) {icr--; } } </code><code class="keyword">else</code> <code class="plain">{&nbsp; </code><code class="keyword">if</code><code class="plain">(icr&gt;12)icr-=10; }&nbsp;&nbsp; }</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>41</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="keyword">else</code> <code class="plain">knopka?&nbsp; enc++ : enc+=100; </code><code class="comments">// в нч режиме</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>42</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="plain">} </code><code class="comments">//end GetUP</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>43</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>44</code></td><td class="content"><code class="comments">// Если уменьшение частоты</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>45</code></td><td class="content"><code class="keyword">if</code> <code class="plain">(n==2||n==1){ </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>46</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="keyword">if</code> <code class="plain">(gen_mode){ </code><code class="keyword">if</code> <code class="plain">(knopka){ </code><code class="keyword">if</code><code class="plain">(icr&lt;65535) {icr++; } } </code><code class="keyword">else</code> <code class="plain">{&nbsp; </code><code class="keyword">if</code><code class="plain">(icr&lt;=65525)icr+=10; }&nbsp;&nbsp; }</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>47</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="keyword">else</code> <code class="plain">{</code><code class="keyword">if</code> <code class="plain">(knopka) { </code><code class="keyword">if</code> <code class="plain">(enc&gt;=2)enc--;&nbsp; } </code><code class="keyword">else</code> <code class="plain">{ </code><code class="keyword">if</code> <code class="plain">(enc&gt;100) enc-=100; }&nbsp; }</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>48</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="plain">} </code><code class="comments">//end GetDown</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>49</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>50</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>51</code></td><td class="content"><code class="keyword">if</code><code class="plain">(gen_mode){ ICR1=icr; set_duty(); freq= (</code><code class="keyword">float</code><code class="plain">)F_CPU/2 / ICR1;&nbsp; } </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>52</code></td><td class="content"><code class="keyword">else</code> <code class="plain">{ </code><code class="comments">//расчёт прескалера и ICR по нужной частоте</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>53</code></td><td class="content"><code class="plain">divider=1; icr = F_CPU / enc /2 /divider;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>54</code></td><td class="content"><code class="keyword">if</code> <code class="plain">(icr &gt;65536) { divider=8; icr = F_CPU / enc /2 /divider;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>55</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(icr &gt;65536) { divider=64; icr = F_CPU / enc /2 /divider;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>56</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(icr &gt;65536)&nbsp; {divider=256; icr = F_CPU / enc /2 /divider;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>57</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(icr &gt;65536) { divider=1024; icr = F_CPU / enc /2 /divider;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>58</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(icr &gt;65536){icr=65536; }}}}} ICR1=icr-1; set_duty();</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>59</code></td><td class="content"><code class="comments">//запись в регистр прескалера&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>60</code></td><td class="content"><code class="keyword">switch</code> <code class="plain">(divider) {</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>61</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">1: TCCR1B=1|(1&lt;&lt;WGM13); </code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>62</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">8: TCCR1B=2|(1&lt;&lt;WGM13); </code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>63</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">64: TCCR1B=3|(1&lt;&lt;WGM13); </code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>64</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">256: TCCR1B=4|(1&lt;&lt;WGM13); </code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>65</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">1024: TCCR1B=5|(1&lt;&lt;WGM13); </code><code class="keyword">break</code><code class="plain">;&nbsp; }</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>66</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>67</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">freq= (</code><code class="keyword">float</code><code class="plain">) F_CPU/2 / (ICR1+1) /divider;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>68</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">} </code><code class="comments">//конец "если&nbsp; работа в НЧ режиме"</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>69</code></td><td class="content"><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>70</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>71</code></td><td class="content"><code class="plain">ISR (PCINT0_vect){ </code><code class="comments">//обработчик энкодера "скважность"</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>72</code></td><td class="content"><code class="keyword">byte</code> <code class="plain">m=PINB&amp;B00000101; </code><code class="comments">//считать значение энкодера2</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>73</code></td><td class="content"><code class="keyword">if</code> <code class="plain">(m==0||m==5){ </code><code class="keyword">if</code><code class="plain">(duty&lt;100) {duty++; }&nbsp; }</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>74</code></td><td class="content"><code class="keyword">if</code> <code class="plain">(m==1||m==4){ </code><code class="keyword">if</code><code class="plain">(duty&gt;0) {duty--; }&nbsp; }</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>75</code></td><td class="content"><code class="plain">set_duty();</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>76</code></td><td class="content"><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>77</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>78</code></td><td class="content"><code class="keyword">void</code> <code class="keyword">loop</code><code class="plain">() {</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>79</code></td><td class="content"><code class="keyword">if</code> <code class="plain">(freq &lt;10000) { </code><code class="keyword">Serial</code><code class="plain">.print(freq,1);</code><code class="keyword">Serial</code><code class="plain">.print(</code><code class="string">" Hz "</code><code class="plain">); }</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>80</code></td><td class="content"><code class="keyword">if</code> <code class="plain">(freq &gt;10000) { </code><code class="keyword">Serial</code><code class="plain">.print(freq/1000,3);</code><code class="keyword">Serial</code><code class="plain">.print(</code><code class="string">" kHz"</code><code class="plain">);}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>81</code></td><td class="content"><code class="keyword">Serial</code><code class="plain">.print(</code><code class="string">"&lt;br&gt;"</code><code class="plain">); </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>82</code></td><td class="content"><code class="keyword">Serial</code><code class="plain">.print(</code><code class="string">"Duty="</code><code class="plain">); </code><code class="keyword">Serial</code><code class="plain">.print(duty); </code><code class="keyword">Serial</code><code class="plain">.print(</code><code class="string">"%"</code><code class="plain">);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>83</code></td><td class="content"><code class="keyword">Serial</code><code class="plain">.println();</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>84</code></td><td class="content"><code class="plain">delay(100);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>85</code></td><td class="content"><code class="plain">}</code></td></tr></tbody></table></div></div></div>

<p>&nbsp;</p>
      </div>

          </div>
  </div>

  <div class="forum-post-footer clear-block">
    <div class="forum-jump-links">
      <a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#top" title="Jump to top of page">Верх</a>
    </div>

          <div class="forum-post-links">
        <ul class="links forum-links"><li class="comment_forbidden first"><span><a href="http://arduino.ru/user/login?destination=node%2F11357%23comment-form">Войдите</a> или <a href="http://arduino.ru/user/register?destination=node%2F11357%23comment-form">зарегистрируйтесь</a>, чтобы получить возможность отправлять комментарии</span></li>
<li class="vud_comment_votes_count last"></li>
</ul>      </div>
      </div>
</div><a id="comment-137412"></a>

    <div class="forum-post  clear-block">

  <div class="post-info clear-block">
    <div class="posted-on">
      Сб, 19/09/2015 - 15:24
          </div>

          <span class="post-num"><a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#comment-137412" class="active">#4</a> </span>
      </div>

  <div class="forum-post-wrapper">

    <div class="forum-post-panel-sub">
      

<div class="author-pane">
 <div class="author-pane-inner">
        <div class="author-pane-section author-pane-general">
            <div class="author-pane-line author-name">
        dimax      </div>

                    
  <div class="picture">
          <img src="./Генератор с регулируемоей частотой на ардуино. _ Аппаратная платформа Arduino_files/picture-6856.jpg" alt="dimax аватар" title="dimax аватар">      </div>
      
                    <div class="author-pane-line author-offline">
           Offline        </div>
      
            
            
            
                    <div class="author-pane-line author-joined">
          <span class="author-pane-label">Зарегистрирован:</span> 25.12.2013        </div>
      
            
                </div>

        <div class="author-pane-section author-pane-contact">
            
            
            
                </div>

        <div class="author-pane-section author-pane-admin">
            
          
               </div>
  </div>
</div>
    </div>

    <div class="forum-post-panel-main clear-block">
      
      <div class="content">
        <p>Сделал генератор-шилд для UNO, как и задумывал ранее. За основу взята версия с регулировкой скважности, но вместо второго энкодера добавил кнопку, которая переключает&nbsp; энкодер в режим частоты или скважности.&nbsp; Фотки и видео:</p>
<p><img alt="" src="./Генератор с регулируемоей частотой на ардуино. _ Аппаратная платформа Arduino_files/my_gen1.jpg" style="width:640px;height:360px;" width="640" height="360"></p>
<p><img alt="" src="./Генератор с регулируемоей частотой на ардуино. _ Аппаратная платформа Arduino_files/my_gen2.jpg" style="width:744px;height:600px;" width="744" height="600"></p>
<p>И видео с демонстрацией режимов (быстрая регулировка частоты, по-герцевая регулировка, регулировка скважности)<a href="http://out.arduino.ru/?redirect=https%3A%2F%2Fcloud.mail.ru%2Fpublic%2FAuqD%2Fxh47ncUhf&amp;baseU=http%3A%2F%2Farduino.ru%2Fforum%2Fproekty%2Fgenerator-s-reguliruemoei-chastotoi-na-arduino" rel="nofollow" target="_blank"> https://cloud.mail.ru/public/CaFy/QxWcRpwSy</a></p>
      </div>

          </div>
  </div>

  <div class="forum-post-footer clear-block">
    <div class="forum-jump-links">
      <a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#top" title="Jump to top of page">Верх</a>
    </div>

          <div class="forum-post-links">
        <ul class="links forum-links"><li class="comment_forbidden first"><span><a href="http://arduino.ru/user/login?destination=node%2F11357%23comment-form">Войдите</a> или <a href="http://arduino.ru/user/register?destination=node%2F11357%23comment-form">зарегистрируйтесь</a>, чтобы получить возможность отправлять комментарии</span></li>
<li class="vud_comment_votes_count last"></li>
</ul>      </div>
      </div>
</div><a id="comment-137657"></a>

    <div class="forum-post  clear-block">

  <div class="post-info clear-block">
    <div class="posted-on">
      Пт, 18/09/2015 - 09:39
          </div>

          <span class="post-num"><a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#comment-137657" class="active">#5</a> </span>
      </div>

  <div class="forum-post-wrapper">

    <div class="forum-post-panel-sub">
      

<div class="author-pane">
 <div class="author-pane-inner">
        <div class="author-pane-section author-pane-general">
            <div class="author-pane-line author-name">
        jeka_tm      </div>

                    
  <div class="picture">
          <img src="./Генератор с регулируемоей частотой на ардуино. _ Аппаратная платформа Arduino_files/picture-4939.gif" alt="jeka_tm аватар" title="jeka_tm аватар">      </div>
      
                    <div class="author-pane-line author-offline">
           Offline        </div>
      
            
            
            
                    <div class="author-pane-line author-joined">
          <span class="author-pane-label">Зарегистрирован:</span> 19.05.2013        </div>
      
            
                </div>

        <div class="author-pane-section author-pane-contact">
            
            
            
                </div>

        <div class="author-pane-section author-pane-admin">
            
          
               </div>
  </div>
</div>
    </div>

    <div class="forum-post-panel-main clear-block">
      
      <div class="content">
        <p>а можеim скинуть код как в 18 посте но кнопкой плюс энкодер как на видео?</p>
      </div>

          </div>
  </div>

  <div class="forum-post-footer clear-block">
    <div class="forum-jump-links">
      <a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#top" title="Jump to top of page">Верх</a>
    </div>

          <div class="forum-post-links">
        <ul class="links forum-links"><li class="comment_forbidden first"><span><a href="http://arduino.ru/user/login?destination=node%2F11357%23comment-form">Войдите</a> или <a href="http://arduino.ru/user/register?destination=node%2F11357%23comment-form">зарегистрируйтесь</a>, чтобы получить возможность отправлять комментарии</span></li>
<li class="vud_comment_votes_count last"></li>
</ul>      </div>
      </div>
</div><a id="comment-137669"></a>

    <div class="forum-post  clear-block">

  <div class="post-info clear-block">
    <div class="posted-on">
      Пт, 18/09/2015 - 11:05
          </div>

          <span class="post-num"><a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#comment-137669" class="active">#6</a> </span>
      </div>

  <div class="forum-post-wrapper">

    <div class="forum-post-panel-sub">
      

<div class="author-pane">
 <div class="author-pane-inner">
        <div class="author-pane-section author-pane-general">
            <div class="author-pane-line author-name">
        dimax      </div>

                    
  <div class="picture">
          <img src="./Генератор с регулируемоей частотой на ардуино. _ Аппаратная платформа Arduino_files/picture-6856.jpg" alt="dimax аватар" title="dimax аватар">      </div>
      
                    <div class="author-pane-line author-offline">
           Offline        </div>
      
            
            
            
                    <div class="author-pane-line author-joined">
          <span class="author-pane-label">Зарегистрирован:</span> 25.12.2013        </div>
      
            
                </div>

        <div class="author-pane-section author-pane-contact">
            
            
            
                </div>

        <div class="author-pane-section author-pane-admin">
            
          
               </div>
  </div>
</div>
    </div>

    <div class="forum-post-panel-main clear-block">
      
      <div class="content">
        <p>jeka_tm, да, конечно.&nbsp;</p>
<div id="highlighter_505687" class="syntaxhighlighter collapsed  "><div class="bar "><div class="toolbar"><a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#expandSource" title="показать код" class="item expandSource" style="width: 16px; height: 16px;">показать код</a><a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#viewSource" title="код" class="item viewSource" style="width: 16px; height: 16px;">код</a><div class="item copyToClipboard"><embed width="16" height="16" id="highlighter_505687_clipboard" type="application/x-shockwave-flash" title="скопировать" allowscriptaccess="always" wmode="transparent" flashvars="highlighterId=highlighter_505687" menu="false" src="/sites/all/libraries/syntaxhighlighter/scripts/clipboard.swf"></div><a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#printSource" title="расечатать" class="item printSource" style="width: 16px; height: 16px;">расечатать</a><a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#about" title="?" class="item about" style="width: 16px; height: 16px;">?</a></div></div><div class="lines"><div class="line alt1"><table><tbody><tr><td class="number"><code>001</code></td><td class="content"><code class="comments">/* Генератор 1 Hz..4 MHz. С регулировкой скважности. Энкодер </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>002</code></td><td class="content"><code class="comments">подключен к пинам A1 и A2, кнопка&nbsp; энкодера подключена к A0. </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>003</code></td><td class="content"><code class="comments">Кнопка частота/скважность 2</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>004</code></td><td class="content"><code class="comments">Требуется использовать конденсаторы&nbsp; 0,01..0,1uf&nbsp; относительно земли </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>005</code></td><td class="content"><code class="comments">на каждый вывод энкодера. Скетч для ардуино на мк atmega328 (UNO,Nano, MiniPro)</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>006</code></td><td class="content"><code class="comments">Дрова для 5110 взяты из&nbsp; &lt;a href="<a href="http://out.arduino.ru/?redirect=http%3A%2F%2Fwww.rinkydinkelectronics.com%2Flibrary.php%3Fid%3D44&amp;baseU=http%3A%2F%2Farduino.ru%2Fforum%2Fproekty%2Fgenerator-s-reguliruemoei-chastotoi-na-arduino" target="_blank" rel="nofollow">http://www.rinkydinkelectronics.com/library.php?id=44</a>" title="<a href="http://out.arduino.ru/?redirect=http%3A%2F%2Fwww.rinkydinkelectronics.com%2Flibrary.php%3Fid%3D44&amp;baseU=http%3A%2F%2Farduino.ru%2Fforum%2Fproekty%2Fgenerator-s-reguliruemoei-chastotoi-na-arduino" target="_blank" rel="nofollow">http://www.rinkydinkelectronics.com/library.php?id=44</a>" rel="nofollow"&gt;<a href="http://out.arduino.ru/?redirect=http%3A%2F%2Fwww.rinkydinkelectronics.com%2Flibrary.php%3Fid%3D44%253C%2Fa&amp;baseU=http%3A%2F%2Farduino.ru%2Fforum%2Fproekty%2Fgenerator-s-reguliruemoei-chastotoi-na-arduino" target="_blank" rel="nofollow">http://www.rinkydinkelectronics.com/library.php?id=44&lt;/a</a>&gt;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>007</code></td><td class="content"><code class="comments">*/</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>008</code></td><td class="content"><code class="preprocessor">#include &lt;LCD5110_Basic.h&gt;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>009</code></td><td class="content"><code class="plain">LCD5110 lcd(3,4,5,6,7);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>010</code></td><td class="content"><code class="keyword">extern</code> <code class="plain">uint8_t SmallFont[];</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>011</code></td><td class="content"><code class="keyword">extern</code> <code class="plain">uint8_t MediumNumbers[];</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>012</code></td><td class="content"><code class="preprocessor">#define set_duty() { OCR1A=(uint32_t)ICR1*duty/100; }</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>013</code></td><td class="content"><code class="plain">uint8_t duty=50;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>014</code></td><td class="content"><code class="keyword">float</code> <code class="plain">freq; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>015</code></td><td class="content"><code class="plain">volatile uint8_t enc_mode_flag=1; </code><code class="comments">// По умолчанию энкодер регулирует частоту</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>016</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>017</code></td><td class="content"><code class="keyword">void</code> <code class="keyword">setup</code><code class="plain">() {</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>018</code></td><td class="content"><code class="plain">lcd.InitLCD();</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>019</code></td><td class="content"><code class="plain">lcd.setContrast(65); </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>020</code></td><td class="content"><code class="plain">pinMode (13,OUTPUT); </code><code class="comments">// LED</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>021</code></td><td class="content"><code class="plain">pinMode (9,OUTPUT); </code><code class="comments">// выход генератора PB2</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>022</code></td><td class="content"><code class="plain">pinMode(A0,INPUT); </code><code class="comments">// PC0 кнопка энкодера </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>023</code></td><td class="content"><code class="plain">pinMode(A1,INPUT); </code><code class="comments">// PC1 вывод энкодера</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>024</code></td><td class="content"><code class="plain">pinMode(A2,INPUT);&nbsp; </code><code class="comments">// PC2 вывод энкодера </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>025</code></td><td class="content"><code class="plain">pinMode(2,INPUT_PULLUP); </code><code class="comments">// подтяжка кнопки "режим энкодера"</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>026</code></td><td class="content"><code class="plain">PCICR=1&lt;&lt;PCIE1; </code><code class="comments">//разрешить прерывание PCINT1</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>027</code></td><td class="content"><code class="plain">PCMSK1=1&lt;&lt;PCINT9;</code><code class="comments">// По сигналу на А1 создавать прерывание</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>028</code></td><td class="content"><code class="plain">TCCR1A=1&lt;&lt;COM1A1; </code><code class="comments">//подключить выход OC1A первого таймера</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>029</code></td><td class="content"><code class="plain">TCCR1B=0;</code><code class="comments">//</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>030</code></td><td class="content"><code class="plain">EICRA=1&lt;&lt;ISC01; </code><code class="comments">//int0 -falling mode</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>031</code></td><td class="content"><code class="plain">EIMSK=1; </code><code class="comments">//int0 enable</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>032</code></td><td class="content"><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>033</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>034</code></td><td class="content"><code class="plain">ISR (INT0_vect){</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>035</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">((PIND &amp; (1&lt;&lt;2)) == 0)</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>036</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">{ enc_mode_flag = !enc_mode_flag; }</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>037</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>038</code></td><td class="content"><code class="plain">ISR (PCINT1_vect){;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>039</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">uint8_t n=PINC&amp;6; </code><code class="comments">//считать значение энкодера частоты</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>040</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(enc_mode_flag)&nbsp; enc_freq(n); </code><code class="comments">// если энкодер в режиме частоты</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>041</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(!enc_mode_flag) enc_duty(n); </code><code class="comments">// если энкодер в режиме скважности</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>042</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>043</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>044</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>045</code></td><td class="content"><code class="keyword">void</code> <code class="plain">enc_freq(uint8_t n){</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>046</code></td><td class="content"><code class="keyword">static</code> <code class="plain">boolean gen_mode=0; </code><code class="comments">//флаг режима управления</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>047</code></td><td class="content"><code class="keyword">static</code> <code class="plain">uint32_t enc=1; </code><code class="comments">//переменная счёта энкодера</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>048</code></td><td class="content"><code class="plain">uint32_t icr=ICR1;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>049</code></td><td class="content"><code class="plain">uint16_t divider=1; </code><code class="comments">//переменная коэфф. деления прескалера</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>050</code></td><td class="content"><code class="plain">boolean knopka = PINC&amp;(1&lt;&lt;0); </code><code class="comments">// 0-кнопка нажата, 1-кнопка НЕ нажата.</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>051</code></td><td class="content"><code class="keyword">if</code> <code class="plain">(freq&lt;2848) gen_mode=0; </code><code class="comments">//переключение режима управления по частоте</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>052</code></td><td class="content"><code class="keyword">if</code> <code class="plain">(freq&gt;=2848) gen_mode=1; </code><code class="comments">//переключение режима управления по OCR</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>053</code></td><td class="content"><code class="comments">// Если&nbsp; увеличение частоты</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>054</code></td><td class="content"><code class="keyword">if</code> <code class="plain">(n==4||n==2){ </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>055</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="keyword">if</code> <code class="plain">(gen_mode){</code><code class="keyword">if</code> <code class="plain">(knopka){ </code><code class="keyword">if</code><code class="plain">(icr&gt;2) {icr--; } } </code><code class="keyword">else</code> <code class="plain">{&nbsp; </code><code class="keyword">if</code><code class="plain">(icr&gt;12)icr-=10; }&nbsp;&nbsp; }</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>056</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="keyword">else</code> <code class="plain">knopka?&nbsp; enc++ : enc+=100; </code><code class="comments">// в нч режиме</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>057</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="plain">} </code><code class="comments">//end GetUP</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>058</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>059</code></td><td class="content"><code class="comments">// Если уменьшение частоты</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>060</code></td><td class="content"><code class="keyword">if</code> <code class="plain">(n==6||n==0){ </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>061</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="keyword">if</code> <code class="plain">(gen_mode){ </code><code class="keyword">if</code> <code class="plain">(knopka){ </code><code class="keyword">if</code><code class="plain">(icr&lt;65535) {icr++; } } </code><code class="keyword">else</code> <code class="plain">{&nbsp; </code><code class="keyword">if</code><code class="plain">(icr&lt;=65525)icr+=10; }&nbsp;&nbsp; }</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>062</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="keyword">else</code> <code class="plain">{</code><code class="keyword">if</code> <code class="plain">(knopka) { </code><code class="keyword">if</code> <code class="plain">(enc&gt;=2)enc--;&nbsp; } </code><code class="keyword">else</code> <code class="plain">{ </code><code class="keyword">if</code> <code class="plain">(enc&gt;100) enc-=100; }&nbsp; }</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>063</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="plain">} </code><code class="comments">//end GetDown</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>064</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>065</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>066</code></td><td class="content"><code class="keyword">if</code><code class="plain">(gen_mode){ ICR1=icr; set_duty(); freq= (</code><code class="keyword">float</code><code class="plain">)F_CPU/2 / ICR1;&nbsp; } </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>067</code></td><td class="content"><code class="keyword">else</code> <code class="plain">{ </code><code class="comments">//расчёт прескалера и ICR по нужной частоте</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>068</code></td><td class="content"><code class="plain">divider=1; icr = F_CPU / enc /2 /divider;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>069</code></td><td class="content"><code class="keyword">if</code> <code class="plain">(icr &gt;65536) { divider=8; icr = F_CPU / enc /2 /divider;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>070</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(icr &gt;65536) { divider=64; icr = F_CPU / enc /2 /divider;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>071</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(icr &gt;65536)&nbsp; {divider=256; icr = F_CPU / enc /2 /divider;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>072</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(icr &gt;65536) { divider=1024; icr = F_CPU / enc /2 /divider;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>073</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(icr &gt;65536){icr=65536; }}}}} ICR1=icr-1; set_duty();</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>074</code></td><td class="content"><code class="comments">//запись в регистр прескалера&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>075</code></td><td class="content"><code class="keyword">switch</code> <code class="plain">(divider) {</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>076</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">1: TCCR1B=1|(1&lt;&lt;WGM13); </code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>077</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">8: TCCR1B=2|(1&lt;&lt;WGM13); </code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>078</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">64: TCCR1B=3|(1&lt;&lt;WGM13); </code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>079</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">256: TCCR1B=4|(1&lt;&lt;WGM13); </code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>080</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">1024: TCCR1B=5|(1&lt;&lt;WGM13); </code><code class="keyword">break</code><code class="plain">;&nbsp; }</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>081</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>082</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">freq= (</code><code class="keyword">float</code><code class="plain">) F_CPU/2 / (ICR1+1) /divider;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>083</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">} </code><code class="comments">//конец "если&nbsp; не Gen_mode (частота менее 2848 герц)</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>084</code></td><td class="content"><code class="plain">} </code><code class="comments">// конец enc_freq </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>085</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>086</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>087</code></td><td class="content"><code class="keyword">void</code> <code class="plain">enc_duty(uint8_t n){</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>088</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="comments">// Если&nbsp; увеличение скважности</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>089</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="keyword">if</code> <code class="plain">(n==4||n==2){</code><code class="keyword">if</code><code class="plain">(duty&lt;100) {duty++; }&nbsp; }</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>090</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="comments">// Если уменьшение скважности</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>091</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="keyword">if</code> <code class="plain">(n==6||n==0){ </code><code class="keyword">if</code><code class="plain">(duty&gt;0) {duty--; }}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>092</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="plain">set_duty();</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>093</code></td><td class="content"><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>094</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>095</code></td><td class="content"><code class="keyword">void</code> <code class="keyword">loop</code><code class="plain">() {</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>096</code></td><td class="content"><code class="plain">String freqstr, dutystr,modestr;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>097</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>098</code></td><td class="content"><code class="keyword">if</code> <code class="plain">(freq &lt;10000) {</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>099</code></td><td class="content"><code class="plain">freqstr= String( String(freq,2)+ </code><code class="string">" Hz&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "</code><code class="plain">);&nbsp; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>100</code></td><td class="content"><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>101</code></td><td class="content"><code class="keyword">if</code> <code class="plain">(freq &gt;10000) {</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>102</code></td><td class="content"><code class="plain">freqstr= String( String((freq/1000),3)+ </code><code class="string">" KHz&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "</code><code class="plain">);&nbsp; }</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>103</code></td><td class="content"><code class="plain">lcd.setFont(SmallFont);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>104</code></td><td class="content"><code class="comments">//byte l= freqstr.length();</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>105</code></td><td class="content"><code class="plain">lcd.print(freqstr, LEFT, 0);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>106</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>107</code></td><td class="content"><code class="plain">dutystr= String(</code><code class="string">"Duty="</code><code class="plain">+ String(duty)+ </code><code class="string">" %&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "</code><code class="plain">);&nbsp; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>108</code></td><td class="content"><code class="plain">lcd.print(dutystr, LEFT, 8);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>109</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>110</code></td><td class="content"><code class="plain">enc_mode_flag? modestr=String(</code><code class="string">"ENCMode=Freq"</code><code class="plain">) : modestr=String(</code><code class="string">"ENCMode=Duty"</code><code class="plain">);&nbsp; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>111</code></td><td class="content"><code class="plain">lcd.print(modestr, LEFT, 16);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>112</code></td><td class="content"><code class="plain">delay(100);</code><code class="comments">// что-б слишком часто в дисплей не писало..</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>113</code></td><td class="content"><code class="plain">}</code></td></tr></tbody></table></div></div></div>

<p>&nbsp;</p>
      </div>

          </div>
  </div>

  <div class="forum-post-footer clear-block">
    <div class="forum-jump-links">
      <a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#top" title="Jump to top of page">Верх</a>
    </div>

          <div class="forum-post-links">
        <ul class="links forum-links"><li class="comment_forbidden first"><span><a href="http://arduino.ru/user/login?destination=node%2F11357%23comment-form">Войдите</a> или <a href="http://arduino.ru/user/register?destination=node%2F11357%23comment-form">зарегистрируйтесь</a>, чтобы получить возможность отправлять комментарии</span></li>
<li class="vud_comment_votes_count last"></li>
</ul>      </div>
      </div>
</div><a id="comment-137671"></a>

    <div class="forum-post  clear-block">

  <div class="post-info clear-block">
    <div class="posted-on">
      Пт, 18/09/2015 - 11:44
          </div>

          <span class="post-num"><a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#comment-137671" class="active">#7</a> </span>
      </div>

  <div class="forum-post-wrapper">

    <div class="forum-post-panel-sub">
      

<div class="author-pane">
 <div class="author-pane-inner">
        <div class="author-pane-section author-pane-general">
            <div class="author-pane-line author-name">
        jeka_tm      </div>

                    
  <div class="picture">
          <img src="./Генератор с регулируемоей частотой на ардуино. _ Аппаратная платформа Arduino_files/picture-4939.gif" alt="jeka_tm аватар" title="jeka_tm аватар">      </div>
      
                    <div class="author-pane-line author-offline">
           Offline        </div>
      
            
            
            
                    <div class="author-pane-line author-joined">
          <span class="author-pane-label">Зарегистрирован:</span> 19.05.2013        </div>
      
            
                </div>

        <div class="author-pane-section author-pane-contact">
            
            
            
                </div>

        <div class="author-pane-section author-pane-admin">
            
          
               </div>
  </div>
</div>
    </div>

    <div class="forum-post-panel-main clear-block">
      
      <div class="content">
        <p>спасибо. только под 1202 переделаю. кнопка без фиксации?</p>
<p>кстати когда первый код тестировал, наверно глюк моего энкодера, между щелками еще один раз срабатывает. получается за один щелчок происходит срабатывание как за два. что можно сделать не знаешь?</p>
<p>получается почти как у тебя</p>
<p><a href="http://arduino.ru/sites/default/files/u4939/screenshot_4.jpg" class="lb lightbox-processed" rel="lightbox"><img alt="" src="./Генератор с регулируемоей частотой на ардуино. _ Аппаратная платформа Arduino_files/screenshot_4-250x194.jpg" style="width:250px;height:194px;" width="250" height="194"></a></p>
      </div>

          </div>
  </div>

  <div class="forum-post-footer clear-block">
    <div class="forum-jump-links">
      <a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#top" title="Jump to top of page">Верх</a>
    </div>

          <div class="forum-post-links">
        <ul class="links forum-links"><li class="comment_forbidden first"><span><a href="http://arduino.ru/user/login?destination=node%2F11357%23comment-form">Войдите</a> или <a href="http://arduino.ru/user/register?destination=node%2F11357%23comment-form">зарегистрируйтесь</a>, чтобы получить возможность отправлять комментарии</span></li>
<li class="vud_comment_votes_count last"></li>
</ul>      </div>
      </div>
</div><a id="comment-140554"></a>

    <div class="forum-post  clear-block">

  <div class="post-info clear-block">
    <div class="posted-on">
      Пт, 09/10/2015 - 22:28
          </div>

          <span class="post-num"><a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#comment-140554" class="active">#8</a> </span>
      </div>

  <div class="forum-post-wrapper">

    <div class="forum-post-panel-sub">
      

<div class="author-pane">
 <div class="author-pane-inner">
        <div class="author-pane-section author-pane-general">
            <div class="author-pane-line author-name">
        dimax      </div>

                    
  <div class="picture">
          <img src="./Генератор с регулируемоей частотой на ардуино. _ Аппаратная платформа Arduino_files/picture-6856.jpg" alt="dimax аватар" title="dimax аватар">      </div>
      
                    <div class="author-pane-line author-offline">
           Offline        </div>
      
            
            
            
                    <div class="author-pane-line author-joined">
          <span class="author-pane-label">Зарегистрирован:</span> 25.12.2013        </div>
      
            
                </div>

        <div class="author-pane-section author-pane-contact">
            
            
            
                </div>

        <div class="author-pane-section author-pane-admin">
            
          
               </div>
  </div>
</div>
    </div>

    <div class="forum-post-panel-main clear-block">
      
      <div class="content">
        <p>Внёс рацпредложение от Максима в последний код, заодно исправил мелкий баг обратного перехода через частоту 2848. Если уменьшать по-герцу то на частоте 2847 перебрасывалось сразу на 2900, и так по кругу.&nbsp; Проскочить можно было только щёлкнув в обратную сторону 100 герц.&nbsp; Последняя версия..</p>
<div id="highlighter_190712" class="syntaxhighlighter collapsed  "><div class="bar"><div class="toolbar"><a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#expandSource" title="показать код" class="item expandSource" style="width: 16px; height: 16px;">показать код</a><a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#viewSource" title="код" class="item viewSource" style="width: 16px; height: 16px;">код</a><div class="item copyToClipboard"><embed width="16" height="16" id="highlighter_190712_clipboard" type="application/x-shockwave-flash" title="скопировать" allowscriptaccess="always" wmode="transparent" flashvars="highlighterId=highlighter_190712" menu="false" src="/sites/all/libraries/syntaxhighlighter/scripts/clipboard.swf"></div><a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#printSource" title="расечатать" class="item printSource" style="width: 16px; height: 16px;">расечатать</a><a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#about" title="?" class="item about" style="width: 16px; height: 16px;">?</a></div></div><div class="lines"><div class="line alt1"><table><tbody><tr><td class="number"><code>001</code></td><td class="content"><code class="comments">/* Генератор 1 Hz..4 MHz. С регулировкой скважности. Энкодер </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>002</code></td><td class="content"><code class="comments">подключен к пинам A1 и A2, кнопка&nbsp; энкодера подключена к A0. </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>003</code></td><td class="content"><code class="comments">Требуется использовать конденсаторы&nbsp; 0,01..0,1uf&nbsp; относительно земли </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>004</code></td><td class="content"><code class="comments">на каждый вывод энкодера. Скетч для ардуино на мк atmega328 (UNO,Nano, MiniPro)</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>005</code></td><td class="content"><code class="comments">Дрова для 5110 взяты из&nbsp; &lt;a href="<a href="http://out.arduino.ru/?redirect=http%3A%2F%2Fwww.rinkydinkelectronics.com%2Flibrary.php%3Fid%3D44&amp;baseU=http%3A%2F%2Farduino.ru%2Fforum%2Fproekty%2Fgenerator-s-reguliruemoei-chastotoi-na-arduino" target="_blank" rel="nofollow">http://www.rinkydinkelectronics.com/library.php?id=44</a>" rel="nofollow"&gt;<a href="http://out.arduino.ru/?redirect=http%3A%2F%2Fwww.rinkydinkelectronics.com%2Flibrary.php%3Fid%3D44%253C%2Fa&amp;baseU=http%3A%2F%2Farduino.ru%2Fforum%2Fproekty%2Fgenerator-s-reguliruemoei-chastotoi-na-arduino" target="_blank" rel="nofollow">http://www.rinkydinkelectronics.com/library.php?id=44&lt;/a</a>&gt;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>006</code></td><td class="content"><code class="comments">*/</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>007</code></td><td class="content"><code class="preprocessor">#include &lt;LCD5110_Basic.h&gt;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>008</code></td><td class="content"><code class="plain">LCD5110 lcd(3,4,5,6,7);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>009</code></td><td class="content"><code class="keyword">extern</code> <code class="plain">uint8_t SmallFont[];</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>010</code></td><td class="content"><code class="preprocessor">#define set_duty() { OCR1A=(uint32_t)ICR1*duty/100; }</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>011</code></td><td class="content"><code class="plain">uint8_t duty=50;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>012</code></td><td class="content"><code class="keyword">float</code> <code class="plain">freq=0; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>013</code></td><td class="content"><code class="plain">volatile uint8_t enc_mode_flag=1; </code><code class="comments">// По умолчанию энкодер регулирует частоту</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>014</code></td><td class="content"><code class="keyword">static</code> <code class="plain">boolean gen_mode=0; </code><code class="comments">//флаг режима управления</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>015</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>016</code></td><td class="content"><code class="keyword">void</code> <code class="keyword">setup</code><code class="plain">() {</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>017</code></td><td class="content"><code class="plain">lcd.InitLCD();</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>018</code></td><td class="content"><code class="plain">lcd.setContrast(65); </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>019</code></td><td class="content"><code class="plain">pinMode (9,OUTPUT); </code><code class="comments">// выход генератора PB2</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>020</code></td><td class="content"><code class="plain">pinMode(A0,INPUT); </code><code class="comments">// PC0 кнопка энкодера </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>021</code></td><td class="content"><code class="plain">pinMode(A1,INPUT); </code><code class="comments">// PC1 вывод энкодера</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>022</code></td><td class="content"><code class="plain">pinMode(A2,INPUT);&nbsp; </code><code class="comments">// PC2 вывод энкодера </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>023</code></td><td class="content"><code class="plain">pinMode(2,INPUT_PULLUP); </code><code class="comments">// подтяжка кнопки "режим энкодера"</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>024</code></td><td class="content"><code class="plain">PCICR=1&lt;&lt;PCIE1; </code><code class="comments">//разрешить прерывание PCINT1</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>025</code></td><td class="content"><code class="plain">PCMSK1=1&lt;&lt;PCINT9;</code><code class="comments">// По сигналу на А1 создавать прерывание</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>026</code></td><td class="content"><code class="plain">TCCR1A=1&lt;&lt;COM1A1; </code><code class="comments">//подключить выход OC1A первого таймера</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>027</code></td><td class="content"><code class="plain">TCCR1B=0;</code><code class="comments">//</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>028</code></td><td class="content"><code class="plain">EICRA=1&lt;&lt;ISC01; </code><code class="comments">//int0 -falling mode</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>029</code></td><td class="content"><code class="plain">EIMSK=1; </code><code class="comments">//int0 enable</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>030</code></td><td class="content"><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>031</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>032</code></td><td class="content"><code class="plain">ISR (INT0_vect){</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>033</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">((PIND &amp; (1&lt;&lt;2)) == 0)</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>034</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">{ enc_mode_flag = !enc_mode_flag; }</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>035</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>036</code></td><td class="content"><code class="plain">ISR (PCINT1_vect){;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>037</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">uint8_t n=PINC&amp;6; </code><code class="comments">//считать значение энкодера частоты</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>038</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(enc_mode_flag)&nbsp; enc_freq(n); </code><code class="comments">// если энкодер в режиме частоты</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>039</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(!enc_mode_flag) enc_duty(n); </code><code class="comments">// если энкодер в режиме скважности</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>040</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>041</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>042</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>043</code></td><td class="content"><code class="keyword">void</code> <code class="plain">enc_freq(uint8_t n){</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>044</code></td><td class="content"><code class="keyword">static</code> <code class="plain">uint32_t enc=0; </code><code class="comments">//переменная счёта энкодера</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>045</code></td><td class="content"><code class="plain">uint32_t icr=ICR1;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>046</code></td><td class="content"><code class="plain">uint16_t divider=1; </code><code class="comments">//переменная коэфф. деления прескалера</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>047</code></td><td class="content"><code class="plain">boolean knopka = PINC&amp;(1&lt;&lt;0); </code><code class="comments">// 0-кнопка нажата, 1-кнопка НЕ нажата.</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>048</code></td><td class="content"><code class="comments">// Если&nbsp; увеличение частоты</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>049</code></td><td class="content"><code class="keyword">if</code> <code class="plain">(n==4||n==2){ </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>050</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="keyword">if</code> <code class="plain">(gen_mode){</code><code class="keyword">if</code> <code class="plain">(knopka){ </code><code class="keyword">if</code><code class="plain">(icr&gt;2) {icr--; } } </code><code class="keyword">else</code> <code class="plain">{&nbsp; </code><code class="keyword">if</code><code class="plain">(icr&gt;12)icr-=10; }&nbsp;&nbsp; }</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>051</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="keyword">else</code> <code class="plain">knopka?&nbsp; enc++ : enc+=100; </code><code class="comments">// в нч режиме</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>052</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="plain">} </code><code class="comments">//end GetUP</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>053</code></td><td class="content"><code class="comments">// Если уменьшение частоты</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>054</code></td><td class="content"><code class="keyword">if</code> <code class="plain">(n==6||n==0){ </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>055</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="keyword">if</code> <code class="plain">(gen_mode){ </code><code class="keyword">if</code> <code class="plain">(knopka){ </code><code class="keyword">if</code><code class="plain">(icr&lt;65535) {icr++; } } </code><code class="keyword">else</code> <code class="plain">{&nbsp; </code><code class="keyword">if</code><code class="plain">(icr&lt;=65525)icr+=10; }&nbsp;&nbsp; }</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>056</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="keyword">else</code> <code class="plain">{</code><code class="keyword">if</code> <code class="plain">(knopka) { </code><code class="keyword">if</code> <code class="plain">(enc&gt;=2)enc--;&nbsp; } </code><code class="keyword">else</code> <code class="plain">{ </code><code class="keyword">if</code> <code class="plain">(enc&gt;100) enc-=100; }&nbsp; }</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>057</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="plain">} </code><code class="comments">//end GetDown</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>058</code></td><td class="content"><code class="keyword">if</code><code class="plain">(gen_mode){ ICR1=icr; set_duty(); freq= (</code><code class="keyword">float</code><code class="plain">) F_CPU/2 / ICR1; enc=freq;} </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>059</code></td><td class="content"><code class="keyword">else</code> <code class="plain">{ </code><code class="comments">//расчёт прескалера и ICR по нужной частоте</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>060</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="plain">icr = (F_CPU / enc /2 /divider); </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>061</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="keyword">byte</code> <code class="plain">shifts[] = {3,3,2,2};</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>062</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="keyword">for</code><code class="plain">(</code><code class="keyword">byte</code> <code class="plain">i = 0; i &lt; 4; i++){</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>063</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(icr &gt; 65536) {</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>064</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">divider &lt;&lt;= shifts[i];</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>065</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">icr = F_CPU / enc /2 /divider;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>066</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>067</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">else</code> <code class="plain">{&nbsp; </code><code class="comments">//запись в регистр прескалера</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>068</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TCCR1B = (i+1)|(1&lt;&lt;WGM13);&nbsp; </code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>069</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>070</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>071</code></td><td class="content"><code class="plain">ICR1=icr-1; set_duty();</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>072</code></td><td class="content"><code class="plain">freq= (</code><code class="keyword">float</code><code class="plain">) F_CPU/2 / (ICR1+1) /divider;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>073</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">} </code><code class="comments">//конец "если&nbsp; частота менее 2848 герц)</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>074</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>075</code></td><td class="content"><code class="keyword">if</code> <code class="plain">(freq&gt;2848) gen_mode=1; </code><code class="comments">//переключение режима управления по OCR</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>076</code></td><td class="content"><code class="keyword">else</code> <code class="plain">gen_mode=0; </code><code class="comments">//переключение режима управления по частоте</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>077</code></td><td class="content"><code class="plain">} </code><code class="comments">// конец enc_freq </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>078</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>079</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>080</code></td><td class="content"><code class="keyword">void</code> <code class="plain">enc_duty(uint8_t n){</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>081</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="comments">// Если&nbsp; увеличение скважности</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>082</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="keyword">if</code> <code class="plain">(n==4||n==2){</code><code class="keyword">if</code><code class="plain">(duty&lt;100) {duty++; }&nbsp; }</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>083</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="comments">// Если уменьшение скважности</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>084</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="keyword">if</code> <code class="plain">(n==6||n==0){ </code><code class="keyword">if</code><code class="plain">(duty&gt;0) {duty--; }}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>085</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="plain">set_duty();</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>086</code></td><td class="content"><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>087</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>088</code></td><td class="content"><code class="keyword">void</code> <code class="keyword">loop</code><code class="plain">() {</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>089</code></td><td class="content"><code class="plain">String freqstr, dutystr,modestr;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>090</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>091</code></td><td class="content"><code class="keyword">if</code> <code class="plain">(freq &lt;10000) {</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>092</code></td><td class="content"><code class="plain">freqstr= String( String(freq,2)+ </code><code class="string">" Hz&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "</code><code class="plain">);&nbsp; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>093</code></td><td class="content"><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>094</code></td><td class="content"><code class="keyword">if</code> <code class="plain">(freq &gt;10000) {</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>095</code></td><td class="content"><code class="plain">freqstr= String( String((freq/1000),3)+ </code><code class="string">" KHz&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "</code><code class="plain">);&nbsp; }</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>096</code></td><td class="content"><code class="plain">lcd.setFont(SmallFont);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>097</code></td><td class="content"><code class="plain">lcd.print(freqstr, LEFT, 0);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>098</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>099</code></td><td class="content"><code class="plain">dutystr= String(</code><code class="string">"Duty="</code><code class="plain">+ String(duty)+ </code><code class="string">" %&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "</code><code class="plain">);&nbsp; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>100</code></td><td class="content"><code class="plain">lcd.print(dutystr, LEFT, 8);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>101</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>102</code></td><td class="content"><code class="plain">enc_mode_flag? modestr=String(</code><code class="string">"ENCMode=Freq"</code><code class="plain">) : modestr=String(</code><code class="string">"ENCMode=Duty"</code><code class="plain">);&nbsp; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>103</code></td><td class="content"><code class="plain">lcd.print(modestr, LEFT, 16);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>104</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>105</code></td><td class="content"><code class="plain">delay(100);</code><code class="comments">// что-б слишком часто в дисплей не писало..</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>106</code></td><td class="content"><code class="plain">}</code></td></tr></tbody></table></div></div></div>

<p>&nbsp;</p>
      </div>

          </div>
  </div>

  <div class="forum-post-footer clear-block">
    <div class="forum-jump-links">
      <a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#top" title="Jump to top of page">Верх</a>
    </div>

          <div class="forum-post-links">
        <ul class="links forum-links"><li class="comment_forbidden first"><span><a href="http://arduino.ru/user/login?destination=node%2F11357%23comment-form">Войдите</a> или <a href="http://arduino.ru/user/register?destination=node%2F11357%23comment-form">зарегистрируйтесь</a>, чтобы получить возможность отправлять комментарии</span></li>
<li class="vud_comment_votes_count last"></li>
</ul>      </div>
      </div>
</div><a id="comment-152997"></a>

    <div class="forum-post  clear-block">

  <div class="post-info clear-block">
    <div class="posted-on">
      Чт, 10/12/2015 - 16:12
          </div>

          <span class="post-num"><a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#comment-152997" class="active">#9</a> </span>
      </div>

  <div class="forum-post-wrapper">

    <div class="forum-post-panel-sub">
      

<div class="author-pane">
 <div class="author-pane-inner">
        <div class="author-pane-section author-pane-general">
            <div class="author-pane-line author-name">
        Iwan73      </div>

                    
      
                    <div class="author-pane-line author-offline">
           Offline        </div>
      
            
            
            
                    <div class="author-pane-line author-joined">
          <span class="author-pane-label">Зарегистрирован:</span> 02.11.2013        </div>
      
            
                </div>

        <div class="author-pane-section author-pane-contact">
            
            
            
                </div>

        <div class="author-pane-section author-pane-admin">
            
          
               </div>
  </div>
</div>
    </div>

    <div class="forum-post-panel-main clear-block">
      
      <div class="content">
        <p><strong>jeka_tm</strong> печаткой шилда не поделитесь народу ?&nbsp;</p>
      </div>

          </div>
  </div>

  <div class="forum-post-footer clear-block">
    <div class="forum-jump-links">
      <a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#top" title="Jump to top of page">Верх</a>
    </div>

          <div class="forum-post-links">
        <ul class="links forum-links"><li class="comment_forbidden first"><span><a href="http://arduino.ru/user/login?destination=node%2F11357%23comment-form">Войдите</a> или <a href="http://arduino.ru/user/register?destination=node%2F11357%23comment-form">зарегистрируйтесь</a>, чтобы получить возможность отправлять комментарии</span></li>
<li class="vud_comment_votes_count last"></li>
</ul>      </div>
      </div>
</div><a id="comment-153004"></a>

    <div class="forum-post  clear-block">

  <div class="post-info clear-block">
    <div class="posted-on">
      Чт, 10/12/2015 - 16:31
          </div>

          <span class="post-num"><a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#comment-153004" class="active">#10</a> </span>
      </div>

  <div class="forum-post-wrapper">

    <div class="forum-post-panel-sub">
      

<div class="author-pane">
 <div class="author-pane-inner">
        <div class="author-pane-section author-pane-general">
            <div class="author-pane-line author-name">
        jeka_tm      </div>

                    
  <div class="picture">
          <img src="./Генератор с регулируемоей частотой на ардуино. _ Аппаратная платформа Arduino_files/picture-4939.gif" alt="jeka_tm аватар" title="jeka_tm аватар">      </div>
      
                    <div class="author-pane-line author-offline">
           Offline        </div>
      
            
            
            
                    <div class="author-pane-line author-joined">
          <span class="author-pane-label">Зарегистрирован:</span> 19.05.2013        </div>
      
            
                </div>

        <div class="author-pane-section author-pane-contact">
            
            
            
                </div>

        <div class="author-pane-section author-pane-admin">
            
          
               </div>
  </div>
</div>
    </div>

    <div class="forum-post-panel-main clear-block">
      
      <div class="content">
        <p>пожалуйста</p>
<p><a href="http://out.arduino.ru/?redirect=https%3A%2F%2Fyadi.sk%2Fd%2FmYeiZu4jm8cRv&amp;baseU=http%3A%2F%2Farduino.ru%2Fforum%2Fproekty%2Fgenerator-s-reguliruemoei-chastotoi-na-arduino" title="https://yadi.sk/d/mYeiZu4jm8cRv" rel="nofollow" target="_blank">https://yadi.sk/d/mYeiZu4jm8cRv</a></p>
      </div>

          </div>
  </div>

  <div class="forum-post-footer clear-block">
    <div class="forum-jump-links">
      <a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#top" title="Jump to top of page">Верх</a>
    </div>

          <div class="forum-post-links">
        <ul class="links forum-links"><li class="comment_forbidden first"><span><a href="http://arduino.ru/user/login?destination=node%2F11357%23comment-form">Войдите</a> или <a href="http://arduino.ru/user/register?destination=node%2F11357%23comment-form">зарегистрируйтесь</a>, чтобы получить возможность отправлять комментарии</span></li>
<li class="vud_comment_votes_count last"></li>
</ul>      </div>
      </div>
</div><a id="comment-193422"></a>

    <div class="forum-post  clear-block">

  <div class="post-info clear-block">
    <div class="posted-on">
      Чт, 12/05/2016 - 16:00
          </div>

          <span class="post-num"><a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#comment-193422" class="active">#11</a> </span>
      </div>

  <div class="forum-post-wrapper">

    <div class="forum-post-panel-sub">
      

<div class="author-pane">
 <div class="author-pane-inner">
        <div class="author-pane-section author-pane-general">
            <div class="author-pane-line author-name">
        dimax      </div>

                    
  <div class="picture">
          <img src="./Генератор с регулируемоей частотой на ардуино. _ Аппаратная платформа Arduino_files/picture-6856.jpg" alt="dimax аватар" title="dimax аватар">      </div>
      
                    <div class="author-pane-line author-offline">
           Offline        </div>
      
            
            
            
                    <div class="author-pane-line author-joined">
          <span class="author-pane-label">Зарегистрирован:</span> 25.12.2013        </div>
      
            
                </div>

        <div class="author-pane-section author-pane-contact">
            
            
            
                </div>

        <div class="author-pane-section author-pane-admin">
            
          
               </div>
  </div>
</div>
    </div>

    <div class="forum-post-panel-main clear-block">
      
      <div class="content">
        <p><strong>Генератор версия 2.0</strong></p>
<p>	<em>Позаимствована функция на ассемблере с алгоритмом DDS (<a href="http://out.arduino.ru/?redirect=http%3A%2F%2Fwww.scienceprog.com%2Favr-dds-signal-generator-v20%2F&amp;baseU=http%3A%2F%2Farduino.ru%2Fforum%2Fproekty%2Fgenerator-s-reguliruemoei-chastotoi-na-arduino" rel="nofollow" target="_blank">отсюда</a>),<br>
	с ней добавилось возможность генерить табличные формы сигналов<br>
	синуса, треугольника, пилы, можно добавить массив с другой формой сигнала,<br>
	свободного места во флэше полно. В качестве АЦП используется традиционная схема R2R. Под АЦП задействован весь порт D (выводы ардуино 0...7). Выход АЦП соединён с выходом таймера, в скетче порты соответствующим образом коммутируются. Точнось резисторов принципиальной роли не играет, 5% вполне достаточно. В идеале нужно ещё </em><em>добавить какой нибудь <em>усилитель на </em>скоростном&nbsp; ОУ&nbsp; (типа OP37), сделать смещение и регулировку амплитуды. Меня пока устраивает и без всего этого :)</em></p>
<p><a href="http://out.arduino.ru/?redirect=https%3A%2F%2Fimg-fotki.yandex.ru%2Fget%2F44085%2F118551841.7%2F0_db179_5aae4003_orig.jpg&amp;baseU=http%3A%2F%2Farduino.ru%2Fforum%2Fproekty%2Fgenerator-s-reguliruemoei-chastotoi-na-arduino" rel="nofollow" target="_blank"><img alt="" src="./Генератор с регулируемоей частотой на ардуино. _ Аппаратная платформа Arduino_files/schemes_gen_v_2_0.jpg" style="width:640px;height:384px;"></a></p>
<p><strong>Скетч:</strong></p>
<div id="highlighter_287696" class="syntaxhighlighter collapsed  "><div class="bar "><div class="toolbar"><a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#expandSource" title="показать код" class="item expandSource" style="width: 16px; height: 16px;">показать код</a><a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#viewSource" title="код" class="item viewSource" style="width: 16px; height: 16px;">код</a><div class="item copyToClipboard"><embed width="16" height="16" id="highlighter_287696_clipboard" type="application/x-shockwave-flash" title="скопировать" allowscriptaccess="always" wmode="transparent" flashvars="highlighterId=highlighter_287696" menu="false" src="/sites/all/libraries/syntaxhighlighter/scripts/clipboard.swf"></div><a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#printSource" title="расечатать" class="item printSource" style="width: 16px; height: 16px;">расечатать</a><a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#about" title="?" class="item about" style="width: 16px; height: 16px;">?</a></div></div><div class="lines"><div class="line alt1"><table><tbody><tr><td class="number"><code>001</code></td><td class="content"><code class="comments">/*Программа генератора с регулируемой частотой и скважностью для МК ATMEGA328</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>002</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="comments">* Для синтезатора частоты была позаимствована функция на ассемблере из источника</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>003</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="comments">* &lt;a href="<a href="http://out.arduino.ru/?redirect=http%3A%2F%2Fwww.scienceprog.com%2Favr-dds-signal-generator-v20%2F&amp;baseU=http%3A%2F%2Farduino.ru%2Fforum%2Fproekty%2Fgenerator-s-reguliruemoei-chastotoi-na-arduino" target="_blank" rel="nofollow">http://www.scienceprog.com/avr-dds-signal-generator-v20/</a>" title="<a href="http://out.arduino.ru/?redirect=http%3A%2F%2Fwww.scienceprog.com%2Favr-dds-signal-generator-v20%2F&amp;baseU=http%3A%2F%2Farduino.ru%2Fforum%2Fproekty%2Fgenerator-s-reguliruemoei-chastotoi-na-arduino" target="_blank" rel="nofollow">http://www.scienceprog.com/avr-dds-signal-generator-v20/</a>" rel="nofollow"&gt;<a href="http://out.arduino.ru/?redirect=http%3A%2F%2Fwww.scienceprog.com%2Favr-dds-signal-generator-v20%2F%253C%2Fa&amp;baseU=http%3A%2F%2Farduino.ru%2Fforum%2Fproekty%2Fgenerator-s-reguliruemoei-chastotoi-na-arduino" target="_blank" rel="nofollow">http://www.scienceprog.com/avr-dds-signal-generator-v20/&lt;/a</a>&gt; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>004</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="comments">*/</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>005</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>006</code></td><td class="content"><code class="keyword">const</code> <code class="plain">PROGMEM uint8_t&nbsp; sinewave[]=</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>007</code></td><td class="content"><code class="plain">{</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>008</code></td><td class="content"><code class="plain">0x80,0x83,0x86,0x89,0x8c,0x8f,0x92,0x95,0x98,0x9c,0x9f,0xa2,0xa5,0xa8,0xab,0xae,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>009</code></td><td class="content"><code class="plain">0xb0,0xb3,0xb6,0xb9,0xbc,0xbf,0xc1,0xc4,0xc7,0xc9,0xcc,0xce,0xd1,0xd3,0xd5,0xd8,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>010</code></td><td class="content"><code class="plain">0xda,0xdc,0xde,0xe0,0xe2,0xe4,0xe6,0xe8,0xea,0xec,0xed,0xef,0xf0,0xf2,0xf3,0xf5,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>011</code></td><td class="content"><code class="plain">0xf6,0xf7,0xf8,0xf9,0xfa,0xfb,0xfc,0xfc,0xfd,0xfe,0xfe,0xff,0xff,0xff,0xff,0xff,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>012</code></td><td class="content"><code class="plain">0xff,0xff,0xff,0xff,0xff,0xff,0xfe,0xfe,0xfd,0xfc,0xfc,0xfb,0xfa,0xf9,0xf8,0xf7,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>013</code></td><td class="content"><code class="plain">0xf6,0xf5,0xf3,0xf2,0xf0,0xef,0xed,0xec,0xea,0xe8,0xe6,0xe4,0xe2,0xe0,0xde,0xdc,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>014</code></td><td class="content"><code class="plain">0xda,0xd8,0xd5,0xd3,0xd1,0xce,0xcc,0xc9,0xc7,0xc4,0xc1,0xbf,0xbc,0xb9,0xb6,0xb3,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>015</code></td><td class="content"><code class="plain">0xb0,0xae,0xab,0xa8,0xa5,0xa2,0x9f,0x9c,0x98,0x95,0x92,0x8f,0x8c,0x89,0x86,0x83,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>016</code></td><td class="content"><code class="plain">0x80,0x7c,0x79,0x76,0x73,0x70,0x6d,0x6a,0x67,0x63,0x60,0x5d,0x5a,0x57,0x54,0x51,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>017</code></td><td class="content"><code class="plain">0x4f,0x4c,0x49,0x46,0x43,0x40,0x3e,0x3b,0x38,0x36,0x33,0x31,0x2e,0x2c,0x2a,0x27,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>018</code></td><td class="content"><code class="plain">0x25,0x23,0x21,0x1f,0x1d,0x1b,0x19,0x17,0x15,0x13,0x12,0x10,0x0f,0x0d,0x0c,0x0a,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>019</code></td><td class="content"><code class="plain">0x09,0x08,0x07,0x06,0x05,0x04,0x03,0x03,0x02,0x01,0x01,0x00,0x00,0x00,0x00,0x00,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>020</code></td><td class="content"><code class="plain">0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x01,0x02,0x03,0x03,0x04,0x05,0x06,0x07,0x08,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>021</code></td><td class="content"><code class="plain">0x09,0x0a,0x0c,0x0d,0x0f,0x10,0x12,0x13,0x15,0x17,0x19,0x1b,0x1d,0x1f,0x21,0x23,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>022</code></td><td class="content"><code class="plain">0x25,0x27,0x2a,0x2c,0x2e,0x31,0x33,0x36,0x38,0x3b,0x3e,0x40,0x43,0x46,0x49,0x4c,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>023</code></td><td class="content"><code class="plain">0x4f,0x51,0x54,0x57,0x5a,0x5d,0x60,0x63,0x67,0x6a,0x6d,0x70,0x73,0x76,0x79,0x7c</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>024</code></td><td class="content"><code class="plain">};</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>025</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>026</code></td><td class="content"><code class="keyword">const</code> <code class="plain">PROGMEM uint8_t squarewave[]=</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>027</code></td><td class="content"><code class="plain">{</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>028</code></td><td class="content"><code class="plain">0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>029</code></td><td class="content"><code class="plain">0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>030</code></td><td class="content"><code class="plain">0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>031</code></td><td class="content"><code class="plain">0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>032</code></td><td class="content"><code class="plain">0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>033</code></td><td class="content"><code class="plain">0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>034</code></td><td class="content"><code class="plain">0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>035</code></td><td class="content"><code class="plain">0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>036</code></td><td class="content"><code class="plain">0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>037</code></td><td class="content"><code class="plain">0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>038</code></td><td class="content"><code class="plain">0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>039</code></td><td class="content"><code class="plain">0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>040</code></td><td class="content"><code class="plain">0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>041</code></td><td class="content"><code class="plain">0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>042</code></td><td class="content"><code class="plain">0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>043</code></td><td class="content"><code class="plain">0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>044</code></td><td class="content"><code class="plain">};</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>045</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>046</code></td><td class="content"><code class="keyword">const</code> <code class="plain">PROGMEM uint8_t trianglewave[]=</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>047</code></td><td class="content"><code class="plain">{</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>048</code></td><td class="content"><code class="plain">0x00,0x02,0x04,0x06,0x08,0x0a,0x0c,0x0e,0x10,0x12,0x14,0x16,0x18,0x1a,0x1c,0x1e,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>049</code></td><td class="content"><code class="plain">0x20,0x22,0x24,0x26,0x28,0x2a,0x2c,0x2e,0x30,0x32,0x34,0x36,0x38,0x3a,0x3c,0x3e,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>050</code></td><td class="content"><code class="plain">0x40,0x42,0x44,0x46,0x48,0x4a,0x4c,0x4e,0x50,0x52,0x54,0x56,0x58,0x5a,0x5c,0x5e,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>051</code></td><td class="content"><code class="plain">0x60,0x62,0x64,0x66,0x68,0x6a,0x6c,0x6e,0x70,0x72,0x74,0x76,0x78,0x7a,0x7c,0x7e,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>052</code></td><td class="content"><code class="plain">0x80,0x82,0x84,0x86,0x88,0x8a,0x8c,0x8e,0x90,0x92,0x94,0x96,0x98,0x9a,0x9c,0x9e,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>053</code></td><td class="content"><code class="plain">0xa0,0xa2,0xa4,0xa6,0xa8,0xaa,0xac,0xae,0xb0,0xb2,0xb4,0xb6,0xb8,0xba,0xbc,0xbe,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>054</code></td><td class="content"><code class="plain">0xc0,0xc2,0xc4,0xc6,0xc8,0xca,0xcc,0xce,0xd0,0xd2,0xd4,0xd6,0xd8,0xda,0xdc,0xde,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>055</code></td><td class="content"><code class="plain">0xe0,0xe2,0xe4,0xe6,0xe8,0xea,0xec,0xee,0xf0,0xf2,0xf4,0xf6,0xf8,0xfa,0xfc,0xfe,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>056</code></td><td class="content"><code class="plain">0xff,0xfd,0xfb,0xf9,0xf7,0xf5,0xf3,0xf1,0xef,0xef,0xeb,0xe9,0xe7,0xe5,0xe3,0xe1,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>057</code></td><td class="content"><code class="plain">0xdf,0xdd,0xdb,0xd9,0xd7,0xd5,0xd3,0xd1,0xcf,0xcf,0xcb,0xc9,0xc7,0xc5,0xc3,0xc1,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>058</code></td><td class="content"><code class="plain">0xbf,0xbd,0xbb,0xb9,0xb7,0xb5,0xb3,0xb1,0xaf,0xaf,0xab,0xa9,0xa7,0xa5,0xa3,0xa1,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>059</code></td><td class="content"><code class="plain">0x9f,0x9d,0x9b,0x99,0x97,0x95,0x93,0x91,0x8f,0x8f,0x8b,0x89,0x87,0x85,0x83,0x81,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>060</code></td><td class="content"><code class="plain">0x7f,0x7d,0x7b,0x79,0x77,0x75,0x73,0x71,0x6f,0x6f,0x6b,0x69,0x67,0x65,0x63,0x61,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>061</code></td><td class="content"><code class="plain">0x5f,0x5d,0x5b,0x59,0x57,0x55,0x53,0x51,0x4f,0x4f,0x4b,0x49,0x47,0x45,0x43,0x41,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>062</code></td><td class="content"><code class="plain">0x3f,0x3d,0x3b,0x39,0x37,0x35,0x33,0x31,0x2f,0x2f,0x2b,0x29,0x27,0x25,0x23,0x21,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>063</code></td><td class="content"><code class="plain">0x1f,0x1d,0x1b,0x19,0x17,0x15,0x13,0x11,0x0f,0x0f,0x0b,0x09,0x07,0x05,0x03,0x01</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>064</code></td><td class="content"><code class="plain">};</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>065</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>066</code></td><td class="content"><code class="keyword">const</code> <code class="plain">PROGMEM uint8_t sawtoothwave[]= </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>067</code></td><td class="content"><code class="plain">{</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>068</code></td><td class="content"><code class="plain">0x00,0x01,0x02,0x03,0x04,0x05,0x06,0x07,0x08,0x09,0x0a,0x0b,0x0c,0x0d,0x0e,0x0f,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>069</code></td><td class="content"><code class="plain">0x10,0x11,0x12,0x13,0x14,0x15,0x16,0x17,0x18,0x19,0x1a,0x1b,0x1c,0x1d,0x1e,0x1f,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>070</code></td><td class="content"><code class="plain">0x20,0x21,0x22,0x23,0x24,0x25,0x26,0x27,0x28,0x29,0x2a,0x2b,0x2c,0x2d,0x2e,0x2f,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>071</code></td><td class="content"><code class="plain">0x30,0x31,0x32,0x33,0x34,0x35,0x36,0x37,0x38,0x39,0x3a,0x3b,0x3c,0x3d,0x3e,0x3f,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>072</code></td><td class="content"><code class="plain">0x40,0x41,0x42,0x43,0x44,0x45,0x46,0x47,0x48,0x49,0x4a,0x4b,0x4c,0x4d,0x4e,0x4f,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>073</code></td><td class="content"><code class="plain">0x50,0x51,0x52,0x53,0x54,0x55,0x56,0x57,0x58,0x59,0x5a,0x5b,0x5c,0x5d,0x5e,0x5f,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>074</code></td><td class="content"><code class="plain">0x60,0x61,0x62,0x63,0x64,0x65,0x66,0x67,0x68,0x69,0x6a,0x6b,0x6c,0x6d,0x6e,0x6f,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>075</code></td><td class="content"><code class="plain">0x70,0x71,0x72,0x73,0x74,0x75,0x76,0x77,0x78,0x79,0x7a,0x7b,0x7c,0x7d,0x7e,0x7f,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>076</code></td><td class="content"><code class="plain">0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8a,0x8b,0x8c,0x8d,0x8e,0x8f,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>077</code></td><td class="content"><code class="plain">0x90,0x91,0x92,0x93,0x94,0x95,0x96,0x97,0x98,0x99,0x9a,0x9b,0x9c,0x9d,0x9e,0x9f,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>078</code></td><td class="content"><code class="plain">0xa0,0xa1,0xa2,0xa3,0xa4,0xa5,0xa6,0xa7,0xa8,0xa9,0xaa,0xab,0xac,0xad,0xae,0xaf,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>079</code></td><td class="content"><code class="plain">0xb0,0xb1,0xb2,0xb3,0xb4,0xb5,0xb6,0xb7,0xb8,0xb9,0xba,0xbb,0xbc,0xbd,0xbe,0xbf,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>080</code></td><td class="content"><code class="plain">0xc0,0xc1,0xc2,0xc3,0xc4,0xc5,0xc6,0xc7,0xc8,0xc9,0xca,0xcb,0xcc,0xcd,0xce,0xcf,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>081</code></td><td class="content"><code class="plain">0xd0,0xd1,0xd2,0xd3,0xd4,0xd5,0xd6,0xd7,0xd8,0xd9,0xda,0xdb,0xdc,0xdd,0xde,0xdf,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>082</code></td><td class="content"><code class="plain">0xe0,0xe1,0xe2,0xe3,0xe4,0xe5,0xe6,0xe7,0xe8,0xe9,0xea,0xeb,0xec,0xed,0xee,0xef,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>083</code></td><td class="content"><code class="plain">0xf0,0xf1,0xf2,0xf3,0xf4,0xf5,0xf6,0xf7,0xf8,0xf9,0xfa,0xfb,0xfc,0xfd,0xfe,0xff</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>084</code></td><td class="content"><code class="plain">};</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>085</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>086</code></td><td class="content"><code class="keyword">const</code> <code class="plain">PROGMEM uint8_t rewsawtoothwave[]=</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>087</code></td><td class="content"><code class="plain">{</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>088</code></td><td class="content"><code class="plain">0xff,0xfe,0xfd,0xfc,0xfb,0xfa,0xf9,0xf8,0xf7,0xf6,0xf5,0xf4,0xf3,0xf2,0xf1,0xf0,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>089</code></td><td class="content"><code class="plain">0xef,0xee,0xed,0xec,0xeb,0xea,0xe9,0xe8,0xe7,0xe6,0xe5,0xe4,0xe3,0xe2,0xe1,0xe0,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>090</code></td><td class="content"><code class="plain">0xdf,0xde,0xdd,0xdc,0xdb,0xda,0xd9,0xd8,0xd7,0xd6,0xd5,0xd4,0xd3,0xd2,0xd1,0xd0,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>091</code></td><td class="content"><code class="plain">0xcf,0xce,0xcd,0xcc,0xcb,0xca,0xc9,0xc8,0xc7,0xc6,0xc5,0xc4,0xc3,0xc2,0xc1,0xc0,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>092</code></td><td class="content"><code class="plain">0xbf,0xbe,0xbd,0xbc,0xbb,0xba,0xb9,0xb8,0xb7,0xb6,0xb5,0xb4,0xb3,0xb2,0xb1,0xb0,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>093</code></td><td class="content"><code class="plain">0xaf,0xae,0xad,0xac,0xab,0xaa,0xa9,0xa8,0xa7,0xa6,0xa5,0xa4,0xa3,0xa2,0xa1,0xa0,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>094</code></td><td class="content"><code class="plain">0x9f,0x9e,0x9d,0x9c,0x9b,0x9a,0x99,0x98,0x97,0x96,0x95,0x94,0x93,0x92,0x91,0x90,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>095</code></td><td class="content"><code class="plain">0x8f,0x8e,0x8d,0x8c,0x8b,0x8a,0x89,0x88,0x87,0x86,0x85,0x84,0x83,0x82,0x81,0x80,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>096</code></td><td class="content"><code class="plain">0x7f,0x7e,0x7d,0x7c,0x7b,0x7a,0x79,0x78,0x77,0x76,0x75,0x74,0x73,0x72,0x71,0x70,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>097</code></td><td class="content"><code class="plain">0x6f,0x6e,0x6d,0x6c,0x6b,0x6a,0x69,0x68,0x67,0x66,0x65,0x64,0x63,0x62,0x61,0x60,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>098</code></td><td class="content"><code class="plain">0x5f,0x5e,0x5d,0x5c,0x5b,0x5a,0x59,0x58,0x57,0x56,0x55,0x54,0x53,0x52,0x51,0x50,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>099</code></td><td class="content"><code class="plain">0x4f,0x4e,0x4d,0x4c,0x4b,0x4a,0x49,0x48,0x47,0x46,0x45,0x44,0x43,0x42,0x41,0x40,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>100</code></td><td class="content"><code class="plain">0x3f,0x3e,0x3d,0x3c,0x3b,0x3a,0x39,0x38,0x37,0x36,0x35,0x34,0x33,0x32,0x31,0x30,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>101</code></td><td class="content"><code class="plain">0x2f,0x2e,0x2d,0x2c,0x2b,0x2a,0x29,0x28,0x27,0x26,0x25,0x24,0x23,0x22,0x21,0x20,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>102</code></td><td class="content"><code class="plain">0x1f,0x1e,0x1d,0x1c,0x1b,0x1a,0x19,0x18,0x17,0x16,0x15,0x14,0x13,0x12,0x11,0x10,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>103</code></td><td class="content"><code class="plain">0x0f,0x0e,0x0d,0x0c,0x0b,0x0a,0x09,0x08,0x07,0x06,0x05,0x04,0x03,0x02,0x01,0x00,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>104</code></td><td class="content"><code class="plain">};</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>105</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>106</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>107</code></td><td class="content"><code class="keyword">const</code> <code class="plain">PROGMEM </code><code class="keyword">char</code> <code class="plain">musor_mass[]={0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>108</code></td><td class="content"><code class="plain">0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>109</code></td><td class="content"><code class="plain">0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>110</code></td><td class="content"><code class="plain">0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>111</code></td><td class="content"><code class="plain">0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>112</code></td><td class="content"><code class="plain">0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>113</code></td><td class="content"><code class="plain">0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>114</code></td><td class="content"><code class="plain">0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>115</code></td><td class="content"><code class="plain">0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>116</code></td><td class="content"><code class="plain">};</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>117</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>118</code></td><td class="content"><code class="comments">// глобальные переменные</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>119</code></td><td class="content"><code class="plain">volatile int32_t freq=1000;</code><code class="comments">// частота генератора по умолчанию, Герц </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>120</code></td><td class="content"><code class="plain">volatile uint16_t shag=100; </code><code class="comments">//шаг переключения частоты,значение по умолчанию</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>121</code></td><td class="content"><code class="plain">volatile uint8_t regim=5;</code><code class="comments">// режим работы по умолчанию (0)синус DDS, (1)треугольник DDS,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>122</code></td><td class="content"><code class="comments">//(2)прямоугольник DDS, (3)правая пила DDS, (4) левая пила DDS. (5) частота генерации таймером </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>123</code></td><td class="content"><code class="comments">// (6) скважность генерации таймером</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>124</code></td><td class="content"><code class="plain">volatile uint8_t ad2,ad1,ad0; </code><code class="comments">//байты частоты для функции на ассемблере</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>125</code></td><td class="content"><code class="plain">volatile uint8_t duty=50;</code><code class="comments">//скважность (коэффициент заполнения), процентов по умолчанию&nbsp; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>126</code></td><td class="content"><code class="plain">volatile uint32_t icr=0; </code><code class="comments">//переменная для работы с регистром ICR1</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>127</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>128</code></td><td class="content"><code class="comments">// DDS algorithm </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>129</code></td><td class="content"><code class="keyword">static</code> <code class="plain">inline </code><code class="keyword">void</code> <code class="plain">signalOUT(</code><code class="keyword">const</code> <code class="plain">uint8_t *signal){ </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>130</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain">asm volatile(&nbsp; </code><code class="string">"eor r18, r18&nbsp;&nbsp; ;r18&lt;-0"</code>&nbsp; <code class="string">"\n\t"</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>131</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="string">"eor r19, r19&nbsp;&nbsp; ;r19&lt;-0"</code>&nbsp; <code class="string">"\n\t"</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>132</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="string">"1:"</code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <code class="string">"\n\t"</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>133</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="string">"add r18, %0&nbsp; ;1 cycle"</code>&nbsp;&nbsp;&nbsp;&nbsp; <code class="string">"\n\t"</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>134</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="string">"adc r19, %1&nbsp; ;1 cycle"</code>&nbsp;&nbsp;&nbsp;&nbsp; <code class="string">"\n\t"</code>&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>135</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="string">"adc %A3, %2&nbsp; ;1 cycle"</code>&nbsp;&nbsp;&nbsp;&nbsp; <code class="string">"\n\t"</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>136</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="string">"lpm&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ;3 cycles"</code>&nbsp; <code class="string">"\n\t"</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>137</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="string">"out %4, __tmp_reg__&nbsp; ;1 cycle"</code> <code class="string">"\n\t"</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>138</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="string">"sbis %5, 7&nbsp;&nbsp; ;1 cycle if no skip"</code> <code class="string">"\n\t"</code>&nbsp;&nbsp;&nbsp;&nbsp; <code class="comments">// если стоит бит в переменной %5, то</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>139</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="string">"rjmp 1b&nbsp;&nbsp;&nbsp; ;2 cycles. Total 10 cycles"</code> <code class="string">"\n\t"</code> <code class="comments">//пропустить эту команду ухода в цикл</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>140</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">:</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>141</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">:</code><code class="string">"r"</code> <code class="plain">(ad0),</code><code class="string">"r"</code> <code class="plain">(ad1),</code><code class="string">"r"</code> <code class="plain">(ad2),</code><code class="string">"e"</code> <code class="plain">(signal),</code><code class="string">"I"</code> <code class="plain">(_SFR_IO_ADDR(PORTD)), </code><code class="string">"I"</code> <code class="plain">(_SFR_IO_ADDR(PORTB))</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>142</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">:</code><code class="string">"r18"</code><code class="plain">, </code><code class="string">"r19"</code> <code class="plain">);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>143</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>144</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>145</code></td><td class="content"><code class="keyword">void</code> <code class="keyword">setup</code><code class="plain">(){</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>146</code></td><td class="content"><code class="keyword">Serial</code><code class="plain">.begin(115200); </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>147</code></td><td class="content"><code class="keyword">for</code> <code class="plain">(</code><code class="keyword">int</code> <code class="plain">n=0; n &lt;</code><code class="keyword">sizeof</code><code class="plain">(musor_mass); n++ ) {PORTD=musor_mass[n]; }&nbsp;&nbsp; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>148</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">TCCR0B=0; </code><code class="comments">//заглушить 0 таймер что б не мешал DDS</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>149</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain">PCICR=(1&lt;&lt;PCIE1)|(1&lt;&lt;PCIE0); </code><code class="comments">//разрешить прерывания PCINT 0,1</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>150</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">PCMSK1=1&lt;&lt;PCINT9;</code><code class="comments">// По сигналу на А1 создавать прерывание (енкодер)</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>151</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">PCMSK0=(1&lt;&lt;PCINT0)|(1&lt;&lt;PCINT2);</code><code class="comments">// По сигналу на 8 , 10&nbsp; пине ардуины создавать прерывание</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>152</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">PORTB|=(1&lt;&lt;PB0)|(1&lt;&lt;PB2); </code><code class="comments">// подтяжка 8,10 пин </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>153</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TCCR1A=0; TCCR1B=0;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>154</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">check_regim(); </code><code class="comments">//проверка и настройка режимов</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>155</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">} </code><code class="comments">//end setup</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>156</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>157</code></td><td class="content"><code class="keyword">void</code> <code class="plain">up_down(boolean x){</code><code class="comments">// функция режимов енкодера</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>158</code></td><td class="content"><code class="comments">// если режим генерации таймером и частота более 2800 Гц, то</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>159</code></td><td class="content"><code class="keyword">if</code> <code class="plain">(TCCR1B==17 &amp;&amp; ICR1&lt;2800 &amp;&amp; regim==5){ </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>160</code></td><td class="content"><code class="keyword">if</code><code class="plain">(x) { </code><code class="keyword">if</code> <code class="plain">(icr&lt;1000 &amp;&amp; shag &gt; 100) shag=100; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>161</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(icr&lt;100 &amp;&amp; shag &gt; 10) shag=10;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>162</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(icr&lt;10 &amp;&amp; shag &gt; 1) shag=1;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>163</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">icr-=shag;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>164</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(icr&lt;2) icr=2;&nbsp;&nbsp;&nbsp; }</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>165</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">else</code> <code class="plain">{&nbsp; </code><code class="keyword">if</code> <code class="plain">(icr &gt; 1800 &amp;&amp; shag &gt;100) shag =100;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>166</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">icr+=shag ;&nbsp;&nbsp; } </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>167</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">return</code><code class="plain">; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>168</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>169</code></td><td class="content"><code class="keyword">if</code> <code class="plain">(regim==6){ </code><code class="comments">// если енкодер в режиме регулировки скважности, то</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>170</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="comments">// если возможна регулировка с точностью&nbsp; не хуже 1%, то:</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>171</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(ICR1&gt;100){ </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>172</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="comments">// Если&nbsp; увеличение скважности</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>173</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(x){</code><code class="keyword">if</code><code class="plain">(duty&lt;100) {duty++; }&nbsp; }</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>174</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="comments">// Если уменьшение скважности</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>175</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(!x){ </code><code class="keyword">if</code><code class="plain">(duty&gt;0) {duty--; }}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>176</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>177</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">else</code><code class="plain">{ </code><code class="comments">// если точность 1% уже невозможна, то будем крутить регистр OCR2A напрямую</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>178</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(x){</code><code class="keyword">if</code><code class="plain">(OCR1A&lt;ICR1) {OCR1A++; }&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>179</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">else</code> <code class="plain">{</code><code class="keyword">if</code><code class="plain">(OCR1A&gt;0) {OCR1A--; }&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>180</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code><code class="plain">(OCR1A&gt;ICR1) OCR1A=ICR1-1;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>181</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">duty=(uint32_t)100*OCR1A/ICR1;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>182</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>183</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">return</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>184</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">} </code><code class="comments">//конец настройки режима скважности</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>185</code></td><td class="content"><code class="comments">// в остальных режимах DDS :</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>186</code></td><td class="content"><code class="plain">x? freq+=shag : freq-=shag;&nbsp; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>187</code></td><td class="content"><code class="keyword">if</code> <code class="plain">(freq &lt; 1) freq=1;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>188</code></td><td class="content"><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>189</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>190</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">ISR (PCINT1_vect){ </code><code class="comments">// прерывание энкодера</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>191</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">PORTD=0; </code><code class="comments">//обнулить порт DDS при любых манипуляциях</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>192</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">up_down((PINC&amp;1)^((PINC&amp;2)&gt;&gt;1)); </code><code class="comments">//конечная обработка в другой функции&nbsp; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>193</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">check_regim();</code><code class="comments">//проверка и установка режимов генератора</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>194</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>195</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>196</code></td><td class="content"><code class="plain">ISR (PCINT0_vect){ </code><code class="comments">// прерывание обработчик кнопок</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>197</code></td><td class="content"><code class="plain">PORTD=0; </code><code class="comments">//обнулить порт DDS при любых манипуляциях</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>198</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">((PINB&amp;(1&lt;&lt;0))==0){ </code><code class="comments">// обработчик кнопки энкодера (8 пин arduino)</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>199</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">while</code> <code class="plain">((PINB&amp;(1&lt;&lt;0))==0);</code><code class="comments">// ждать пока отпустят кнопку</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>200</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(regim==6) { regim=5; check_regim(); </code><code class="keyword">return</code><code class="plain">; }</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>201</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">switch</code> <code class="plain">(shag){ </code><code class="comments">//установка шага регулировки&nbsp; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>202</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">1: shag=10;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>203</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">10: shag=100;&nbsp;&nbsp;&nbsp; </code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>204</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">100: shag=1000;&nbsp;&nbsp; </code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>205</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">1000: shag=1;&nbsp; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>206</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>207</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">check_regim();</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>208</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">} </code><code class="comments">//конец если нажата кнопка энкодера</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>209</code></td><td class="content"><code class="keyword">if</code> <code class="plain">((PINB&amp;(1&lt;&lt;2))==0){ </code><code class="comments">//обработчик кнопки режимов (10 пин PB2)</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>210</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain">PORTD=0;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>211</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">while</code> <code class="plain">((PINB&amp;(1&lt;&lt;2))==0);</code><code class="comments">// ждать пока отпустят кнопку</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>212</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">regim++; </code><code class="keyword">if</code> <code class="plain">(regim==7) regim=0; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>213</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">check_regim();</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>214</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>215</code></td><td class="content"><code class="plain">}</code><code class="comments">//end pcint0</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>216</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>217</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>218</code></td><td class="content"><code class="keyword">void</code> <code class="plain">pwm_gen(){</code><code class="comments">//функция программирования таймера1</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>219</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="plain">uint16_t divider=1; </code><code class="comments">//переменная коэфф. деления прескалера</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>220</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">icr = (F_CPU / freq /2 /divider); </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>221</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="keyword">byte</code> <code class="plain">shifts[] = {3,3,2,2};</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>222</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">for</code><code class="plain">(</code><code class="keyword">byte</code> <code class="plain">i = 0; i &lt; 4; i++){</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>223</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(icr &gt; 65536) {</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>224</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">divider &lt;&lt;= shifts[i];</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>225</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">icr = F_CPU / freq /2 /divider;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>226</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>227</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">else</code> <code class="plain">{&nbsp; </code><code class="comments">//запись в регистр прескалера</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>228</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TCCR1B = (i+1)|(1&lt;&lt;WGM13);&nbsp; </code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>229</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>230</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>231</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="plain">ICR1=icr-1; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>232</code></td><td class="content"><code class="plain">set_duty();</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>233</code></td><td class="content"><code class="plain">} </code><code class="comments">//end pwm_gen</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>234</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>235</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>236</code></td><td class="content"><code class="keyword">void</code> <code class="keyword">loop</code><code class="plain">() {</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>237</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(regim &lt;5){ PORTB&amp;= ~(1&lt;&lt;7);</code><code class="comments">// флаг ухода в цикл DDS</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>238</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">DDRD=0xFF;</code><code class="comments">//set D port as output</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>239</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">uint32_t temp=(</code><code class="keyword">float</code><code class="plain">)freq /0.095367431640625; </code><code class="comments">//пересчёт частоты</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>240</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">ad2=temp&gt;&gt;16; ad1=temp&gt;&gt;8; ad0=temp;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>241</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">switch</code> <code class="plain">(regim){ </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>242</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">0: signalOUT(sinewave); </code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>243</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">1: signalOUT(trianglewave); </code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>244</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">2: signalOUT(squarewave); </code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>245</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">3: signalOUT(sawtoothwave); </code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>246</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">4: signalOUT(rewsawtoothwave);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>247</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">} </code><code class="comments">//end switch</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>248</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">DDRD=0; PORTD=0;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>249</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">} </code><code class="comments">//end if (regim&lt;5)</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>250</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>251</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>252</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>253</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>254</code></td><td class="content"><code class="keyword">void</code> <code class="plain">monitor_out(){</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>255</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="keyword">Serial</code><code class="plain">.print(</code><code class="string">"FReq="</code><code class="plain">);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>256</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(freq &lt;10000) { </code><code class="keyword">Serial</code><code class="plain">.print(freq);&nbsp;&nbsp; </code><code class="keyword">Serial</code><code class="plain">.print(</code><code class="string">"Hz"</code><code class="plain">); }</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>257</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(freq &gt;10000) { </code><code class="keyword">Serial</code><code class="plain">.print((</code><code class="keyword">float</code><code class="plain">)freq/1000,3);&nbsp;&nbsp; </code><code class="keyword">Serial</code><code class="plain">.print(</code><code class="string">"kHz"</code><code class="plain">); }</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>258</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="keyword">Serial</code><code class="plain">.print(</code><code class="string">"&nbsp; Shag="</code><code class="plain">); </code><code class="keyword">Serial</code><code class="plain">.print(shag);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>259</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">switch</code><code class="plain">(regim){ </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>260</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">0: </code><code class="keyword">Serial</code><code class="plain">.print(</code><code class="string">"&nbsp;&nbsp; Sinus"</code><code class="plain">); </code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>261</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">1: </code><code class="keyword">Serial</code><code class="plain">.print(</code><code class="string">"&nbsp;&nbsp; Triangle"</code><code class="plain">); </code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>262</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">2: </code><code class="keyword">Serial</code><code class="plain">.print(</code><code class="string">"&nbsp;&nbsp; Meandr"</code><code class="plain">); </code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>263</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">3: </code><code class="keyword">Serial</code><code class="plain">.print(</code><code class="string">"&nbsp;&nbsp; Sawtooth"</code><code class="plain">); </code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>264</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">4: </code><code class="keyword">Serial</code><code class="plain">.print(</code><code class="string">"&nbsp;&nbsp; REWSawtooth"</code><code class="plain">); </code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>265</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">5: </code><code class="keyword">Serial</code><code class="plain">.print(</code><code class="string">"&nbsp;&nbsp; Square_Timer"</code><code class="plain">); </code><code class="keyword">Serial</code><code class="plain">.print(</code><code class="string">"&nbsp; Duty="</code><code class="plain">); </code><code class="keyword">Serial</code><code class="plain">.print(duty); </code><code class="keyword">Serial</code><code class="plain">.print(</code><code class="string">"% "</code><code class="plain">); </code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>266</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">6: </code><code class="keyword">Serial</code><code class="plain">.print(</code><code class="string">"&nbsp;&nbsp; Duty_Timer"</code><code class="plain">); </code><code class="keyword">Serial</code><code class="plain">.print(</code><code class="string">"&nbsp; Duty="</code><code class="plain">); </code><code class="keyword">Serial</code><code class="plain">.print(duty);</code><code class="keyword">Serial</code><code class="plain">.print(</code><code class="string">"% "</code><code class="plain">);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>267</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>268</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="keyword">Serial</code><code class="plain">.println();</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>269</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>270</code></td><td class="content"><code class="plain">}</code><code class="comments">//end monitor out</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>271</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>272</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>273</code></td><td class="content"><code class="keyword">void</code> <code class="plain">set_duty(){</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>274</code></td><td class="content"><code class="comments">//float ocr,delta_ocr;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>275</code></td><td class="content"><code class="keyword">if</code> <code class="plain">(regim==6&amp;&amp;ICR1&lt;100) </code><code class="keyword">return</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>276</code></td><td class="content"><code class="keyword">if</code> <code class="plain">(regim==5 &amp;&amp; ICR1&lt;100){</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>277</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">OCR1A=ICR1/2; duty=50; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>278</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">return</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>279</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>280</code></td><td class="content"><code class="keyword">static</code> <code class="plain">uint16_t ocr;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>281</code></td><td class="content"><code class="plain">ocr=(uint32_t)ICR1*duty/100;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>282</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="keyword">if</code> <code class="plain">(ocr &lt; 1) { </code><code class="comments">// если значение оср менее 1, то</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>283</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">while</code> <code class="plain">(ocr&lt;1) { </code><code class="comments">// менять скважность пока оср не станет больше ноля</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>284</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">(duty&gt;50)? duty-- : duty++ ; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>285</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">ocr=(uint32_t)ICR1*duty/100; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>286</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>287</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>288</code></td><td class="content"><code class="plain">OCR1A=ocr;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>289</code></td><td class="content"><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>290</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>291</code></td><td class="content"><code class="keyword">void</code> <code class="plain">check_regim(){</code><code class="comments">// </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>292</code></td><td class="content"><code class="keyword">if</code> <code class="plain">(regim &lt;5){ </code><code class="keyword">if</code> <code class="plain">(freq &gt; 100000) freq=100000;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>293</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TCCR1B=0;</code><code class="comments">//отключить генерацию таймера</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>294</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TCCR1A=0;&nbsp; DDRB&amp;=~(1&lt;&lt;DDB1); </code><code class="comments">// 9 pin arduino set Z-mode </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>295</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code><code class="comments">// end if regim &lt;5</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>296</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>297</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(regim &gt; 4) { </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>298</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TCCR1A=1&lt;&lt;COM1A1; DDRB|=1&lt;&lt;DDB1; </code><code class="comments">// 9 pin set output (pwm out)</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>299</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(TCCR1B==17 &amp;&amp; ICR1&lt;2800){ </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>300</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">ICR1=icr; freq= (</code><code class="keyword">float</code><code class="plain">) 8000000UL/ICR1;&nbsp; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>301</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">set_duty();&nbsp; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>302</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>303</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">else</code> <code class="plain">{ pwm_gen(); } </code><code class="comments">// запуск функции вывода частоты через таймер&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>304</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>305</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain">PORTB|= 1&lt;&lt;7; </code><code class="comments">//флажок для выхода из цикла DDS&nbsp; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>306</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">monitor_out(); </code><code class="comments">//вывод информации </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>307</code></td><td class="content"><code class="plain">}</code></td></tr></tbody></table></div></div></div>

<p><strong>Тех. Характеристики генерации таймером:</strong><br>
	Генерация прямоугольного сигнала&nbsp; 0..4 Мгц ,<br>
	&nbsp;минимальный шаг регулировки частоты в диапазоне 0...2,8кГц - 1Гц<br>
	&nbsp;свыше 2,8кГц минимальный шаг постепенно возрастает.<br>
	Регулировка коэффициента заполнения (скважности) 1..100%<br>
	в диапазоне 1Гц..80кГц регулировка производится с разрешением 1%<br>
	Свыше 80кГц разрешение (шаг) регулировки скважности увеличивается.<br>
	При изменении рабочей частоты в диапазоне 1Гц-80кГц выбранная скважность сохраняется,<br>
	а при изменении частоты свыше 80кГц&nbsp; сбрасывается на 50 %,<br>
	но в режиме регулировки скважности её можно снова изменять.<br>
	&nbsp;</p>
<p><strong>Тех. Характеристики генерации сигнала через DDS:</strong><br>
	Почему-то в оригинальной статье автора алгоритма DDS о характеристиках нет ни слова.<br>
	Указана только максимальная частота -65кГц. Откуда её взял автор непонятно, я поставил ограничение на 100кГц C увеличением частоты сильно падает разрешение получаемого сигнала на высоких частотах. А конкретно, в диапазонах:<br>
	0...6,25 кГц - разрядность от 256 до 128 градаций<br>
	6,25...12,5 кГц - разрядность от 128 до 64 градаций<br>
	12,5...25кГц -разрядность от 64 до 32 градаций<br>
	25кГц...50кГц -разрядность от 32 до 16 градаций<br>
	50кГц...100кГц -разрядность от 16 до 8 градаций<br>
	Помимо этого с увеличением частоты вырастает джиттер,<br>
	особенно заметно на сигналах с резкими фронтами (прямоугольник, пила).<br>
	Но на точно установленных частотах 6,25кГц ; 12,5кГц ; 25кГц; 50кГц; 100 кГц джиттера нет, их можно использовать для точных измерений. Остальные частоты для большинства применений тоже подойдут.<br>
	Но если нужен идеальный сигнал -то только генерация таймером.<br>
	Во всех диапазонах DDS минимальный шаг регулировки частоты - 1Гц.</p>
<p>Для сравнения синус 20кГц и синус 100кГц:</p>
<p><a href="http://out.arduino.ru/?redirect=https%3A%2F%2Fimg-fotki.yandex.ru%2Fget%2F58675%2F118551841.8%2F0_db17b_25639846_orig.png&amp;baseU=http%3A%2F%2Farduino.ru%2Fforum%2Fproekty%2Fgenerator-s-reguliruemoei-chastotoi-na-arduino" rel="nofollow" target="_blank"><img alt="" src="./Генератор с регулируемоей частотой на ардуино. _ Аппаратная платформа Arduino_files/gen_sinus20kHz.png" style="width:240px;height:144px;"></a><a href="http://out.arduino.ru/?redirect=https%3A%2F%2Fimg-fotki.yandex.ru%2Fget%2F51592%2F118551841.8%2F0_db17c_d13d6e3a_orig.png&amp;baseU=http%3A%2F%2Farduino.ru%2Fforum%2Fproekty%2Fgenerator-s-reguliruemoei-chastotoi-na-arduino" rel="nofollow" target="_blank"><img alt="" src="./Генератор с регулируемоей частотой на ардуино. _ Аппаратная платформа Arduino_files/gen_sinus100kHz.png" style="width:240px;height:144px;"></a></p>
<p><strong>Управление: </strong>кнопка переключения режимов переключает последовательно<br>
	(0)синус DDS, (1)треугольник DDS, (2)прямоугольник DDS, (3)правая пила DDS,<br>
	(4) левая пила DDS. (5) частота генерации таймером (6) скважность генерации таймером</p>
<p>	Кнопка на энкодере переключает шаг изменения частоты 1000-1-10-100<br>
	в режиме регулировки скважности(6) нажатие на кнопку переключает энкодер в режим (5).</p>
<p>	<strong>Особенности:</strong><br>
	(1) Функция на ассемблере использует не стандартный способ чтения массива, записанного через PROGMEM Для этого способа требуется что бы расположение всех таблиц-массивов было кратно адресу 0x100 В ардуино нет штатных средств что бы положить конкретный массив по конкретному адресу во флэш область, поэтому пришлось обойти этот недостаток не очень красивым способом.&nbsp; Я создал специальный массив musor_mass, который занимает всё свободное место вплоть до адреса 0x100, а после него массивы с таблицами сами попадают точно на нужные адреса. Что бы компилятор не выбросил этот массив пришлось его как-то задействовать ( в строке 147 сетапа). При изменении в коде или при использовании версии ардуино отличной от 1.6.8 возможно потребуется изменение размера мусорного массива таким образом, что бы первый байт табличных массивов сел точно на адрес 0x100. Возможно в какой-то версии компилятора musor_mass нужно будет расположить в скетче не последним, а первым. После нажатия кнопки "проверить" лучше сразу заглянуть в скомпилившийся hex файл. Пример правильного расположения массивов на картинке.<br><a href="http://out.arduino.ru/?redirect=https%3A%2F%2Fimg-fotki.yandex.ru%2Fget%2F44085%2F118551841.7%2F0_db17a_4b207139_orig.jpg&amp;baseU=http%3A%2F%2Farduino.ru%2Fforum%2Fproekty%2Fgenerator-s-reguliruemoei-chastotoi-na-arduino" rel="nofollow" target="_blank"><img alt="" src="./Генератор с регулируемоей частотой на ардуино. _ Аппаратная платформа Arduino_files/table_compil2.jpg" style="width:320px;height:250px;"></a></p>
<p>(2) В функции на ассемблере использован свободный 7й бит регистра PORTB, нога физически отключена и задействавана под кварц, так что бит можно использовать в своих целях в качестве булевой переменной. А у автора оригинального DDS генератора в&nbsp; аналогичных нетрадиционных целях задействован бит регистра SPCR (конфигурационный регистр SPI)</p>
<p>	В данном скетче вывод информации происходит через Serial, в функции monitor_out() можно настроить вывод на свой дисплей, на плате ардуино ещё свободны 7 выводов (11,12,13,A2-A5).<br>
	&nbsp;</p>
      </div>

          </div>
  </div>

  <div class="forum-post-footer clear-block">
    <div class="forum-jump-links">
      <a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#top" title="Jump to top of page">Верх</a>
    </div>

          <div class="forum-post-links">
        <ul class="links forum-links"><li class="comment_forbidden first"><span><a href="http://arduino.ru/user/login?destination=node%2F11357%23comment-form">Войдите</a> или <a href="http://arduino.ru/user/register?destination=node%2F11357%23comment-form">зарегистрируйтесь</a>, чтобы получить возможность отправлять комментарии</span></li>
<li class="vud_comment_votes_count last"></li>
</ul>      </div>
      </div>
</div><a id="comment-193571"></a>

    <div class="forum-post  clear-block">

  <div class="post-info clear-block">
    <div class="posted-on">
      Пт, 13/05/2016 - 12:29
          </div>

          <span class="post-num"><a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#comment-193571" class="active">#12</a> </span>
      </div>

  <div class="forum-post-wrapper">

    <div class="forum-post-panel-sub">
      

<div class="author-pane">
 <div class="author-pane-inner">
        <div class="author-pane-section author-pane-general">
            <div class="author-pane-line author-name">
        dimax      </div>

                    
  <div class="picture">
          <img src="./Генератор с регулируемоей частотой на ардуино. _ Аппаратная платформа Arduino_files/picture-6856.jpg" alt="dimax аватар" title="dimax аватар">      </div>
      
                    <div class="author-pane-line author-offline">
           Offline        </div>
      
            
            
            
                    <div class="author-pane-line author-joined">
          <span class="author-pane-label">Зарегистрирован:</span> 25.12.2013        </div>
      
            
                </div>

        <div class="author-pane-section author-pane-contact">
            
            
            
                </div>

        <div class="author-pane-section author-pane-admin">
            
          
               </div>
  </div>
</div>
    </div>

    <div class="forum-post-panel-main clear-block">
      
      <div class="content">
        <p><strong>Версия под дисплей NOKIA 5110</strong></p>
<p><img alt="" src="./Генератор с регулируемоей частотой на ардуино. _ Аппаратная платформа Arduino_files/gen_dds_lcd5110.jpg" style="width:320px;height:240px;"></p>
<p>&nbsp;</p>
<p>Дисплей подключен на пины A2-A5.&nbsp; Других отличий от сериальной нет. Библа для дисплея LCD5510&nbsp; от&nbsp; <a href="http://out.arduino.ru/?redirect=http%3A%2F%2Fwww.rinkydinkelectronics.com%2Flibrary.php%3Fid%3D45&amp;baseU=http%3A%2F%2Farduino.ru%2Fforum%2Fproekty%2Fgenerator-s-reguliruemoei-chastotoi-na-arduino" rel="nofollow" target="_blank">ринки-динка</a>, но подпатченная нашим форумчанином&nbsp; ssvs111 что б дисплей работал на 4 пинах, ссылка на пропатченую версию была <a href="http://arduino.ru/forum/programmirovanie/5110-i-nano-kak-nauchit-russkomu#comment-139506" rel="nofollow">тут</a> Скетч:</p>
<div id="highlighter_872843" class="syntaxhighlighter collapsed  "><div class="bar"><div class="toolbar"><a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#expandSource" title="показать код" class="item expandSource" style="width: 16px; height: 16px;">показать код</a><a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#viewSource" title="код" class="item viewSource" style="width: 16px; height: 16px;">код</a><div class="item copyToClipboard"><embed width="16" height="16" id="highlighter_872843_clipboard" type="application/x-shockwave-flash" title="скопировать" allowscriptaccess="always" wmode="transparent" flashvars="highlighterId=highlighter_872843" menu="false" src="/sites/all/libraries/syntaxhighlighter/scripts/clipboard.swf"></div><a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#printSource" title="расечатать" class="item printSource" style="width: 16px; height: 16px;">расечатать</a><a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#about" title="?" class="item about" style="width: 16px; height: 16px;">?</a></div></div><div class="lines"><div class="line alt1"><table><tbody><tr><td class="number"><code>001</code></td><td class="content"><code class="comments">/*Программа генератора с регулируемой частотой и скважностью для МК ATMEGA328</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>002</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="comments">* Для синтезатора частоты была позаимствована функция на ассемблере из источника</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>003</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="comments">* &lt;a href="<a href="http://out.arduino.ru/?redirect=http%3A%2F%2Fwww.scienceprog.com%2Favr-dds-signal-generator-v20%2F&amp;baseU=http%3A%2F%2Farduino.ru%2Fforum%2Fproekty%2Fgenerator-s-reguliruemoei-chastotoi-na-arduino" target="_blank" rel="nofollow">http://www.scienceprog.com/avr-dds-signal-generator-v20/</a>" title="<a href="http://out.arduino.ru/?redirect=http%3A%2F%2Fwww.scienceprog.com%2Favr-dds-signal-generator-v20%2F&amp;baseU=http%3A%2F%2Farduino.ru%2Fforum%2Fproekty%2Fgenerator-s-reguliruemoei-chastotoi-na-arduino" target="_blank" rel="nofollow">http://www.scienceprog.com/avr-dds-signal-generator-v20/</a>" rel="nofollow"&gt;<a href="http://out.arduino.ru/?redirect=http%3A%2F%2Fwww.scienceprog.com%2Favr-dds-signal-generator-v20%2F%253C%2Fa&amp;baseU=http%3A%2F%2Farduino.ru%2Fforum%2Fproekty%2Fgenerator-s-reguliruemoei-chastotoi-na-arduino" target="_blank" rel="nofollow">http://www.scienceprog.com/avr-dds-signal-generator-v20/&lt;/a</a>&gt; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>004</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="comments">*/</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>005</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>006</code></td><td class="content"><code class="keyword">const</code> <code class="plain">PROGMEM uint8_t&nbsp; sinewave[]=</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>007</code></td><td class="content"><code class="plain">{</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>008</code></td><td class="content"><code class="plain">0x80,0x83,0x86,0x89,0x8c,0x8f,0x92,0x95,0x98,0x9c,0x9f,0xa2,0xa5,0xa8,0xab,0xae,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>009</code></td><td class="content"><code class="plain">0xb0,0xb3,0xb6,0xb9,0xbc,0xbf,0xc1,0xc4,0xc7,0xc9,0xcc,0xce,0xd1,0xd3,0xd5,0xd8,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>010</code></td><td class="content"><code class="plain">0xda,0xdc,0xde,0xe0,0xe2,0xe4,0xe6,0xe8,0xea,0xec,0xed,0xef,0xf0,0xf2,0xf3,0xf5,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>011</code></td><td class="content"><code class="plain">0xf6,0xf7,0xf8,0xf9,0xfa,0xfb,0xfc,0xfc,0xfd,0xfe,0xfe,0xff,0xff,0xff,0xff,0xff,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>012</code></td><td class="content"><code class="plain">0xff,0xff,0xff,0xff,0xff,0xff,0xfe,0xfe,0xfd,0xfc,0xfc,0xfb,0xfa,0xf9,0xf8,0xf7,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>013</code></td><td class="content"><code class="plain">0xf6,0xf5,0xf3,0xf2,0xf0,0xef,0xed,0xec,0xea,0xe8,0xe6,0xe4,0xe2,0xe0,0xde,0xdc,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>014</code></td><td class="content"><code class="plain">0xda,0xd8,0xd5,0xd3,0xd1,0xce,0xcc,0xc9,0xc7,0xc4,0xc1,0xbf,0xbc,0xb9,0xb6,0xb3,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>015</code></td><td class="content"><code class="plain">0xb0,0xae,0xab,0xa8,0xa5,0xa2,0x9f,0x9c,0x98,0x95,0x92,0x8f,0x8c,0x89,0x86,0x83,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>016</code></td><td class="content"><code class="plain">0x80,0x7c,0x79,0x76,0x73,0x70,0x6d,0x6a,0x67,0x63,0x60,0x5d,0x5a,0x57,0x54,0x51,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>017</code></td><td class="content"><code class="plain">0x4f,0x4c,0x49,0x46,0x43,0x40,0x3e,0x3b,0x38,0x36,0x33,0x31,0x2e,0x2c,0x2a,0x27,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>018</code></td><td class="content"><code class="plain">0x25,0x23,0x21,0x1f,0x1d,0x1b,0x19,0x17,0x15,0x13,0x12,0x10,0x0f,0x0d,0x0c,0x0a,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>019</code></td><td class="content"><code class="plain">0x09,0x08,0x07,0x06,0x05,0x04,0x03,0x03,0x02,0x01,0x01,0x00,0x00,0x00,0x00,0x00,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>020</code></td><td class="content"><code class="plain">0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x01,0x02,0x03,0x03,0x04,0x05,0x06,0x07,0x08,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>021</code></td><td class="content"><code class="plain">0x09,0x0a,0x0c,0x0d,0x0f,0x10,0x12,0x13,0x15,0x17,0x19,0x1b,0x1d,0x1f,0x21,0x23,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>022</code></td><td class="content"><code class="plain">0x25,0x27,0x2a,0x2c,0x2e,0x31,0x33,0x36,0x38,0x3b,0x3e,0x40,0x43,0x46,0x49,0x4c,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>023</code></td><td class="content"><code class="plain">0x4f,0x51,0x54,0x57,0x5a,0x5d,0x60,0x63,0x67,0x6a,0x6d,0x70,0x73,0x76,0x79,0x7c</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>024</code></td><td class="content"><code class="plain">};</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>025</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>026</code></td><td class="content"><code class="keyword">const</code> <code class="plain">PROGMEM uint8_t squarewave[]=</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>027</code></td><td class="content"><code class="plain">{</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>028</code></td><td class="content"><code class="plain">0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>029</code></td><td class="content"><code class="plain">0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>030</code></td><td class="content"><code class="plain">0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>031</code></td><td class="content"><code class="plain">0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>032</code></td><td class="content"><code class="plain">0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>033</code></td><td class="content"><code class="plain">0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>034</code></td><td class="content"><code class="plain">0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>035</code></td><td class="content"><code class="plain">0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>036</code></td><td class="content"><code class="plain">0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>037</code></td><td class="content"><code class="plain">0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>038</code></td><td class="content"><code class="plain">0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>039</code></td><td class="content"><code class="plain">0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>040</code></td><td class="content"><code class="plain">0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>041</code></td><td class="content"><code class="plain">0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>042</code></td><td class="content"><code class="plain">0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>043</code></td><td class="content"><code class="plain">0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>044</code></td><td class="content"><code class="plain">};</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>045</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>046</code></td><td class="content"><code class="keyword">const</code> <code class="plain">PROGMEM uint8_t trianglewave[]=</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>047</code></td><td class="content"><code class="plain">{</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>048</code></td><td class="content"><code class="plain">0x00,0x02,0x04,0x06,0x08,0x0a,0x0c,0x0e,0x10,0x12,0x14,0x16,0x18,0x1a,0x1c,0x1e,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>049</code></td><td class="content"><code class="plain">0x20,0x22,0x24,0x26,0x28,0x2a,0x2c,0x2e,0x30,0x32,0x34,0x36,0x38,0x3a,0x3c,0x3e,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>050</code></td><td class="content"><code class="plain">0x40,0x42,0x44,0x46,0x48,0x4a,0x4c,0x4e,0x50,0x52,0x54,0x56,0x58,0x5a,0x5c,0x5e,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>051</code></td><td class="content"><code class="plain">0x60,0x62,0x64,0x66,0x68,0x6a,0x6c,0x6e,0x70,0x72,0x74,0x76,0x78,0x7a,0x7c,0x7e,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>052</code></td><td class="content"><code class="plain">0x80,0x82,0x84,0x86,0x88,0x8a,0x8c,0x8e,0x90,0x92,0x94,0x96,0x98,0x9a,0x9c,0x9e,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>053</code></td><td class="content"><code class="plain">0xa0,0xa2,0xa4,0xa6,0xa8,0xaa,0xac,0xae,0xb0,0xb2,0xb4,0xb6,0xb8,0xba,0xbc,0xbe,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>054</code></td><td class="content"><code class="plain">0xc0,0xc2,0xc4,0xc6,0xc8,0xca,0xcc,0xce,0xd0,0xd2,0xd4,0xd6,0xd8,0xda,0xdc,0xde,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>055</code></td><td class="content"><code class="plain">0xe0,0xe2,0xe4,0xe6,0xe8,0xea,0xec,0xee,0xf0,0xf2,0xf4,0xf6,0xf8,0xfa,0xfc,0xfe,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>056</code></td><td class="content"><code class="plain">0xff,0xfd,0xfb,0xf9,0xf7,0xf5,0xf3,0xf1,0xef,0xef,0xeb,0xe9,0xe7,0xe5,0xe3,0xe1,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>057</code></td><td class="content"><code class="plain">0xdf,0xdd,0xdb,0xd9,0xd7,0xd5,0xd3,0xd1,0xcf,0xcf,0xcb,0xc9,0xc7,0xc5,0xc3,0xc1,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>058</code></td><td class="content"><code class="plain">0xbf,0xbd,0xbb,0xb9,0xb7,0xb5,0xb3,0xb1,0xaf,0xaf,0xab,0xa9,0xa7,0xa5,0xa3,0xa1,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>059</code></td><td class="content"><code class="plain">0x9f,0x9d,0x9b,0x99,0x97,0x95,0x93,0x91,0x8f,0x8f,0x8b,0x89,0x87,0x85,0x83,0x81,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>060</code></td><td class="content"><code class="plain">0x7f,0x7d,0x7b,0x79,0x77,0x75,0x73,0x71,0x6f,0x6f,0x6b,0x69,0x67,0x65,0x63,0x61,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>061</code></td><td class="content"><code class="plain">0x5f,0x5d,0x5b,0x59,0x57,0x55,0x53,0x51,0x4f,0x4f,0x4b,0x49,0x47,0x45,0x43,0x41,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>062</code></td><td class="content"><code class="plain">0x3f,0x3d,0x3b,0x39,0x37,0x35,0x33,0x31,0x2f,0x2f,0x2b,0x29,0x27,0x25,0x23,0x21,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>063</code></td><td class="content"><code class="plain">0x1f,0x1d,0x1b,0x19,0x17,0x15,0x13,0x11,0x0f,0x0f,0x0b,0x09,0x07,0x05,0x03,0x01</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>064</code></td><td class="content"><code class="plain">};</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>065</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>066</code></td><td class="content"><code class="keyword">const</code> <code class="plain">PROGMEM uint8_t sawtoothwave[]= </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>067</code></td><td class="content"><code class="plain">{</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>068</code></td><td class="content"><code class="plain">0x00,0x01,0x02,0x03,0x04,0x05,0x06,0x07,0x08,0x09,0x0a,0x0b,0x0c,0x0d,0x0e,0x0f,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>069</code></td><td class="content"><code class="plain">0x10,0x11,0x12,0x13,0x14,0x15,0x16,0x17,0x18,0x19,0x1a,0x1b,0x1c,0x1d,0x1e,0x1f,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>070</code></td><td class="content"><code class="plain">0x20,0x21,0x22,0x23,0x24,0x25,0x26,0x27,0x28,0x29,0x2a,0x2b,0x2c,0x2d,0x2e,0x2f,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>071</code></td><td class="content"><code class="plain">0x30,0x31,0x32,0x33,0x34,0x35,0x36,0x37,0x38,0x39,0x3a,0x3b,0x3c,0x3d,0x3e,0x3f,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>072</code></td><td class="content"><code class="plain">0x40,0x41,0x42,0x43,0x44,0x45,0x46,0x47,0x48,0x49,0x4a,0x4b,0x4c,0x4d,0x4e,0x4f,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>073</code></td><td class="content"><code class="plain">0x50,0x51,0x52,0x53,0x54,0x55,0x56,0x57,0x58,0x59,0x5a,0x5b,0x5c,0x5d,0x5e,0x5f,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>074</code></td><td class="content"><code class="plain">0x60,0x61,0x62,0x63,0x64,0x65,0x66,0x67,0x68,0x69,0x6a,0x6b,0x6c,0x6d,0x6e,0x6f,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>075</code></td><td class="content"><code class="plain">0x70,0x71,0x72,0x73,0x74,0x75,0x76,0x77,0x78,0x79,0x7a,0x7b,0x7c,0x7d,0x7e,0x7f,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>076</code></td><td class="content"><code class="plain">0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8a,0x8b,0x8c,0x8d,0x8e,0x8f,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>077</code></td><td class="content"><code class="plain">0x90,0x91,0x92,0x93,0x94,0x95,0x96,0x97,0x98,0x99,0x9a,0x9b,0x9c,0x9d,0x9e,0x9f,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>078</code></td><td class="content"><code class="plain">0xa0,0xa1,0xa2,0xa3,0xa4,0xa5,0xa6,0xa7,0xa8,0xa9,0xaa,0xab,0xac,0xad,0xae,0xaf,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>079</code></td><td class="content"><code class="plain">0xb0,0xb1,0xb2,0xb3,0xb4,0xb5,0xb6,0xb7,0xb8,0xb9,0xba,0xbb,0xbc,0xbd,0xbe,0xbf,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>080</code></td><td class="content"><code class="plain">0xc0,0xc1,0xc2,0xc3,0xc4,0xc5,0xc6,0xc7,0xc8,0xc9,0xca,0xcb,0xcc,0xcd,0xce,0xcf,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>081</code></td><td class="content"><code class="plain">0xd0,0xd1,0xd2,0xd3,0xd4,0xd5,0xd6,0xd7,0xd8,0xd9,0xda,0xdb,0xdc,0xdd,0xde,0xdf,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>082</code></td><td class="content"><code class="plain">0xe0,0xe1,0xe2,0xe3,0xe4,0xe5,0xe6,0xe7,0xe8,0xe9,0xea,0xeb,0xec,0xed,0xee,0xef,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>083</code></td><td class="content"><code class="plain">0xf0,0xf1,0xf2,0xf3,0xf4,0xf5,0xf6,0xf7,0xf8,0xf9,0xfa,0xfb,0xfc,0xfd,0xfe,0xff</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>084</code></td><td class="content"><code class="plain">};</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>085</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>086</code></td><td class="content"><code class="keyword">const</code> <code class="plain">PROGMEM uint8_t rewsawtoothwave[]=</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>087</code></td><td class="content"><code class="plain">{</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>088</code></td><td class="content"><code class="plain">0xff,0xfe,0xfd,0xfc,0xfb,0xfa,0xf9,0xf8,0xf7,0xf6,0xf5,0xf4,0xf3,0xf2,0xf1,0xf0,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>089</code></td><td class="content"><code class="plain">0xef,0xee,0xed,0xec,0xeb,0xea,0xe9,0xe8,0xe7,0xe6,0xe5,0xe4,0xe3,0xe2,0xe1,0xe0,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>090</code></td><td class="content"><code class="plain">0xdf,0xde,0xdd,0xdc,0xdb,0xda,0xd9,0xd8,0xd7,0xd6,0xd5,0xd4,0xd3,0xd2,0xd1,0xd0,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>091</code></td><td class="content"><code class="plain">0xcf,0xce,0xcd,0xcc,0xcb,0xca,0xc9,0xc8,0xc7,0xc6,0xc5,0xc4,0xc3,0xc2,0xc1,0xc0,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>092</code></td><td class="content"><code class="plain">0xbf,0xbe,0xbd,0xbc,0xbb,0xba,0xb9,0xb8,0xb7,0xb6,0xb5,0xb4,0xb3,0xb2,0xb1,0xb0,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>093</code></td><td class="content"><code class="plain">0xaf,0xae,0xad,0xac,0xab,0xaa,0xa9,0xa8,0xa7,0xa6,0xa5,0xa4,0xa3,0xa2,0xa1,0xa0,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>094</code></td><td class="content"><code class="plain">0x9f,0x9e,0x9d,0x9c,0x9b,0x9a,0x99,0x98,0x97,0x96,0x95,0x94,0x93,0x92,0x91,0x90,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>095</code></td><td class="content"><code class="plain">0x8f,0x8e,0x8d,0x8c,0x8b,0x8a,0x89,0x88,0x87,0x86,0x85,0x84,0x83,0x82,0x81,0x80,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>096</code></td><td class="content"><code class="plain">0x7f,0x7e,0x7d,0x7c,0x7b,0x7a,0x79,0x78,0x77,0x76,0x75,0x74,0x73,0x72,0x71,0x70,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>097</code></td><td class="content"><code class="plain">0x6f,0x6e,0x6d,0x6c,0x6b,0x6a,0x69,0x68,0x67,0x66,0x65,0x64,0x63,0x62,0x61,0x60,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>098</code></td><td class="content"><code class="plain">0x5f,0x5e,0x5d,0x5c,0x5b,0x5a,0x59,0x58,0x57,0x56,0x55,0x54,0x53,0x52,0x51,0x50,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>099</code></td><td class="content"><code class="plain">0x4f,0x4e,0x4d,0x4c,0x4b,0x4a,0x49,0x48,0x47,0x46,0x45,0x44,0x43,0x42,0x41,0x40,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>100</code></td><td class="content"><code class="plain">0x3f,0x3e,0x3d,0x3c,0x3b,0x3a,0x39,0x38,0x37,0x36,0x35,0x34,0x33,0x32,0x31,0x30,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>101</code></td><td class="content"><code class="plain">0x2f,0x2e,0x2d,0x2c,0x2b,0x2a,0x29,0x28,0x27,0x26,0x25,0x24,0x23,0x22,0x21,0x20,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>102</code></td><td class="content"><code class="plain">0x1f,0x1e,0x1d,0x1c,0x1b,0x1a,0x19,0x18,0x17,0x16,0x15,0x14,0x13,0x12,0x11,0x10,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>103</code></td><td class="content"><code class="plain">0x0f,0x0e,0x0d,0x0c,0x0b,0x0a,0x09,0x08,0x07,0x06,0x05,0x04,0x03,0x02,0x01,0x00,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>104</code></td><td class="content"><code class="plain">};</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>105</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>106</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>107</code></td><td class="content"><code class="keyword">const</code> <code class="plain">PROGMEM </code><code class="keyword">char</code> <code class="plain">musor_mass[]={0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>108</code></td><td class="content"><code class="plain">0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>109</code></td><td class="content"><code class="plain">0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>110</code></td><td class="content"><code class="plain">0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>111</code></td><td class="content"><code class="plain">0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>112</code></td><td class="content"><code class="plain">0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>113</code></td><td class="content"><code class="plain">0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>114</code></td><td class="content"><code class="plain">0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>115</code></td><td class="content"><code class="plain">0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>116</code></td><td class="content"><code class="plain">};</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>117</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>118</code></td><td class="content"><code class="comments">// глобальные переменные</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>119</code></td><td class="content"><code class="plain">volatile int32_t freq=1000;</code><code class="comments">// частота генератора по умолчанию, Герц </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>120</code></td><td class="content"><code class="plain">volatile uint16_t shag=100; </code><code class="comments">//шаг переключения частоты,значение по умолчанию</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>121</code></td><td class="content"><code class="plain">volatile uint8_t regim=5;</code><code class="comments">// режим работы по умолчанию (0)синус DDS, (1)треугольник DDS,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>122</code></td><td class="content"><code class="comments">//(2)прямоугольник DDS, (3)правая пила DDS, (4) левая пила DDS. (5) частота генерации таймером </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>123</code></td><td class="content"><code class="comments">// (6) скважность генерации таймером</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>124</code></td><td class="content"><code class="plain">volatile uint8_t ad2,ad1,ad0; </code><code class="comments">//байты частоты для функции на ассемблере</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>125</code></td><td class="content"><code class="plain">volatile uint8_t duty=50;</code><code class="comments">//скважность (коэффициент заполнения), процентов по умолчанию&nbsp; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>126</code></td><td class="content"><code class="plain">volatile uint32_t icr=0; </code><code class="comments">//переменная для работы с регистром ICR1</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>127</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>128</code></td><td class="content"><code class="preprocessor">#include &lt;LCD5110_SSVS.h&gt;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>129</code></td><td class="content"><code class="keyword">extern</code> <code class="plain">uint8_t SmallFont[];</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>130</code></td><td class="content"><code class="keyword">extern</code> <code class="plain">uint8_t MediumNumbers[];</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>131</code></td><td class="content"><code class="plain">LCD5110 lcd(A5,A4,A3,A2);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>132</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>133</code></td><td class="content"><code class="comments">// DDS algorithm </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>134</code></td><td class="content"><code class="keyword">static</code> <code class="plain">inline </code><code class="keyword">void</code> <code class="plain">signalOUT(</code><code class="keyword">const</code> <code class="plain">uint8_t *signal){ </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>135</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain">asm volatile(&nbsp; </code><code class="string">"eor r18, r18&nbsp;&nbsp; ;r18&lt;-0"</code>&nbsp; <code class="string">"\n\t"</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>136</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="string">"eor r19, r19&nbsp;&nbsp; ;r19&lt;-0"</code>&nbsp; <code class="string">"\n\t"</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>137</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="string">"1:"</code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <code class="string">"\n\t"</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>138</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="string">"add r18, %0&nbsp; ;1 cycle"</code>&nbsp;&nbsp;&nbsp;&nbsp; <code class="string">"\n\t"</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>139</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="string">"adc r19, %1&nbsp; ;1 cycle"</code>&nbsp;&nbsp;&nbsp;&nbsp; <code class="string">"\n\t"</code>&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>140</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="string">"adc %A3, %2&nbsp; ;1 cycle"</code>&nbsp;&nbsp;&nbsp;&nbsp; <code class="string">"\n\t"</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>141</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="string">"lpm&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ;3 cycles"</code>&nbsp; <code class="string">"\n\t"</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>142</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="string">"out %4, __tmp_reg__&nbsp; ;1 cycle"</code> <code class="string">"\n\t"</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>143</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="string">"sbis %5, 7&nbsp;&nbsp; ;1 cycle if no skip"</code> <code class="string">"\n\t"</code>&nbsp;&nbsp;&nbsp;&nbsp; <code class="comments">// если стоит бит в переменной %5, то</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>144</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="string">"rjmp 1b&nbsp;&nbsp;&nbsp; ;2 cycles. Total 10 cycles"</code> <code class="string">"\n\t"</code> <code class="comments">//пропустить эту команду ухода в цикл</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>145</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">:</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>146</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">:</code><code class="string">"r"</code> <code class="plain">(ad0),</code><code class="string">"r"</code> <code class="plain">(ad1),</code><code class="string">"r"</code> <code class="plain">(ad2),</code><code class="string">"e"</code> <code class="plain">(signal),</code><code class="string">"I"</code> <code class="plain">(_SFR_IO_ADDR(PORTD)), </code><code class="string">"I"</code> <code class="plain">(_SFR_IO_ADDR(PORTB))</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>147</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">:</code><code class="string">"r18"</code><code class="plain">, </code><code class="string">"r19"</code> <code class="plain">);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>148</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>149</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>150</code></td><td class="content"><code class="keyword">void</code> <code class="keyword">setup</code><code class="plain">(){</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>151</code></td><td class="content"><code class="plain">lcd.InitLCD();</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>152</code></td><td class="content"><code class="keyword">for</code> <code class="plain">(</code><code class="keyword">int</code> <code class="plain">n=0; n &lt;</code><code class="keyword">sizeof</code><code class="plain">(musor_mass); n++ ) {PORTD=musor_mass[n]; }&nbsp;&nbsp; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>153</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">TCCR0B=0; </code><code class="comments">//заглушить 0 таймер что б не мешал DDS</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>154</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain">PCICR=(1&lt;&lt;PCIE1)|(1&lt;&lt;PCIE0); </code><code class="comments">//разрешить прерывания PCINT 0,1</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>155</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">PCMSK1=1&lt;&lt;PCINT9;</code><code class="comments">// По сигналу на А1 создавать прерывание (енкодер)</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>156</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">PCMSK0=(1&lt;&lt;PCINT0)|(1&lt;&lt;PCINT2);</code><code class="comments">// По сигналу на 8 , 10&nbsp; пине ардуины создавать прерывание</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>157</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">PORTB|=(1&lt;&lt;PB0)|(1&lt;&lt;PB2); </code><code class="comments">// подтяжка 8,10 пин </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>158</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TCCR1A=0; TCCR1B=0;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>159</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">check_regim(); </code><code class="comments">//проверка и настройка режимов</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>160</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">} </code><code class="comments">//end setup</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>161</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>162</code></td><td class="content"><code class="keyword">void</code> <code class="plain">up_down(boolean x){</code><code class="comments">// функция режимов енкодера</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>163</code></td><td class="content"><code class="comments">// если режим генерации таймером и частота более 2800 Гц, то</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>164</code></td><td class="content"><code class="keyword">if</code> <code class="plain">(TCCR1B==17 &amp;&amp; ICR1&lt;2800 &amp;&amp; regim==5){ </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>165</code></td><td class="content"><code class="keyword">if</code><code class="plain">(x) { </code><code class="keyword">if</code> <code class="plain">(icr&lt;1000 &amp;&amp; shag &gt; 100) shag=100; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>166</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(icr&lt;100 &amp;&amp; shag &gt; 10) shag=10;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>167</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(icr&lt;10 &amp;&amp; shag &gt; 1) shag=1;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>168</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">icr-=shag;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>169</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(icr&lt;2) icr=2;&nbsp;&nbsp;&nbsp; }</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>170</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">else</code> <code class="plain">{&nbsp; </code><code class="keyword">if</code> <code class="plain">(icr &gt; 1800 &amp;&amp; shag &gt;100) shag =100;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>171</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">icr+=shag ;&nbsp;&nbsp; } </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>172</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">return</code><code class="plain">; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>173</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>174</code></td><td class="content"><code class="keyword">if</code> <code class="plain">(regim==6){ </code><code class="comments">// если енкодер в режиме регулировки скважности, то</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>175</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="comments">// если возможна регулировка с точностью&nbsp; не хуже 1%, то:</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>176</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(ICR1&gt;100){ </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>177</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="comments">// Если&nbsp; увеличение скважности</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>178</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(x){</code><code class="keyword">if</code><code class="plain">(duty&lt;100) {duty++; }&nbsp; }</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>179</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="comments">// Если уменьшение скважности</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>180</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(!x){ </code><code class="keyword">if</code><code class="plain">(duty&gt;0) {duty--; }}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>181</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>182</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">else</code><code class="plain">{ </code><code class="comments">// если точность 1% уже невозможна, то будем крутить регистр OCR1A напрямую</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>183</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(x){</code><code class="keyword">if</code><code class="plain">(OCR1A&lt;ICR1) {OCR1A++; }&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>184</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">else</code> <code class="plain">{</code><code class="keyword">if</code><code class="plain">(OCR1A&gt;0) {OCR1A--; }&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>185</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code><code class="plain">(OCR1A&gt;ICR1) OCR1A=ICR1-1;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>186</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">duty=(uint32_t)100*OCR1A/ICR1;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>187</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>188</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">return</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>189</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">} </code><code class="comments">//конец настройки режима скважности</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>190</code></td><td class="content"><code class="comments">// в остальных режимах DDS :</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>191</code></td><td class="content"><code class="plain">x? freq+=shag : freq-=shag;&nbsp; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>192</code></td><td class="content"><code class="keyword">if</code> <code class="plain">(freq &lt; 1) freq=1;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>193</code></td><td class="content"><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>194</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>195</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">ISR (PCINT1_vect){ </code><code class="comments">// прерывание энкодера</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>196</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">PORTD=0; </code><code class="comments">//обнулить порт DDS при любых манипуляциях</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>197</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">up_down((PINC&amp;1)^((PINC&amp;2)&gt;&gt;1)); </code><code class="comments">//конечная обработка в другой функции&nbsp; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>198</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">check_regim();</code><code class="comments">//проверка и установка режимов генератора</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>199</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>200</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>201</code></td><td class="content"><code class="plain">ISR (PCINT0_vect){ </code><code class="comments">// прерывание обработчик кнопок</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>202</code></td><td class="content"><code class="plain">PORTD=0; </code><code class="comments">//обнулить порт DDS при любых манипуляциях</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>203</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">((PINB&amp;(1&lt;&lt;0))==0){ </code><code class="comments">// обработчик кнопки энкодера (8 пин arduino)</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>204</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">while</code> <code class="plain">((PINB&amp;(1&lt;&lt;0))==0);</code><code class="comments">// ждать пока отпустят кнопку</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>205</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(regim==6) { regim=5; check_regim(); </code><code class="keyword">return</code><code class="plain">; }</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>206</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">switch</code> <code class="plain">(shag){ </code><code class="comments">//установка шага регулировки&nbsp; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>207</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">1: shag=10;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>208</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">10: shag=100;&nbsp;&nbsp;&nbsp; </code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>209</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">100: shag=1000;&nbsp;&nbsp; </code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>210</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">1000: shag=1;&nbsp; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>211</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>212</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">check_regim();</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>213</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">} </code><code class="comments">//конец если нажата кнопка энкодера</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>214</code></td><td class="content"><code class="keyword">if</code> <code class="plain">((PINB&amp;(1&lt;&lt;2))==0){ </code><code class="comments">//обработчик кнопки режимов (10 пин PB2)</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>215</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain">PORTD=0;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>216</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">while</code> <code class="plain">((PINB&amp;(1&lt;&lt;2))==0);</code><code class="comments">// ждать пока отпустят кнопку</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>217</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">regim++; </code><code class="keyword">if</code> <code class="plain">(regim==7) regim=0; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>218</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">check_regim();</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>219</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>220</code></td><td class="content"><code class="plain">}</code><code class="comments">//end pcint0</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>221</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>222</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>223</code></td><td class="content"><code class="keyword">void</code> <code class="plain">pwm_gen(){</code><code class="comments">//функция программирования таймера1</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>224</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="plain">uint16_t divider=1; </code><code class="comments">//переменная коэфф. деления прескалера</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>225</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">icr = (F_CPU / freq /2 /divider); </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>226</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="keyword">byte</code> <code class="plain">shifts[] = {3,3,2,2};</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>227</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">for</code><code class="plain">(</code><code class="keyword">byte</code> <code class="plain">i = 0; i &lt; 4; i++){</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>228</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(icr &gt; 65536) {</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>229</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">divider &lt;&lt;= shifts[i];</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>230</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">icr = F_CPU / freq /2 /divider;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>231</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>232</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">else</code> <code class="plain">{&nbsp; </code><code class="comments">//запись в регистр прескалера</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>233</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TCCR1B = (i+1)|(1&lt;&lt;WGM13);&nbsp; </code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>234</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>235</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>236</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="plain">ICR1=icr-1; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>237</code></td><td class="content"><code class="plain">set_duty();</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>238</code></td><td class="content"><code class="plain">} </code><code class="comments">//end pwm_gen</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>239</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>240</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>241</code></td><td class="content"><code class="keyword">void</code> <code class="keyword">loop</code><code class="plain">() {</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>242</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(regim &lt;5){ PORTB&amp;= ~(1&lt;&lt;7);</code><code class="comments">// флаг ухода в цикл DDS</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>243</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">DDRD=0xFF;</code><code class="comments">//set D port as output</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>244</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">uint32_t temp=(</code><code class="keyword">float</code><code class="plain">)freq /0.095367431640625; </code><code class="comments">//пересчёт частоты</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>245</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">ad2=temp&gt;&gt;16; ad1=temp&gt;&gt;8; ad0=temp;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>246</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">switch</code> <code class="plain">(regim){ </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>247</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">0: signalOUT(sinewave); </code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>248</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">1: signalOUT(trianglewave); </code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>249</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">2: signalOUT(squarewave); </code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>250</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">3: signalOUT(sawtoothwave); </code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>251</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">4: signalOUT(rewsawtoothwave);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>252</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">} </code><code class="comments">//end switch</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>253</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">DDRD=0; PORTD=0;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>254</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">} </code><code class="comments">//end if (regim&lt;5)</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>255</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>256</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>257</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>258</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>259</code></td><td class="content"><code class="keyword">void</code> <code class="plain">monitor_out(){</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>260</code></td><td class="content"><code class="plain">String freqstr, dutystr,stepstr;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>261</code></td><td class="content"><code class="plain">dutystr= String(</code><code class="string">"Duty="</code><code class="plain">+ String(duty)+ </code><code class="string">"%"</code><code class="plain">);&nbsp; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>262</code></td><td class="content"><code class="comments">//pwmstr=String("PWM Mode "+ String(duty)+ "%");&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>263</code></td><td class="content"><code class="plain">stepstr=String(</code><code class="string">"Step= "</code><code class="plain">+String(shag));</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>264</code></td><td class="content"><code class="keyword">if</code> <code class="plain">(freq &lt;10000) {freqstr= String(</code><code class="string">"Frequency, Hz"</code><code class="plain">);&nbsp; }</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>265</code></td><td class="content"><code class="keyword">if</code> <code class="plain">(freq &gt;10000) {freqstr= String(</code><code class="string">"Frequency, kHz"</code><code class="plain">);&nbsp; }</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>266</code></td><td class="content"><code class="plain">lcd.clrScr();</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>267</code></td><td class="content"><code class="plain">lcd.setFont(SmallFont);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>268</code></td><td class="content"><code class="plain">lcd.print(freqstr,LEFT,0);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>269</code></td><td class="content"><code class="plain">lcd.setFont(MediumNumbers);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>270</code></td><td class="content"><code class="keyword">if</code> <code class="plain">(freq &lt;10000) { lcd.printNumI(freq, CENTER, 8); }</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>271</code></td><td class="content"><code class="keyword">if</code> <code class="plain">(freq &gt;10000u &amp;&amp; freq &lt; 1000000ul ) { lcd.printNumF( ((</code><code class="keyword">float</code><code class="plain">)freq/1000),3 ,CENTER, 8);&nbsp; }</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>272</code></td><td class="content"><code class="keyword">if</code> <code class="plain">(freq &gt;=1000000ul ) { lcd.printNumF( ((</code><code class="keyword">float</code><code class="plain">)freq/1000),2 ,CENTER, 8);&nbsp; }</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>273</code></td><td class="content"><code class="plain">lcd.setFont(SmallFont);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>274</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">switch</code><code class="plain">(regim){ </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>275</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">0: lcd.print(</code><code class="string">"Sinus DDS"</code><code class="plain">,CENTER, 32); </code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>276</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">1: lcd.print(</code><code class="string">"Triangle DDS"</code><code class="plain">,CENTER, 32); </code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>277</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">2: lcd.print(</code><code class="string">"Meandr DDS"</code><code class="plain">,CENTER, 32); </code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>278</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">3: lcd.print(</code><code class="string">"Pila1 DDS"</code><code class="plain">,CENTER, 32); </code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>279</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">4: lcd.print(</code><code class="string">"Pila2 DDS"</code><code class="plain">,CENTER, 32); </code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>280</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">5: lcd.print(</code><code class="string">"PWM Mode"</code><code class="plain">,CENTER,32); </code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>281</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">6: lcd.print(</code><code class="string">"Duty Mode"</code><code class="plain">, CENTER, 32);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>282</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>283</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="keyword">if</code> <code class="plain">(regim==6) lcd.print(dutystr, CENTER, 40);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>284</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">else</code> <code class="plain">lcd.print(stepstr, CENTER, 40);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>285</code></td><td class="content"><code class="plain">}</code><code class="comments">//end monitor out</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>286</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>287</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>288</code></td><td class="content"><code class="keyword">void</code> <code class="plain">set_duty(){</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>289</code></td><td class="content"><code class="comments">//float ocr,delta_ocr;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>290</code></td><td class="content"><code class="keyword">if</code> <code class="plain">(regim==6&amp;&amp;ICR1&lt;100) </code><code class="keyword">return</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>291</code></td><td class="content"><code class="keyword">if</code> <code class="plain">(regim==5 &amp;&amp; ICR1&lt;100){</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>292</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">OCR1A=ICR1/2; duty=50; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>293</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">return</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>294</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>295</code></td><td class="content"><code class="keyword">static</code> <code class="plain">uint16_t ocr;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>296</code></td><td class="content"><code class="plain">ocr=(uint32_t)ICR1*duty/100;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>297</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="keyword">if</code> <code class="plain">(ocr &lt; 1) { </code><code class="comments">// если значение оср менее 1, то</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>298</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">while</code> <code class="plain">(ocr&lt;1) { </code><code class="comments">// менять скважность пока оср не станет больше ноля</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>299</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">(duty&gt;50)? duty-- : duty++ ; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>300</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">ocr=(uint32_t)ICR1*duty/100; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>301</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>302</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>303</code></td><td class="content"><code class="plain">OCR1A=ocr;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>304</code></td><td class="content"><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>305</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>306</code></td><td class="content"><code class="keyword">void</code> <code class="plain">check_regim(){</code><code class="comments">// </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>307</code></td><td class="content"><code class="keyword">if</code> <code class="plain">(regim &lt;5){ </code><code class="keyword">if</code> <code class="plain">(freq &gt; 100000) freq=100000;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>308</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TCCR1B=0;</code><code class="comments">//отключить генерацию таймера</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>309</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TCCR1A=0;&nbsp; DDRB&amp;=~(1&lt;&lt;DDB1); </code><code class="comments">// 9 pin arduino set Z-mode </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>310</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code><code class="comments">// end if regim &lt;5</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>311</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>312</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(regim &gt; 4) { </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>313</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TCCR1A=1&lt;&lt;COM1A1; DDRB|=1&lt;&lt;DDB1; </code><code class="comments">// 9 pin set output (pwm out)</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>314</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(TCCR1B==17 &amp;&amp; ICR1&lt;2800){ </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>315</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">ICR1=icr; freq= (</code><code class="keyword">float</code><code class="plain">) 8000000UL/ICR1;&nbsp; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>316</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">set_duty();&nbsp; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>317</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>318</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">else</code> <code class="plain">{ pwm_gen(); } </code><code class="comments">// запуск функции вывода частоты через таймер&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>319</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>320</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain">PORTB|= 1&lt;&lt;7; </code><code class="comments">//флажок для выхода из цикла DDS&nbsp; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>321</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">monitor_out(); </code><code class="comments">//вывод информации </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>322</code></td><td class="content"><code class="plain">}</code></td></tr></tbody></table></div></div></div>

<p>&nbsp;</p>
      </div>

          </div>
  </div>

  <div class="forum-post-footer clear-block">
    <div class="forum-jump-links">
      <a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#top" title="Jump to top of page">Верх</a>
    </div>

          <div class="forum-post-links">
        <ul class="links forum-links"><li class="comment_forbidden first"><span><a href="http://arduino.ru/user/login?destination=node%2F11357%23comment-form">Войдите</a> или <a href="http://arduino.ru/user/register?destination=node%2F11357%23comment-form">зарегистрируйтесь</a>, чтобы получить возможность отправлять комментарии</span></li>
<li class="vud_comment_votes_count last"></li>
</ul>      </div>
      </div>
</div><a id="comment-199034"></a>

    <div class="forum-post  clear-block">

  <div class="post-info clear-block">
    <div class="posted-on">
      Ср, 08/06/2016 - 15:50
          </div>

          <span class="post-num"><a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#comment-199034" class="active">#13</a> </span>
      </div>

  <div class="forum-post-wrapper">

    <div class="forum-post-panel-sub">
      

<div class="author-pane">
 <div class="author-pane-inner">
        <div class="author-pane-section author-pane-general">
            <div class="author-pane-line author-name">
        Лекс 59      </div>

                    
  <div class="picture">
          <img src="./Генератор с регулируемоей частотой на ардуино. _ Аппаратная платформа Arduino_files/picture-19173.jpg" alt="Лекс 59 аватар" title="Лекс 59 аватар">      </div>
      
                    <div class="author-pane-line author-offline">
           Offline        </div>
      
            
            
            
                    <div class="author-pane-line author-joined">
          <span class="author-pane-label">Зарегистрирован:</span> 02.04.2016        </div>
      
            
                </div>

        <div class="author-pane-section author-pane-contact">
            
            
            
                </div>

        <div class="author-pane-section author-pane-admin">
            
          
               </div>
  </div>
</div>
    </div>

    <div class="forum-post-panel-main clear-block">
      
      <div class="content">
        <p>Ну пока без энкодера. Проба пера. ЦАП и выходные цепи использую с ранее сделаного генератора с Паяльника, который меня не устроил.</p>
<p><a href="http://arduino.ru/sites/default/files/u19173/img_20160608_222514.jpg" class="lb lightbox-processed" rel="lightbox"><img alt="" height="370" src="./Генератор с регулируемоей частотой на ардуино. _ Аппаратная платформа Arduino_files/img_20160608_222514-659x370.jpg" width="659"></a></p>
      </div>

          </div>
  </div>

  <div class="forum-post-footer clear-block">
    <div class="forum-jump-links">
      <a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#top" title="Jump to top of page">Верх</a>
    </div>

          <div class="forum-post-links">
        <ul class="links forum-links"><li class="comment_forbidden first"><span><a href="http://arduino.ru/user/login?destination=node%2F11357%23comment-form">Войдите</a> или <a href="http://arduino.ru/user/register?destination=node%2F11357%23comment-form">зарегистрируйтесь</a>, чтобы получить возможность отправлять комментарии</span></li>
<li class="vud_comment_votes_count last"></li>
</ul>      </div>
      </div>
</div><a id="comment-199779"></a>

    <div class="forum-post  clear-block">

  <div class="post-info clear-block">
    <div class="posted-on">
      Сб, 11/06/2016 - 14:56
          </div>

          <span class="post-num"><a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#comment-199779" class="active">#14</a> </span>
      </div>

  <div class="forum-post-wrapper">

    <div class="forum-post-panel-sub">
      

<div class="author-pane">
 <div class="author-pane-inner">
        <div class="author-pane-section author-pane-general">
            <div class="author-pane-line author-name">
        dimax      </div>

                    
  <div class="picture">
          <img src="./Генератор с регулируемоей частотой на ардуино. _ Аппаратная платформа Arduino_files/picture-6856.jpg" alt="dimax аватар" title="dimax аватар">      </div>
      
                    <div class="author-pane-line author-offline">
           Offline        </div>
      
            
            
            
                    <div class="author-pane-line author-joined">
          <span class="author-pane-label">Зарегистрирован:</span> 25.12.2013        </div>
      
            
                </div>

        <div class="author-pane-section author-pane-contact">
            
            
            
                </div>

        <div class="author-pane-section author-pane-admin">
            
          
               </div>
  </div>
</div>
    </div>

    <div class="forum-post-panel-main clear-block">
      
      <div class="content">
        <p>Ну и для полной коллекции -последняя версия с более удобной распиновкой дисплея и кнопок для печатной платы. Так же вроде подправил все мелкие недочёты.</p>
<p><a href="http://out.arduino.ru/?redirect=https%3A%2F%2Fimg-fotki.yandex.ru%2Fget%2F52461%2F118551841.8%2F0_db7c8_c6c60951_orig.jpg&amp;baseU=http%3A%2F%2Farduino.ru%2Fforum%2Fproekty%2Fgenerator-s-reguliruemoei-chastotoi-na-arduino" rel="nofollow" target="_blank"><img alt="" src="./Генератор с регулируемоей частотой на ардуино. _ Аппаратная платформа Arduino_files/uno_gen_v2_3.jpg" style="width:600px;height:433px;"></a></p>
<p>Из существенный отличий -использовал 8 ногу для включения/отключения подсветки. Либо можно что-то ещё включать, например сделать управляемое смещение, или переключать выход релюшкой , или ещё что - пригодится в любом случае. Включается комбинацией- нажать кнопку энкодера, + удерживая её нажать кнопку режима. Затем отпустить кнопку энкодера, и последней отпустить кнопку режима. Скетч:</p>
<div id="highlighter_947426" class="syntaxhighlighter collapsed  "><div class="bar"><div class="toolbar"><a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#expandSource" title="показать код" class="item expandSource" style="width: 16px; height: 16px;">показать код</a><a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#viewSource" title="код" class="item viewSource" style="width: 16px; height: 16px;">код</a><div class="item copyToClipboard"><embed width="16" height="16" id="highlighter_947426_clipboard" type="application/x-shockwave-flash" title="скопировать" allowscriptaccess="always" wmode="transparent" flashvars="highlighterId=highlighter_947426" menu="false" src="/sites/all/libraries/syntaxhighlighter/scripts/clipboard.swf"></div><a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#printSource" title="расечатать" class="item printSource" style="width: 16px; height: 16px;">расечатать</a><a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#about" title="?" class="item about" style="width: 16px; height: 16px;">?</a></div></div><div class="lines"><div class="line alt1"><table><tbody><tr><td class="number"><code>001</code></td><td class="content"><code class="comments">/* Генератор с регулируемой частотой и скважностью на Ардуино Уно v 2.3</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>002</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="comments">* Распиновка: Энкодер A0,A1 (in)</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>003</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="comments">* Кнопка энкодера A3 (in)</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>004</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="comments">* Кнопка "режим" A2 (in)</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>005</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="comments">* Подсветка 8 (out) (вывод BL дисплея)</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>006</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="comments">* Дисплей nokia 5110 - 13,12,11,10 (out)&nbsp; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>007</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="comments">*&nbsp; Выход генератора 0..7 + 9 (out)</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>008</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="comments">*/</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>009</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>010</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>011</code></td><td class="content"><code class="keyword">const</code> <code class="plain">PROGMEM uint8_t&nbsp; sinewave[]= </code><code class="comments">// массив синуса</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>012</code></td><td class="content"><code class="plain">{</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>013</code></td><td class="content"><code class="plain">0x80,0x83,0x86,0x89,0x8c,0x8f,0x92,0x95,0x98,0x9c,0x9f,0xa2,0xa5,0xa8,0xab,0xae,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>014</code></td><td class="content"><code class="plain">0xb0,0xb3,0xb6,0xb9,0xbc,0xbf,0xc1,0xc4,0xc7,0xc9,0xcc,0xce,0xd1,0xd3,0xd5,0xd8,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>015</code></td><td class="content"><code class="plain">0xda,0xdc,0xde,0xe0,0xe2,0xe4,0xe6,0xe8,0xea,0xec,0xed,0xef,0xf0,0xf2,0xf3,0xf5,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>016</code></td><td class="content"><code class="plain">0xf6,0xf7,0xf8,0xf9,0xfa,0xfb,0xfc,0xfc,0xfd,0xfe,0xfe,0xff,0xff,0xff,0xff,0xff,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>017</code></td><td class="content"><code class="plain">0xff,0xff,0xff,0xff,0xff,0xff,0xfe,0xfe,0xfd,0xfc,0xfc,0xfb,0xfa,0xf9,0xf8,0xf7,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>018</code></td><td class="content"><code class="plain">0xf6,0xf5,0xf3,0xf2,0xf0,0xef,0xed,0xec,0xea,0xe8,0xe6,0xe4,0xe2,0xe0,0xde,0xdc,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>019</code></td><td class="content"><code class="plain">0xda,0xd8,0xd5,0xd3,0xd1,0xce,0xcc,0xc9,0xc7,0xc4,0xc1,0xbf,0xbc,0xb9,0xb6,0xb3,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>020</code></td><td class="content"><code class="plain">0xb0,0xae,0xab,0xa8,0xa5,0xa2,0x9f,0x9c,0x98,0x95,0x92,0x8f,0x8c,0x89,0x86,0x83,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>021</code></td><td class="content"><code class="plain">0x80,0x7c,0x79,0x76,0x73,0x70,0x6d,0x6a,0x67,0x63,0x60,0x5d,0x5a,0x57,0x54,0x51,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>022</code></td><td class="content"><code class="plain">0x4f,0x4c,0x49,0x46,0x43,0x40,0x3e,0x3b,0x38,0x36,0x33,0x31,0x2e,0x2c,0x2a,0x27,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>023</code></td><td class="content"><code class="plain">0x25,0x23,0x21,0x1f,0x1d,0x1b,0x19,0x17,0x15,0x13,0x12,0x10,0x0f,0x0d,0x0c,0x0a,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>024</code></td><td class="content"><code class="plain">0x09,0x08,0x07,0x06,0x05,0x04,0x03,0x03,0x02,0x01,0x01,0x00,0x00,0x00,0x00,0x00,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>025</code></td><td class="content"><code class="plain">0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x01,0x02,0x03,0x03,0x04,0x05,0x06,0x07,0x08,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>026</code></td><td class="content"><code class="plain">0x09,0x0a,0x0c,0x0d,0x0f,0x10,0x12,0x13,0x15,0x17,0x19,0x1b,0x1d,0x1f,0x21,0x23,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>027</code></td><td class="content"><code class="plain">0x25,0x27,0x2a,0x2c,0x2e,0x31,0x33,0x36,0x38,0x3b,0x3e,0x40,0x43,0x46,0x49,0x4c,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>028</code></td><td class="content"><code class="plain">0x4f,0x51,0x54,0x57,0x5a,0x5d,0x60,0x63,0x67,0x6a,0x6d,0x70,0x73,0x76,0x79,0x7c</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>029</code></td><td class="content"><code class="plain">};</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>030</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>031</code></td><td class="content"><code class="keyword">const</code> <code class="plain">PROGMEM uint8_t squarewave[]= </code><code class="comments">//массив меандра</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>032</code></td><td class="content"><code class="plain">{</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>033</code></td><td class="content"><code class="plain">0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>034</code></td><td class="content"><code class="plain">0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>035</code></td><td class="content"><code class="plain">0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>036</code></td><td class="content"><code class="plain">0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>037</code></td><td class="content"><code class="plain">0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>038</code></td><td class="content"><code class="plain">0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>039</code></td><td class="content"><code class="plain">0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>040</code></td><td class="content"><code class="plain">0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>041</code></td><td class="content"><code class="plain">0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>042</code></td><td class="content"><code class="plain">0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>043</code></td><td class="content"><code class="plain">0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>044</code></td><td class="content"><code class="plain">0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>045</code></td><td class="content"><code class="plain">0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>046</code></td><td class="content"><code class="plain">0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>047</code></td><td class="content"><code class="plain">0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>048</code></td><td class="content"><code class="plain">0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>049</code></td><td class="content"><code class="plain">};</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>050</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>051</code></td><td class="content"><code class="keyword">const</code> <code class="plain">PROGMEM uint8_t trianglewave[]= </code><code class="comments">//массив треугольника</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>052</code></td><td class="content"><code class="plain">{</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>053</code></td><td class="content"><code class="plain">0x00,0x02,0x04,0x06,0x08,0x0a,0x0c,0x0e,0x10,0x12,0x14,0x16,0x18,0x1a,0x1c,0x1e,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>054</code></td><td class="content"><code class="plain">0x20,0x22,0x24,0x26,0x28,0x2a,0x2c,0x2e,0x30,0x32,0x34,0x36,0x38,0x3a,0x3c,0x3e,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>055</code></td><td class="content"><code class="plain">0x40,0x42,0x44,0x46,0x48,0x4a,0x4c,0x4e,0x50,0x52,0x54,0x56,0x58,0x5a,0x5c,0x5e,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>056</code></td><td class="content"><code class="plain">0x60,0x62,0x64,0x66,0x68,0x6a,0x6c,0x6e,0x70,0x72,0x74,0x76,0x78,0x7a,0x7c,0x7e,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>057</code></td><td class="content"><code class="plain">0x80,0x82,0x84,0x86,0x88,0x8a,0x8c,0x8e,0x90,0x92,0x94,0x96,0x98,0x9a,0x9c,0x9e,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>058</code></td><td class="content"><code class="plain">0xa0,0xa2,0xa4,0xa6,0xa8,0xaa,0xac,0xae,0xb0,0xb2,0xb4,0xb6,0xb8,0xba,0xbc,0xbe,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>059</code></td><td class="content"><code class="plain">0xc0,0xc2,0xc4,0xc6,0xc8,0xca,0xcc,0xce,0xd0,0xd2,0xd4,0xd6,0xd8,0xda,0xdc,0xde,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>060</code></td><td class="content"><code class="plain">0xe0,0xe2,0xe4,0xe6,0xe8,0xea,0xec,0xee,0xf0,0xf2,0xf4,0xf6,0xf8,0xfa,0xfc,0xfe,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>061</code></td><td class="content"><code class="plain">0xff,0xfd,0xfb,0xf9,0xf7,0xf5,0xf3,0xf1,0xef,0xef,0xeb,0xe9,0xe7,0xe5,0xe3,0xe1,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>062</code></td><td class="content"><code class="plain">0xdf,0xdd,0xdb,0xd9,0xd7,0xd5,0xd3,0xd1,0xcf,0xcf,0xcb,0xc9,0xc7,0xc5,0xc3,0xc1,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>063</code></td><td class="content"><code class="plain">0xbf,0xbd,0xbb,0xb9,0xb7,0xb5,0xb3,0xb1,0xaf,0xaf,0xab,0xa9,0xa7,0xa5,0xa3,0xa1,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>064</code></td><td class="content"><code class="plain">0x9f,0x9d,0x9b,0x99,0x97,0x95,0x93,0x91,0x8f,0x8f,0x8b,0x89,0x87,0x85,0x83,0x81,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>065</code></td><td class="content"><code class="plain">0x7f,0x7d,0x7b,0x79,0x77,0x75,0x73,0x71,0x6f,0x6f,0x6b,0x69,0x67,0x65,0x63,0x61,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>066</code></td><td class="content"><code class="plain">0x5f,0x5d,0x5b,0x59,0x57,0x55,0x53,0x51,0x4f,0x4f,0x4b,0x49,0x47,0x45,0x43,0x41,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>067</code></td><td class="content"><code class="plain">0x3f,0x3d,0x3b,0x39,0x37,0x35,0x33,0x31,0x2f,0x2f,0x2b,0x29,0x27,0x25,0x23,0x21,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>068</code></td><td class="content"><code class="plain">0x1f,0x1d,0x1b,0x19,0x17,0x15,0x13,0x11,0x0f,0x0f,0x0b,0x09,0x07,0x05,0x03,0x01</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>069</code></td><td class="content"><code class="plain">};</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>070</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>071</code></td><td class="content"><code class="keyword">const</code> <code class="plain">PROGMEM uint8_t sawtoothwave[]= </code><code class="comments">//массив пила1</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>072</code></td><td class="content"><code class="plain">{</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>073</code></td><td class="content"><code class="plain">0x00,0x01,0x02,0x03,0x04,0x05,0x06,0x07,0x08,0x09,0x0a,0x0b,0x0c,0x0d,0x0e,0x0f,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>074</code></td><td class="content"><code class="plain">0x10,0x11,0x12,0x13,0x14,0x15,0x16,0x17,0x18,0x19,0x1a,0x1b,0x1c,0x1d,0x1e,0x1f,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>075</code></td><td class="content"><code class="plain">0x20,0x21,0x22,0x23,0x24,0x25,0x26,0x27,0x28,0x29,0x2a,0x2b,0x2c,0x2d,0x2e,0x2f,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>076</code></td><td class="content"><code class="plain">0x30,0x31,0x32,0x33,0x34,0x35,0x36,0x37,0x38,0x39,0x3a,0x3b,0x3c,0x3d,0x3e,0x3f,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>077</code></td><td class="content"><code class="plain">0x40,0x41,0x42,0x43,0x44,0x45,0x46,0x47,0x48,0x49,0x4a,0x4b,0x4c,0x4d,0x4e,0x4f,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>078</code></td><td class="content"><code class="plain">0x50,0x51,0x52,0x53,0x54,0x55,0x56,0x57,0x58,0x59,0x5a,0x5b,0x5c,0x5d,0x5e,0x5f,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>079</code></td><td class="content"><code class="plain">0x60,0x61,0x62,0x63,0x64,0x65,0x66,0x67,0x68,0x69,0x6a,0x6b,0x6c,0x6d,0x6e,0x6f,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>080</code></td><td class="content"><code class="plain">0x70,0x71,0x72,0x73,0x74,0x75,0x76,0x77,0x78,0x79,0x7a,0x7b,0x7c,0x7d,0x7e,0x7f,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>081</code></td><td class="content"><code class="plain">0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8a,0x8b,0x8c,0x8d,0x8e,0x8f,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>082</code></td><td class="content"><code class="plain">0x90,0x91,0x92,0x93,0x94,0x95,0x96,0x97,0x98,0x99,0x9a,0x9b,0x9c,0x9d,0x9e,0x9f,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>083</code></td><td class="content"><code class="plain">0xa0,0xa1,0xa2,0xa3,0xa4,0xa5,0xa6,0xa7,0xa8,0xa9,0xaa,0xab,0xac,0xad,0xae,0xaf,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>084</code></td><td class="content"><code class="plain">0xb0,0xb1,0xb2,0xb3,0xb4,0xb5,0xb6,0xb7,0xb8,0xb9,0xba,0xbb,0xbc,0xbd,0xbe,0xbf,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>085</code></td><td class="content"><code class="plain">0xc0,0xc1,0xc2,0xc3,0xc4,0xc5,0xc6,0xc7,0xc8,0xc9,0xca,0xcb,0xcc,0xcd,0xce,0xcf,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>086</code></td><td class="content"><code class="plain">0xd0,0xd1,0xd2,0xd3,0xd4,0xd5,0xd6,0xd7,0xd8,0xd9,0xda,0xdb,0xdc,0xdd,0xde,0xdf,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>087</code></td><td class="content"><code class="plain">0xe0,0xe1,0xe2,0xe3,0xe4,0xe5,0xe6,0xe7,0xe8,0xe9,0xea,0xeb,0xec,0xed,0xee,0xef,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>088</code></td><td class="content"><code class="plain">0xf0,0xf1,0xf2,0xf3,0xf4,0xf5,0xf6,0xf7,0xf8,0xf9,0xfa,0xfb,0xfc,0xfd,0xfe,0xff</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>089</code></td><td class="content"><code class="plain">};</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>090</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>091</code></td><td class="content"><code class="keyword">const</code> <code class="plain">PROGMEM uint8_t rewsawtoothwave[]= </code><code class="comments">//массив пила2</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>092</code></td><td class="content"><code class="plain">{</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>093</code></td><td class="content"><code class="plain">0xff,0xfe,0xfd,0xfc,0xfb,0xfa,0xf9,0xf8,0xf7,0xf6,0xf5,0xf4,0xf3,0xf2,0xf1,0xf0,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>094</code></td><td class="content"><code class="plain">0xef,0xee,0xed,0xec,0xeb,0xea,0xe9,0xe8,0xe7,0xe6,0xe5,0xe4,0xe3,0xe2,0xe1,0xe0,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>095</code></td><td class="content"><code class="plain">0xdf,0xde,0xdd,0xdc,0xdb,0xda,0xd9,0xd8,0xd7,0xd6,0xd5,0xd4,0xd3,0xd2,0xd1,0xd0,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>096</code></td><td class="content"><code class="plain">0xcf,0xce,0xcd,0xcc,0xcb,0xca,0xc9,0xc8,0xc7,0xc6,0xc5,0xc4,0xc3,0xc2,0xc1,0xc0,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>097</code></td><td class="content"><code class="plain">0xbf,0xbe,0xbd,0xbc,0xbb,0xba,0xb9,0xb8,0xb7,0xb6,0xb5,0xb4,0xb3,0xb2,0xb1,0xb0,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>098</code></td><td class="content"><code class="plain">0xaf,0xae,0xad,0xac,0xab,0xaa,0xa9,0xa8,0xa7,0xa6,0xa5,0xa4,0xa3,0xa2,0xa1,0xa0,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>099</code></td><td class="content"><code class="plain">0x9f,0x9e,0x9d,0x9c,0x9b,0x9a,0x99,0x98,0x97,0x96,0x95,0x94,0x93,0x92,0x91,0x90,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>100</code></td><td class="content"><code class="plain">0x8f,0x8e,0x8d,0x8c,0x8b,0x8a,0x89,0x88,0x87,0x86,0x85,0x84,0x83,0x82,0x81,0x80,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>101</code></td><td class="content"><code class="plain">0x7f,0x7e,0x7d,0x7c,0x7b,0x7a,0x79,0x78,0x77,0x76,0x75,0x74,0x73,0x72,0x71,0x70,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>102</code></td><td class="content"><code class="plain">0x6f,0x6e,0x6d,0x6c,0x6b,0x6a,0x69,0x68,0x67,0x66,0x65,0x64,0x63,0x62,0x61,0x60,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>103</code></td><td class="content"><code class="plain">0x5f,0x5e,0x5d,0x5c,0x5b,0x5a,0x59,0x58,0x57,0x56,0x55,0x54,0x53,0x52,0x51,0x50,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>104</code></td><td class="content"><code class="plain">0x4f,0x4e,0x4d,0x4c,0x4b,0x4a,0x49,0x48,0x47,0x46,0x45,0x44,0x43,0x42,0x41,0x40,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>105</code></td><td class="content"><code class="plain">0x3f,0x3e,0x3d,0x3c,0x3b,0x3a,0x39,0x38,0x37,0x36,0x35,0x34,0x33,0x32,0x31,0x30,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>106</code></td><td class="content"><code class="plain">0x2f,0x2e,0x2d,0x2c,0x2b,0x2a,0x29,0x28,0x27,0x26,0x25,0x24,0x23,0x22,0x21,0x20,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>107</code></td><td class="content"><code class="plain">0x1f,0x1e,0x1d,0x1c,0x1b,0x1a,0x19,0x18,0x17,0x16,0x15,0x14,0x13,0x12,0x11,0x10,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>108</code></td><td class="content"><code class="plain">0x0f,0x0e,0x0d,0x0c,0x0b,0x0a,0x09,0x08,0x07,0x06,0x05,0x04,0x03,0x02,0x01,0x00,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>109</code></td><td class="content"><code class="plain">};</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>110</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>111</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>112</code></td><td class="content"><code class="keyword">const</code> <code class="plain">PROGMEM </code><code class="keyword">char</code> <code class="plain">musor_mass[]= </code><code class="comments">//массив для подгонки адреса в флэш-памяти</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>113</code></td><td class="content"><code class="plain">{</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>114</code></td><td class="content"><code class="plain">0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>115</code></td><td class="content"><code class="plain">0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>116</code></td><td class="content"><code class="plain">0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>117</code></td><td class="content"><code class="plain">0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>118</code></td><td class="content"><code class="plain">0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>119</code></td><td class="content"><code class="plain">0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>120</code></td><td class="content"><code class="plain">0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>121</code></td><td class="content"><code class="plain">0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>122</code></td><td class="content"><code class="plain">0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>123</code></td><td class="content"><code class="plain">};</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>124</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>125</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>126</code></td><td class="content"><code class="plain">volatile int32_t freq=1000;</code><code class="comments">// частота по умолчанию</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>127</code></td><td class="content"><code class="plain">volatile uint16_t shag=100; </code><code class="comments">//шаг энкодера по умолчанию</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>128</code></td><td class="content"><code class="plain">volatile uint8_t regim=5; </code><code class="comments">//режим генератора по умолчанию</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>129</code></td><td class="content"><code class="plain">volatile uint8_t monitor_flag; </code><code class="comments">// флаг для вывода на дисплей</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>130</code></td><td class="content"><code class="plain">volatile uint8_t ad2,ad1,ad0; </code><code class="comments">//служебные байты для функции на ассемблере</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>131</code></td><td class="content"><code class="plain">volatile uint8_t duty=50; </code><code class="comments">//скважность</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>132</code></td><td class="content"><code class="plain">volatile uint32_t icr=0;&nbsp; </code><code class="comments">//переменная для управления регистром сравнения таймера1</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>133</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>134</code></td><td class="content"><code class="preprocessor">#include &lt;LCD5110_SSVS.h&gt;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>135</code></td><td class="content"><code class="keyword">extern</code> <code class="plain">uint8_t SmallFont[];</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>136</code></td><td class="content"><code class="keyword">extern</code> <code class="plain">uint8_t MediumNumbers[];</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>137</code></td><td class="content"><code class="plain">LCD5110 lcd(10,11,12,13);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>138</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>139</code></td><td class="content"><code class="comments">// DDS algorithm </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>140</code></td><td class="content"><code class="keyword">static</code> <code class="plain">inline </code><code class="keyword">void</code> <code class="plain">signalOUT(</code><code class="keyword">const</code> <code class="plain">uint8_t *signal){ </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>141</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain">asm volatile(&nbsp; </code><code class="string">"eor r18, r18&nbsp;&nbsp; ;r18&lt;-0"</code>&nbsp; <code class="string">"\n\t"</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>142</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="string">"eor r19, r19&nbsp;&nbsp; ;r19&lt;-0"</code>&nbsp; <code class="string">"\n\t"</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>143</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="string">"1:"</code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <code class="string">"\n\t"</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>144</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="string">"add r18, %0&nbsp; ;1 cycle"</code>&nbsp;&nbsp;&nbsp;&nbsp; <code class="string">"\n\t"</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>145</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="string">"adc r19, %1&nbsp; ;1 cycle"</code>&nbsp;&nbsp;&nbsp;&nbsp; <code class="string">"\n\t"</code>&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>146</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="string">"adc %A3, %2&nbsp; ;1 cycle"</code>&nbsp;&nbsp;&nbsp;&nbsp; <code class="string">"\n\t"</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>147</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="string">"lpm&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ;3 cycles"</code>&nbsp; <code class="string">"\n\t"</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>148</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="string">"out %4, __tmp_reg__&nbsp; ;1 cycle"</code> <code class="string">"\n\t"</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>149</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="string">"sbis %5, 7&nbsp;&nbsp; ;1 cycle if no skip"</code> <code class="string">"\n\t"</code>&nbsp;&nbsp;&nbsp;&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>150</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="string">"rjmp 1b&nbsp;&nbsp;&nbsp; ;2 cycles. Total 10 cycles"</code> <code class="string">"\n\t"</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>151</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">:</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>152</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">:</code><code class="string">"r"</code> <code class="plain">(ad0),</code><code class="string">"r"</code> <code class="plain">(ad1),</code><code class="string">"r"</code> <code class="plain">(ad2),</code><code class="string">"e"</code> <code class="plain">(signal),</code><code class="string">"I"</code> <code class="plain">(_SFR_IO_ADDR(PORTD)), </code><code class="string">"I"</code> <code class="plain">(_SFR_IO_ADDR(PORTB))</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>153</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">:</code><code class="string">"r18"</code><code class="plain">, </code><code class="string">"r19"</code> <code class="plain">);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>154</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>155</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>156</code></td><td class="content"><code class="keyword">void</code> <code class="keyword">setup</code><code class="plain">(){</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>157</code></td><td class="content"><code class="plain">lcd.InitLCD();</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>158</code></td><td class="content"><code class="keyword">for</code> <code class="plain">(</code><code class="keyword">int</code> <code class="plain">n=0; n &lt;</code><code class="keyword">sizeof</code><code class="plain">(musor_mass); n++ ) {PORTD=musor_mass[n]; }&nbsp;&nbsp; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>159</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="plain">PORTC|=(1&lt;&lt;PC2)|(1&lt;&lt;PC3); </code><code class="comments">//подтяжка кнопок на A2 A3</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>160</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">TCCR0B=0; TCCR1A=0; TCCR1B=0;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>161</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">DDRB|=1&lt;&lt;PB0; </code><code class="comments">// 8 пин -включение подсветки дисплея = выход</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>162</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain">PCICR=(1&lt;&lt;PCIE1); </code><code class="comments">//включить прерывание PCINT</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>163</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">PCMSK1=(1&lt;&lt;PCINT9)|(1&lt;&lt;PCINT10)|(1&lt;&lt;PCINT11); </code><code class="comments">//выбор пинов прерывания (A1,A2,A3)</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>164</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">check_regim(); </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>165</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">} </code><code class="comments">//end setup</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>166</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>167</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>168</code></td><td class="content"><code class="keyword">void</code> <code class="plain">up_down(boolean x){ </code><code class="comments">// управление регулировками</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>169</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>170</code></td><td class="content"><code class="keyword">if</code> <code class="plain">(TCCR1B==17 &amp;&amp; ICR1&lt;2800 &amp;&amp; regim==5){ </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>171</code></td><td class="content"><code class="keyword">if</code><code class="plain">(x) { </code><code class="keyword">if</code> <code class="plain">(icr&lt;1000 &amp;&amp; shag &gt; 100) shag=100; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>172</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(icr&lt;100 &amp;&amp; shag &gt; 10) shag=10;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>173</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(icr&lt;10 &amp;&amp; shag &gt; 1) shag=1;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>174</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">icr-=shag;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>175</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(icr&lt;2) icr=2;&nbsp;&nbsp;&nbsp; }</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>176</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">else</code> <code class="plain">{&nbsp; </code><code class="keyword">if</code> <code class="plain">(icr &gt; 1800 &amp;&amp; shag &gt;100) shag =100;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>177</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">icr+=shag ;&nbsp;&nbsp; } </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>178</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">return</code><code class="plain">; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>179</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>180</code></td><td class="content"><code class="keyword">if</code> <code class="plain">(regim==6){ </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>181</code></td><td class="content"><code class="spaces">&nbsp;</code>&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>182</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(ICR1&gt;100){ </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>183</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>184</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(x){</code><code class="keyword">if</code><code class="plain">(duty&lt;100) {duty++; }&nbsp; }</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>185</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>186</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(!x){ </code><code class="keyword">if</code><code class="plain">(duty&gt;0) {duty--; }}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>187</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>188</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">else</code><code class="plain">{ </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>189</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(x){</code><code class="keyword">if</code><code class="plain">(OCR1A&lt;ICR1) {OCR1A++; }&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>190</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">else</code> <code class="plain">{</code><code class="keyword">if</code><code class="plain">(OCR1A&gt;0) {OCR1A--; }&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>191</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code><code class="plain">(OCR1A&gt;ICR1) OCR1A=ICR1-1;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>192</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">duty=(uint32_t)100*OCR1A/ICR1;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>193</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>194</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">return</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>195</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">} </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>196</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>197</code></td><td class="content"><code class="plain">x? freq+=shag : freq-=shag ;&nbsp; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>198</code></td><td class="content"><code class="keyword">if</code> <code class="plain">(freq &lt; 1) freq=1;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>199</code></td><td class="content"><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>200</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>201</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>202</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>203</code></td><td class="content"><code class="comments">// ПРЕРЫВАНИЕ от кнопок и энкодера&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>204</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">ISR (PCINT1_vect){ </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>205</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">PCMSK1=0; PCICR=0; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>206</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">PORTD=0;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>207</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="comments">// если нажата кнопка энкодера&nbsp;&nbsp;&nbsp;&nbsp; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>208</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">((PINC&amp;(1&lt;&lt;3))==0){ </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>209</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">while</code> <code class="plain">((PINC&amp;(1&lt;&lt;3))==0);</code><code class="comments">// подождать до тех пор, когда кнопку отпустят</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>210</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>211</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="comments">//блок вкл/отк подсветки дисплея (8 пин ардуино)</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>212</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">((PINC&amp;(1&lt;&lt;2))==0){ </code><code class="comments">//если после этого нажата кнопка режимов,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>213</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">PINB|=1&lt;&lt;PB0; </code><code class="comments">//менять состояние 8 пина</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>214</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">while</code> <code class="plain">((PINC&amp;(1&lt;&lt;2))==0);</code><code class="comments">// теперь подождать пока отпустят кнопку режим </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>215</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">PCMSK1=(1&lt;&lt;PCINT9)|(1&lt;&lt;PCINT10)|(1&lt;&lt;PCINT11); PCICR=(1&lt;&lt;PCIE1); </code><code class="keyword">return</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>216</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>217</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(regim==6) { regim=5; check_regim(); PCMSK1=(1&lt;&lt;PCINT9)|(1&lt;&lt;PCINT10)|(1&lt;&lt;PCINT11); PCICR=(1&lt;&lt;PCIE1); </code><code class="keyword">return</code><code class="plain">; }</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>218</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">switch</code> <code class="plain">(shag){ </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>219</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">1: shag=10;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>220</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">10: shag=100;&nbsp;&nbsp;&nbsp; </code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>221</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">100: shag=1000;&nbsp;&nbsp; </code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>222</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">1000: shag=1;&nbsp; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>223</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>224</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">check_regim();</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>225</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">PCMSK1=(1&lt;&lt;PCINT9)|(1&lt;&lt;PCINT10)|(1&lt;&lt;PCINT11); PCICR=(1&lt;&lt;PCIE1); </code><code class="keyword">return</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>226</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">} </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>227</code></td><td class="content"><code class="keyword">if</code> <code class="plain">((PINC&amp;(1&lt;&lt;2))==0){ </code><code class="comments">// если нажата кнопка режимов</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>228</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain">PORTD=0;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>229</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">while</code> <code class="plain">((PINC&amp;(1&lt;&lt;2))==0);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>230</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">regim++; </code><code class="keyword">if</code> <code class="plain">(regim==7) regim=0; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>231</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">check_regim(); PCMSK1=(1&lt;&lt;PCINT9)|(1&lt;&lt;PCINT10)|(1&lt;&lt;PCINT11);PCICR=(1&lt;&lt;PCIE1);&nbsp; </code><code class="keyword">return</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>232</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>233</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>234</code></td><td class="content"><code class="comments">// если кнопки не нажимались -значит крутили энкодер:</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>235</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">up_down(&nbsp; (PINC&amp;1)^((PINC&amp;2)&gt;&gt;1) ); </code><code class="comments">//отправить считанное энкодеров в другую функцию</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>236</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="comments">// если при вращении счёт идёт не в нужную сторону, то вставить символ '!'&nbsp;&nbsp; up_down(! </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>237</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">check_regim(); </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>238</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">PCMSK1=(1&lt;&lt;PCINT9)|(1&lt;&lt;PCINT10)|(1&lt;&lt;PCINT11); PCICR=(1&lt;&lt;PCIE1);</code><code class="comments">//включить прерывания</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>239</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>240</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">} </code><code class="comments">//конец функции обработки прерываний от кнопок PCINT1_vect </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>241</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>242</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>243</code></td><td class="content"><code class="keyword">void</code> <code class="plain">pwm_gen(){ </code><code class="comments">//настройка таймера1</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>244</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="plain">uint16_t divider=1; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>245</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">icr = (16000000ul / freq /2 /divider); </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>246</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="keyword">byte</code> <code class="plain">shifts[] = {3,3,2,2};</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>247</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">for</code><code class="plain">(</code><code class="keyword">byte</code> <code class="plain">i = 0; i &lt; 4; i++){</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>248</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(icr &gt; 65536) {</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>249</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">divider &lt;&lt;= shifts[i];</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>250</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">icr = 16000000ul / freq /2 /divider;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>251</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>252</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">else</code> <code class="plain">{&nbsp; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>253</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TCCR1B = (i+1)|(1&lt;&lt;WGM13);&nbsp; </code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>254</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>255</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>256</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="plain">ICR1=icr-1; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>257</code></td><td class="content"><code class="plain">set_duty();</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>258</code></td><td class="content"><code class="plain">} </code><code class="comments">//end pwm_gen</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>259</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>260</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>261</code></td><td class="content"><code class="keyword">void</code> <code class="keyword">loop</code><code class="plain">() {</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>262</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(monitor_flag) { monitor_flag=0; monitor_out(); }</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>263</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(regim &lt;5){ PORTB&amp;= ~(1&lt;&lt;7);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>264</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">DDRD=0xFF;</code><code class="comments">//set D port as output</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>265</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">uint32_t temp=(</code><code class="keyword">float</code><code class="plain">)freq /0.095367431640625; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>266</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">ad2=temp&gt;&gt;16; ad1=temp&gt;&gt;8; ad0=temp;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>267</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">switch</code> <code class="plain">(regim){ </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>268</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">0: signalOUT(sinewave); </code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>269</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">1: signalOUT(trianglewave); </code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>270</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">2: signalOUT(squarewave); </code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>271</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">3: signalOUT(sawtoothwave); </code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>272</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">4: signalOUT(rewsawtoothwave);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>273</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">} </code><code class="comments">//end switch</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>274</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">DDRD=0; PORTD=0;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>275</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>276</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">} </code><code class="comments">//end if (regim&lt;5)</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>277</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>278</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>279</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>280</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>281</code></td><td class="content"><code class="keyword">void</code> <code class="plain">monitor_out(){</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>282</code></td><td class="content"><code class="plain">String dutystr,stepstr;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>283</code></td><td class="content"><code class="plain">dutystr= String(</code><code class="string">"Duty="</code><code class="plain">+ String(duty)+ </code><code class="string">"%"</code><code class="plain">);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>284</code></td><td class="content"><code class="plain">stepstr=String(</code><code class="string">"Step= "</code><code class="plain">+String(shag));</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>285</code></td><td class="content"><code class="plain">lcd.clrScr();</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>286</code></td><td class="content"><code class="comments">//Вывод первой строчки</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>287</code></td><td class="content"><code class="plain">lcd.setFont(SmallFont);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>288</code></td><td class="content"><code class="keyword">if</code> <code class="plain">(freq &lt;10000) {lcd.print(</code><code class="string">"Frequency, Hz"</code><code class="plain">,LEFT,0 );&nbsp; }</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>289</code></td><td class="content"><code class="keyword">if</code> <code class="plain">(freq &gt;=10000) {lcd.print(</code><code class="string">"Frequency, kHz"</code><code class="plain">,LEFT,0 );&nbsp; }</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>290</code></td><td class="content"><code class="comments">//Вывод второй строчки</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>291</code></td><td class="content"><code class="plain">lcd.setFont(MediumNumbers);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>292</code></td><td class="content"><code class="keyword">if</code> <code class="plain">(freq &lt;10000) { lcd.printNumI(freq, CENTER, 8); }</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>293</code></td><td class="content"><code class="keyword">if</code> <code class="plain">(freq &gt;=10000u &amp;&amp; freq &lt; 1000000ul ) { lcd.printNumF( ((</code><code class="keyword">float</code><code class="plain">)freq/1000),3 ,CENTER, 8);&nbsp; }</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>294</code></td><td class="content"><code class="keyword">if</code> <code class="plain">(freq &gt;=1000000ul ) { lcd.printNumF( ((</code><code class="keyword">float</code><code class="plain">)freq/1000),2 ,CENTER, 8);&nbsp; }</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>295</code></td><td class="content"><code class="comments">//Вывод третьей строчки</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>296</code></td><td class="content"><code class="plain">lcd.setFont(SmallFont);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>297</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">switch</code><code class="plain">(regim){ </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>298</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">0: lcd.print(</code><code class="string">"Sinus DDS"</code><code class="plain">,CENTER, 32); </code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>299</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">1: lcd.print(</code><code class="string">"Triangle DDS"</code><code class="plain">,CENTER, 32); </code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>300</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">2: lcd.print(</code><code class="string">"Meandr DDS"</code><code class="plain">,CENTER, 32); </code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>301</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">3: lcd.print(</code><code class="string">"Pila1 DDS"</code><code class="plain">,CENTER, 32); </code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>302</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">4: lcd.print(</code><code class="string">"Pila2 DDS"</code><code class="plain">,CENTER, 32); </code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>303</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">5: lcd.print(</code><code class="string">"PWM Mode"</code><code class="plain">,CENTER,32); </code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>304</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">6: lcd.print(</code><code class="string">"Duty Mode"</code><code class="plain">, CENTER, 32);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>305</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>306</code></td><td class="content"><code class="comments">//Вывод четвёртой строчки</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>307</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="keyword">if</code> <code class="plain">(regim==6) lcd.print(dutystr, CENTER, 40);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>308</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">else</code> <code class="plain">lcd.print(stepstr, CENTER, 40);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>309</code></td><td class="content"><code class="plain">}</code><code class="comments">//end monitor out</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>310</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>311</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>312</code></td><td class="content"><code class="keyword">void</code> <code class="plain">set_duty(){</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>313</code></td><td class="content"><code class="comments">//float ocr,delta_ocr;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>314</code></td><td class="content"><code class="keyword">if</code> <code class="plain">(regim==6&amp;&amp;ICR1&lt;100) </code><code class="keyword">return</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>315</code></td><td class="content"><code class="keyword">if</code> <code class="plain">(regim==5 &amp;&amp; ICR1&lt;100){</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>316</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">OCR1A=ICR1/2; duty=50; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>317</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">return</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>318</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>319</code></td><td class="content"><code class="keyword">static</code> <code class="plain">uint16_t ocr;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>320</code></td><td class="content"><code class="plain">ocr=(uint32_t)ICR1*duty/100;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>321</code></td><td class="content"><code class="plain">OCR1A=ocr;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>322</code></td><td class="content"><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>323</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>324</code></td><td class="content"><code class="keyword">void</code> <code class="plain">check_regim(){</code><code class="comments">// проверка и установка режимов генератора</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>325</code></td><td class="content"><code class="keyword">if</code> <code class="plain">(regim &lt;5){ </code><code class="keyword">if</code> <code class="plain">(freq &gt; 100000) freq=100000;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>326</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TCCR1B=0;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>327</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TCCR1A=0;&nbsp; DDRB&amp;=~(1&lt;&lt;DDB1); </code><code class="comments">// 9 pin arduino set Z-mode </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>328</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code><code class="comments">// end if regim &lt;5</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>329</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>330</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(regim &gt; 4) { </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>331</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TCCR1A=1&lt;&lt;COM1A1; DDRB|=1&lt;&lt;DDB1; </code><code class="comments">// 9 pin set output (pwm out)</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>332</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(TCCR1B==17 &amp;&amp; ICR1&lt;2800){ </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>333</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">ICR1=icr; freq= (</code><code class="keyword">float</code><code class="plain">) 8000000UL/ICR1;&nbsp; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>334</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">set_duty();&nbsp; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>335</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>336</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">else</code> <code class="plain">{ pwm_gen(); } </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>337</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>338</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain">PORTB|= 1&lt;&lt;7; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>339</code></td><td class="content"><code class="plain">monitor_flag=1;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>340</code></td><td class="content"><code class="plain">}</code></td></tr></tbody></table></div></div></div>

<p><a href="http://out.arduino.ru/?redirect=https%3A%2F%2Fimg-fotki.yandex.ru%2Fget%2F58454%2F118551841.8%2F0_db7ce_ae0dcf1_orig.jpg&amp;baseU=http%3A%2F%2Farduino.ru%2Fforum%2Fproekty%2Fgenerator-s-reguliruemoei-chastotoi-na-arduino" rel="nofollow" target="_blank"><img alt="" src="./Генератор с регулируемоей частотой на ардуино. _ Аппаратная платформа Arduino_files/Picture 13.jpg" style="width:480px;height:360px;"></a></p>
<p>Как и первый вариант генератора сделал в виде шилда для UNO.</p>
      </div>

          </div>
  </div>

  <div class="forum-post-footer clear-block">
    <div class="forum-jump-links">
      <a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#top" title="Jump to top of page">Верх</a>
    </div>

          <div class="forum-post-links">
        <ul class="links forum-links"><li class="comment_forbidden first"><span><a href="http://arduino.ru/user/login?destination=node%2F11357%23comment-form">Войдите</a> или <a href="http://arduino.ru/user/register?destination=node%2F11357%23comment-form">зарегистрируйтесь</a>, чтобы получить возможность отправлять комментарии</span></li>
<li class="vud_comment_votes_count last"></li>
</ul>      </div>
      </div>
</div><a id="comment-201254"></a>

    <div class="forum-post  clear-block">

  <div class="post-info clear-block">
    <div class="posted-on">
      Чт, 16/06/2016 - 19:59
          </div>

          <span class="post-num"><a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#comment-201254" class="active">#15</a> </span>
      </div>

  <div class="forum-post-wrapper">

    <div class="forum-post-panel-sub">
      

<div class="author-pane">
 <div class="author-pane-inner">
        <div class="author-pane-section author-pane-general">
            <div class="author-pane-line author-name">
        andriano      </div>

                    
  <div class="picture">
          <img src="./Генератор с регулируемоей частотой на ардуино. _ Аппаратная платформа Arduino_files/picture-13336.jpg" alt="andriano аватар" title="andriano аватар">      </div>
      
                    <div class="author-pane-line author-offline">
           Offline        </div>
      
            
            
            
                    <div class="author-pane-line author-joined">
          <span class="author-pane-label">Зарегистрирован:</span> 20.06.2015        </div>
      
            
                </div>

        <div class="author-pane-section author-pane-contact">
            
            
            
                </div>

        <div class="author-pane-section author-pane-admin">
            
          
               </div>
  </div>
</div>
    </div>

    <div class="forum-post-panel-main clear-block">
      
      <div class="content">
        <p><strong>dimax</strong>, спасибо, замечательное устройство.</p>
<p>Предполагаемую схему на ОУ для смещения нуля попробовал, но убедился, что LM358 для этих целей не подходит. Заказал LM833, а пока собрал схему в пректически неизменном варианте:</p>
<p><img alt="" src="./Генератор с регулируемоей частотой на ардуино. _ Аппаратная платформа Arduino_files/dimaxgen.jpg" style="width:500px;height:375px;" width="500" height="375"></p>
      </div>

          </div>
  </div>

  <div class="forum-post-footer clear-block">
    <div class="forum-jump-links">
      <a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#top" title="Jump to top of page">Верх</a>
    </div>

          <div class="forum-post-links">
        <ul class="links forum-links"><li class="comment_forbidden first"><span><a href="http://arduino.ru/user/login?destination=node%2F11357%23comment-form">Войдите</a> или <a href="http://arduino.ru/user/register?destination=node%2F11357%23comment-form">зарегистрируйтесь</a>, чтобы получить возможность отправлять комментарии</span></li>
<li class="vud_comment_votes_count last"></li>
</ul>      </div>
      </div>
</div><a id="comment-203430"></a>

    <div class="forum-post  clear-block">

  <div class="post-info clear-block">
    <div class="posted-on">
      Пнд, 27/06/2016 - 01:47
          </div>

          <span class="post-num"><a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#comment-203430" class="active">#16</a> </span>
      </div>

  <div class="forum-post-wrapper">

    <div class="forum-post-panel-sub">
      

<div class="author-pane">
 <div class="author-pane-inner">
        <div class="author-pane-section author-pane-general">
            <div class="author-pane-line author-name">
        ftor      </div>

                    
      
                    <div class="author-pane-line author-offline">
           Offline        </div>
      
            
            
            
                    <div class="author-pane-line author-joined">
          <span class="author-pane-label">Зарегистрирован:</span> 27.06.2016        </div>
      
            
                </div>

        <div class="author-pane-section author-pane-contact">
            
            
            
                </div>

        <div class="author-pane-section author-pane-admin">
            
          
               </div>
  </div>
</div>
    </div>

    <div class="forum-post-panel-main clear-block">
      
      <div class="content">
        <p><span style="font-size:14.4px;font-weight:bold;line-height:12px;">dimax, спасибо</span></p>
<p><img alt="" src="./Генератор с регулируемоей частотой на ардуино. _ Аппаратная платформа Arduino_files/imag0554.jpg" style="width:339px;height:600px;" width="339" height="600"></p>
<p>Кстати, не получаеться исправить в новой версии кода сам енкодер. Пробовал вставить исправления не получилось считает по два.</p>
<p>Етот генератор можно использовать как медицынский прибор при частоте 10Кгц и Синусе после усиления до 60В получиться аналог русского миостимулятора Мион-1</p>
      </div>

          </div>
  </div>

  <div class="forum-post-footer clear-block">
    <div class="forum-jump-links">
      <a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#top" title="Jump to top of page">Верх</a>
    </div>

          <div class="forum-post-links">
        <ul class="links forum-links"><li class="comment_forbidden first"><span><a href="http://arduino.ru/user/login?destination=node%2F11357%23comment-form">Войдите</a> или <a href="http://arduino.ru/user/register?destination=node%2F11357%23comment-form">зарегистрируйтесь</a>, чтобы получить возможность отправлять комментарии</span></li>
<li class="vud_comment_votes_count last"></li>
</ul>      </div>
      </div>
</div><a id="comment-203443"></a>

    <div class="forum-post  clear-block">

  <div class="post-info clear-block">
    <div class="posted-on">
      Пнд, 28/05/2018 - 16:28
          </div>

          <span class="post-num"><a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#comment-203443" class="active">#17</a> </span>
      </div>

  <div class="forum-post-wrapper">

    <div class="forum-post-panel-sub">
      

<div class="author-pane">
 <div class="author-pane-inner">
        <div class="author-pane-section author-pane-general">
            <div class="author-pane-line author-name">
        dimax      </div>

                    
  <div class="picture">
          <img src="./Генератор с регулируемоей частотой на ардуино. _ Аппаратная платформа Arduino_files/picture-6856.jpg" alt="dimax аватар" title="dimax аватар">      </div>
      
                    <div class="author-pane-line author-offline">
           Offline        </div>
      
            
            
            
                    <div class="author-pane-line author-joined">
          <span class="author-pane-label">Зарегистрирован:</span> 25.12.2013        </div>
      
            
                </div>

        <div class="author-pane-section author-pane-contact">
            
            
            
                </div>

        <div class="author-pane-section author-pane-admin">
            
          
               </div>
  </div>
</div>
    </div>

    <div class="forum-post-panel-main clear-block">
      
      <div class="content">
        <p>ftor, фикс&nbsp; двойного щелчка энкодера</p>
<div id="highlighter_77758" class="syntaxhighlighter  "><div class="bar"><div class="toolbar"><a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#viewSource" title="код" class="item viewSource" style="width: 16px; height: 16px;">код</a><div class="item copyToClipboard"><embed width="16" height="16" id="highlighter_77758_clipboard" type="application/x-shockwave-flash" title="скопировать" allowscriptaccess="always" wmode="transparent" flashvars="highlighterId=highlighter_77758" menu="false" src="/sites/all/libraries/syntaxhighlighter/scripts/clipboard.swf"></div><a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#printSource" title="расечатать" class="item printSource" style="width: 16px; height: 16px;">расечатать</a><a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#about" title="?" class="item about" style="width: 16px; height: 16px;">?</a></div></div><div class="lines"><div class="line alt1"><table><tbody><tr><td class="number"><code>1</code></td><td class="content"><code class="keyword">void</code> <code class="plain">up_down(boolean x){ </code><code class="comments">// управление регулировками</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>2</code></td><td class="content"><code class="keyword">static</code> <code class="plain">boolean n=0;&nbsp; </code><code class="keyword">if</code> <code class="plain">(n=!n){</code><code class="keyword">return</code><code class="plain">;} </code><code class="comments">//далее без изменений</code></td></tr></tbody></table></div></div></div>

<p>&nbsp;</p>
      </div>

          </div>
  </div>

  <div class="forum-post-footer clear-block">
    <div class="forum-jump-links">
      <a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#top" title="Jump to top of page">Верх</a>
    </div>

          <div class="forum-post-links">
        <ul class="links forum-links"><li class="comment_forbidden first"><span><a href="http://arduino.ru/user/login?destination=node%2F11357%23comment-form">Войдите</a> или <a href="http://arduino.ru/user/register?destination=node%2F11357%23comment-form">зарегистрируйтесь</a>, чтобы получить возможность отправлять комментарии</span></li>
<li class="vud_comment_votes_count last"></li>
</ul>      </div>
      </div>
</div><a id="comment-204507"></a>

    <div class="forum-post  clear-block">

  <div class="post-info clear-block">
    <div class="posted-on">
      Вс, 03/07/2016 - 19:16
          </div>

          <span class="post-num"><a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#comment-204507" class="active">#18</a> </span>
      </div>

  <div class="forum-post-wrapper">

    <div class="forum-post-panel-sub">
      

<div class="author-pane">
 <div class="author-pane-inner">
        <div class="author-pane-section author-pane-general">
            <div class="author-pane-line author-name">
        dimax      </div>

                    
  <div class="picture">
          <img src="./Генератор с регулируемоей частотой на ардуино. _ Аппаратная платформа Arduino_files/picture-6856.jpg" alt="dimax аватар" title="dimax аватар">      </div>
      
                    <div class="author-pane-line author-offline">
           Offline        </div>
      
            
            
            
                    <div class="author-pane-line author-joined">
          <span class="author-pane-label">Зарегистрирован:</span> 25.12.2013        </div>
      
            
                </div>

        <div class="author-pane-section author-pane-contact">
            
            
            
                </div>

        <div class="author-pane-section author-pane-admin">
            
          
               </div>
  </div>
</div>
    </div>

    <div class="forum-post-panel-main clear-block">
      
      <div class="content">
        <p>Дело было вечером, делать было нечего.. А сделать что-то хотелось. Решил добавить в поделку пару полезных функций:</p>
<p><strong>Генератор V2.4</strong>, в код&nbsp; добавлены частотометр и вольтметр.</p>
<p><strong>Частотометр</strong> -измеряет&nbsp; методом тактирования первого таймера от источника сигнала. Измеряемый диапазон: 1Гц ... 7,999 МГц*<br>
	* при превышении верхнего диапазона частотометр будет выдавать неправильные показания. Точность измерений зависит от точности установленного на плате кварцевого резонатора.<br>
	Вход подключать к пину D5, в идеале отключая от этой ноги резистор из схемы ЦАП. Но можно и не отключать, -работает и так.<br><img alt="" src="./Генератор с регулируемоей частотой на ардуино. _ Аппаратная платформа Arduino_files/gen_dds_lcd5110_2.jpg" style="width:240px;height:178px;"><br><strong>Вольтметр</strong> - Измеряет постоянное напряжение на шине Vcc и на пинах A4, A5. Используется оверсемплинг до псевдо 14 бит разрешения. , Вольтметр самокалибруется по встроенному в М.К. И.О.Н. на 1,1 вольта.<br>
	Измеряемое напряжение от 0в до напряжения питания М.К. (Vcc), отображаемое разрешение -1мв.</p>
<p><img alt="" src="./Генератор с регулируемоей частотой на ардуино. _ Аппаратная платформа Arduino_files/gen_dds_lcd5110_3.jpg" style="width:240px;height:198px;"><br>
	При загрузке можно кнопками выбрать что запускать, вольтметр или частотометр. Генератор запустится через 5 секунд по умолчанию, если выбор не сделан. Выхода из выбранных режимов не предусмотрено, только перезапуск по питанию или ресетом.</p>
<p>Обновлённая схема:</p>
<p><a href="http://out.arduino.ru/?redirect=https%3A%2F%2Fimg-fotki.yandex.ru%2Fget%2F31286%2F118551841.8%2F0_dbaf6_2a797110_orig.jpg&amp;baseU=http%3A%2F%2Farduino.ru%2Fforum%2Fproekty%2Fgenerator-s-reguliruemoei-chastotoi-na-arduino" rel="nofollow" target="_blank"><img alt="" src="./Генератор с регулируемоей частотой на ардуино. _ Аппаратная платформа Arduino_files/uno_gen_v2_4.jpg" style="width:240px;height:173px;"></a></p>
<p>Скетч:</p>
<div id="highlighter_573496" class="syntaxhighlighter collapsed  "><div class="bar"><div class="toolbar"><a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#expandSource" title="показать код" class="item expandSource" style="width: 16px; height: 16px;">показать код</a><a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#viewSource" title="код" class="item viewSource" style="width: 16px; height: 16px;">код</a><div class="item copyToClipboard"><embed width="16" height="16" id="highlighter_573496_clipboard" type="application/x-shockwave-flash" title="скопировать" allowscriptaccess="always" wmode="transparent" flashvars="highlighterId=highlighter_573496" menu="false" src="/sites/all/libraries/syntaxhighlighter/scripts/clipboard.swf"></div><a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#printSource" title="расечатать" class="item printSource" style="width: 16px; height: 16px;">расечатать</a><a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#about" title="?" class="item about" style="width: 16px; height: 16px;">?</a></div></div><div class="lines"><div class="line alt1"><table><tbody><tr><td class="number"><code>001</code></td><td class="content"><code class="comments">/* Генератор, частотометр, вольтметр на Ардуино Уно v 2.4</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>002</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="comments">* Распиновка: Энкодер A0,A1 (in)</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>003</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="comments">* Кнопка энкодера A2 (in)</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>004</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="comments">* Кнопка "режим" A3 (in)</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>005</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="comments">* Подсветка 8 (out) (вывод BL дисплея)</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>006</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="comments">* Дисплей nokia 5110 - 13,12,11,10 (out)&nbsp; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>007</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="comments">* Выход генератора 0..7 + 9 (out)</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>008</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="comments">* Вход частотометра - 5 (in)</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>009</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="comments">* Входы вольтметра -А4,А5 (in)</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>010</code></td><td class="content"><code class="comments">*/</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>011</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>012</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>013</code></td><td class="content"><code class="keyword">const</code> <code class="plain">PROGMEM uint8_t&nbsp; sinewave[]= </code><code class="comments">// массив синуса</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>014</code></td><td class="content"><code class="plain">{</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>015</code></td><td class="content"><code class="plain">0x80,0x83,0x86,0x89,0x8c,0x8f,0x92,0x95,0x98,0x9c,0x9f,0xa2,0xa5,0xa8,0xab,0xae,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>016</code></td><td class="content"><code class="plain">0xb0,0xb3,0xb6,0xb9,0xbc,0xbf,0xc1,0xc4,0xc7,0xc9,0xcc,0xce,0xd1,0xd3,0xd5,0xd8,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>017</code></td><td class="content"><code class="plain">0xda,0xdc,0xde,0xe0,0xe2,0xe4,0xe6,0xe8,0xea,0xec,0xed,0xef,0xf0,0xf2,0xf3,0xf5,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>018</code></td><td class="content"><code class="plain">0xf6,0xf7,0xf8,0xf9,0xfa,0xfb,0xfc,0xfc,0xfd,0xfe,0xfe,0xff,0xff,0xff,0xff,0xff,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>019</code></td><td class="content"><code class="plain">0xff,0xff,0xff,0xff,0xff,0xff,0xfe,0xfe,0xfd,0xfc,0xfc,0xfb,0xfa,0xf9,0xf8,0xf7,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>020</code></td><td class="content"><code class="plain">0xf6,0xf5,0xf3,0xf2,0xf0,0xef,0xed,0xec,0xea,0xe8,0xe6,0xe4,0xe2,0xe0,0xde,0xdc,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>021</code></td><td class="content"><code class="plain">0xda,0xd8,0xd5,0xd3,0xd1,0xce,0xcc,0xc9,0xc7,0xc4,0xc1,0xbf,0xbc,0xb9,0xb6,0xb3,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>022</code></td><td class="content"><code class="plain">0xb0,0xae,0xab,0xa8,0xa5,0xa2,0x9f,0x9c,0x98,0x95,0x92,0x8f,0x8c,0x89,0x86,0x83,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>023</code></td><td class="content"><code class="plain">0x80,0x7c,0x79,0x76,0x73,0x70,0x6d,0x6a,0x67,0x63,0x60,0x5d,0x5a,0x57,0x54,0x51,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>024</code></td><td class="content"><code class="plain">0x4f,0x4c,0x49,0x46,0x43,0x40,0x3e,0x3b,0x38,0x36,0x33,0x31,0x2e,0x2c,0x2a,0x27,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>025</code></td><td class="content"><code class="plain">0x25,0x23,0x21,0x1f,0x1d,0x1b,0x19,0x17,0x15,0x13,0x12,0x10,0x0f,0x0d,0x0c,0x0a,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>026</code></td><td class="content"><code class="plain">0x09,0x08,0x07,0x06,0x05,0x04,0x03,0x03,0x02,0x01,0x01,0x00,0x00,0x00,0x00,0x00,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>027</code></td><td class="content"><code class="plain">0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x01,0x02,0x03,0x03,0x04,0x05,0x06,0x07,0x08,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>028</code></td><td class="content"><code class="plain">0x09,0x0a,0x0c,0x0d,0x0f,0x10,0x12,0x13,0x15,0x17,0x19,0x1b,0x1d,0x1f,0x21,0x23,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>029</code></td><td class="content"><code class="plain">0x25,0x27,0x2a,0x2c,0x2e,0x31,0x33,0x36,0x38,0x3b,0x3e,0x40,0x43,0x46,0x49,0x4c,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>030</code></td><td class="content"><code class="plain">0x4f,0x51,0x54,0x57,0x5a,0x5d,0x60,0x63,0x67,0x6a,0x6d,0x70,0x73,0x76,0x79,0x7c</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>031</code></td><td class="content"><code class="plain">};</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>032</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>033</code></td><td class="content"><code class="keyword">const</code> <code class="plain">PROGMEM uint8_t squarewave[]= </code><code class="comments">//массив меандра</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>034</code></td><td class="content"><code class="plain">{</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>035</code></td><td class="content"><code class="plain">0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>036</code></td><td class="content"><code class="plain">0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>037</code></td><td class="content"><code class="plain">0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>038</code></td><td class="content"><code class="plain">0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>039</code></td><td class="content"><code class="plain">0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>040</code></td><td class="content"><code class="plain">0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>041</code></td><td class="content"><code class="plain">0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>042</code></td><td class="content"><code class="plain">0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>043</code></td><td class="content"><code class="plain">0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>044</code></td><td class="content"><code class="plain">0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>045</code></td><td class="content"><code class="plain">0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>046</code></td><td class="content"><code class="plain">0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>047</code></td><td class="content"><code class="plain">0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>048</code></td><td class="content"><code class="plain">0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>049</code></td><td class="content"><code class="plain">0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>050</code></td><td class="content"><code class="plain">0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>051</code></td><td class="content"><code class="plain">};</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>052</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>053</code></td><td class="content"><code class="keyword">const</code> <code class="plain">PROGMEM uint8_t trianglewave[]= </code><code class="comments">//массив треугольника</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>054</code></td><td class="content"><code class="plain">{</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>055</code></td><td class="content"><code class="plain">0x00,0x02,0x04,0x06,0x08,0x0a,0x0c,0x0e,0x10,0x12,0x14,0x16,0x18,0x1a,0x1c,0x1e,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>056</code></td><td class="content"><code class="plain">0x20,0x22,0x24,0x26,0x28,0x2a,0x2c,0x2e,0x30,0x32,0x34,0x36,0x38,0x3a,0x3c,0x3e,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>057</code></td><td class="content"><code class="plain">0x40,0x42,0x44,0x46,0x48,0x4a,0x4c,0x4e,0x50,0x52,0x54,0x56,0x58,0x5a,0x5c,0x5e,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>058</code></td><td class="content"><code class="plain">0x60,0x62,0x64,0x66,0x68,0x6a,0x6c,0x6e,0x70,0x72,0x74,0x76,0x78,0x7a,0x7c,0x7e,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>059</code></td><td class="content"><code class="plain">0x80,0x82,0x84,0x86,0x88,0x8a,0x8c,0x8e,0x90,0x92,0x94,0x96,0x98,0x9a,0x9c,0x9e,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>060</code></td><td class="content"><code class="plain">0xa0,0xa2,0xa4,0xa6,0xa8,0xaa,0xac,0xae,0xb0,0xb2,0xb4,0xb6,0xb8,0xba,0xbc,0xbe,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>061</code></td><td class="content"><code class="plain">0xc0,0xc2,0xc4,0xc6,0xc8,0xca,0xcc,0xce,0xd0,0xd2,0xd4,0xd6,0xd8,0xda,0xdc,0xde,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>062</code></td><td class="content"><code class="plain">0xe0,0xe2,0xe4,0xe6,0xe8,0xea,0xec,0xee,0xf0,0xf2,0xf4,0xf6,0xf8,0xfa,0xfc,0xfe,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>063</code></td><td class="content"><code class="plain">0xff,0xfd,0xfb,0xf9,0xf7,0xf5,0xf3,0xf1,0xef,0xef,0xeb,0xe9,0xe7,0xe5,0xe3,0xe1,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>064</code></td><td class="content"><code class="plain">0xdf,0xdd,0xdb,0xd9,0xd7,0xd5,0xd3,0xd1,0xcf,0xcf,0xcb,0xc9,0xc7,0xc5,0xc3,0xc1,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>065</code></td><td class="content"><code class="plain">0xbf,0xbd,0xbb,0xb9,0xb7,0xb5,0xb3,0xb1,0xaf,0xaf,0xab,0xa9,0xa7,0xa5,0xa3,0xa1,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>066</code></td><td class="content"><code class="plain">0x9f,0x9d,0x9b,0x99,0x97,0x95,0x93,0x91,0x8f,0x8f,0x8b,0x89,0x87,0x85,0x83,0x81,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>067</code></td><td class="content"><code class="plain">0x7f,0x7d,0x7b,0x79,0x77,0x75,0x73,0x71,0x6f,0x6f,0x6b,0x69,0x67,0x65,0x63,0x61,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>068</code></td><td class="content"><code class="plain">0x5f,0x5d,0x5b,0x59,0x57,0x55,0x53,0x51,0x4f,0x4f,0x4b,0x49,0x47,0x45,0x43,0x41,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>069</code></td><td class="content"><code class="plain">0x3f,0x3d,0x3b,0x39,0x37,0x35,0x33,0x31,0x2f,0x2f,0x2b,0x29,0x27,0x25,0x23,0x21,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>070</code></td><td class="content"><code class="plain">0x1f,0x1d,0x1b,0x19,0x17,0x15,0x13,0x11,0x0f,0x0f,0x0b,0x09,0x07,0x05,0x03,0x01</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>071</code></td><td class="content"><code class="plain">};</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>072</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>073</code></td><td class="content"><code class="keyword">const</code> <code class="plain">PROGMEM uint8_t sawtoothwave[]= </code><code class="comments">//массив пила1</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>074</code></td><td class="content"><code class="plain">{</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>075</code></td><td class="content"><code class="plain">0x00,0x01,0x02,0x03,0x04,0x05,0x06,0x07,0x08,0x09,0x0a,0x0b,0x0c,0x0d,0x0e,0x0f,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>076</code></td><td class="content"><code class="plain">0x10,0x11,0x12,0x13,0x14,0x15,0x16,0x17,0x18,0x19,0x1a,0x1b,0x1c,0x1d,0x1e,0x1f,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>077</code></td><td class="content"><code class="plain">0x20,0x21,0x22,0x23,0x24,0x25,0x26,0x27,0x28,0x29,0x2a,0x2b,0x2c,0x2d,0x2e,0x2f,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>078</code></td><td class="content"><code class="plain">0x30,0x31,0x32,0x33,0x34,0x35,0x36,0x37,0x38,0x39,0x3a,0x3b,0x3c,0x3d,0x3e,0x3f,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>079</code></td><td class="content"><code class="plain">0x40,0x41,0x42,0x43,0x44,0x45,0x46,0x47,0x48,0x49,0x4a,0x4b,0x4c,0x4d,0x4e,0x4f,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>080</code></td><td class="content"><code class="plain">0x50,0x51,0x52,0x53,0x54,0x55,0x56,0x57,0x58,0x59,0x5a,0x5b,0x5c,0x5d,0x5e,0x5f,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>081</code></td><td class="content"><code class="plain">0x60,0x61,0x62,0x63,0x64,0x65,0x66,0x67,0x68,0x69,0x6a,0x6b,0x6c,0x6d,0x6e,0x6f,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>082</code></td><td class="content"><code class="plain">0x70,0x71,0x72,0x73,0x74,0x75,0x76,0x77,0x78,0x79,0x7a,0x7b,0x7c,0x7d,0x7e,0x7f,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>083</code></td><td class="content"><code class="plain">0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8a,0x8b,0x8c,0x8d,0x8e,0x8f,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>084</code></td><td class="content"><code class="plain">0x90,0x91,0x92,0x93,0x94,0x95,0x96,0x97,0x98,0x99,0x9a,0x9b,0x9c,0x9d,0x9e,0x9f,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>085</code></td><td class="content"><code class="plain">0xa0,0xa1,0xa2,0xa3,0xa4,0xa5,0xa6,0xa7,0xa8,0xa9,0xaa,0xab,0xac,0xad,0xae,0xaf,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>086</code></td><td class="content"><code class="plain">0xb0,0xb1,0xb2,0xb3,0xb4,0xb5,0xb6,0xb7,0xb8,0xb9,0xba,0xbb,0xbc,0xbd,0xbe,0xbf,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>087</code></td><td class="content"><code class="plain">0xc0,0xc1,0xc2,0xc3,0xc4,0xc5,0xc6,0xc7,0xc8,0xc9,0xca,0xcb,0xcc,0xcd,0xce,0xcf,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>088</code></td><td class="content"><code class="plain">0xd0,0xd1,0xd2,0xd3,0xd4,0xd5,0xd6,0xd7,0xd8,0xd9,0xda,0xdb,0xdc,0xdd,0xde,0xdf,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>089</code></td><td class="content"><code class="plain">0xe0,0xe1,0xe2,0xe3,0xe4,0xe5,0xe6,0xe7,0xe8,0xe9,0xea,0xeb,0xec,0xed,0xee,0xef,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>090</code></td><td class="content"><code class="plain">0xf0,0xf1,0xf2,0xf3,0xf4,0xf5,0xf6,0xf7,0xf8,0xf9,0xfa,0xfb,0xfc,0xfd,0xfe,0xff</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>091</code></td><td class="content"><code class="plain">};</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>092</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>093</code></td><td class="content"><code class="keyword">const</code> <code class="plain">PROGMEM uint8_t rewsawtoothwave[]= </code><code class="comments">//массив пила2</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>094</code></td><td class="content"><code class="plain">{</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>095</code></td><td class="content"><code class="plain">0xff,0xfe,0xfd,0xfc,0xfb,0xfa,0xf9,0xf8,0xf7,0xf6,0xf5,0xf4,0xf3,0xf2,0xf1,0xf0,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>096</code></td><td class="content"><code class="plain">0xef,0xee,0xed,0xec,0xeb,0xea,0xe9,0xe8,0xe7,0xe6,0xe5,0xe4,0xe3,0xe2,0xe1,0xe0,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>097</code></td><td class="content"><code class="plain">0xdf,0xde,0xdd,0xdc,0xdb,0xda,0xd9,0xd8,0xd7,0xd6,0xd5,0xd4,0xd3,0xd2,0xd1,0xd0,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>098</code></td><td class="content"><code class="plain">0xcf,0xce,0xcd,0xcc,0xcb,0xca,0xc9,0xc8,0xc7,0xc6,0xc5,0xc4,0xc3,0xc2,0xc1,0xc0,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>099</code></td><td class="content"><code class="plain">0xbf,0xbe,0xbd,0xbc,0xbb,0xba,0xb9,0xb8,0xb7,0xb6,0xb5,0xb4,0xb3,0xb2,0xb1,0xb0,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>100</code></td><td class="content"><code class="plain">0xaf,0xae,0xad,0xac,0xab,0xaa,0xa9,0xa8,0xa7,0xa6,0xa5,0xa4,0xa3,0xa2,0xa1,0xa0,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>101</code></td><td class="content"><code class="plain">0x9f,0x9e,0x9d,0x9c,0x9b,0x9a,0x99,0x98,0x97,0x96,0x95,0x94,0x93,0x92,0x91,0x90,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>102</code></td><td class="content"><code class="plain">0x8f,0x8e,0x8d,0x8c,0x8b,0x8a,0x89,0x88,0x87,0x86,0x85,0x84,0x83,0x82,0x81,0x80,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>103</code></td><td class="content"><code class="plain">0x7f,0x7e,0x7d,0x7c,0x7b,0x7a,0x79,0x78,0x77,0x76,0x75,0x74,0x73,0x72,0x71,0x70,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>104</code></td><td class="content"><code class="plain">0x6f,0x6e,0x6d,0x6c,0x6b,0x6a,0x69,0x68,0x67,0x66,0x65,0x64,0x63,0x62,0x61,0x60,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>105</code></td><td class="content"><code class="plain">0x5f,0x5e,0x5d,0x5c,0x5b,0x5a,0x59,0x58,0x57,0x56,0x55,0x54,0x53,0x52,0x51,0x50,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>106</code></td><td class="content"><code class="plain">0x4f,0x4e,0x4d,0x4c,0x4b,0x4a,0x49,0x48,0x47,0x46,0x45,0x44,0x43,0x42,0x41,0x40,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>107</code></td><td class="content"><code class="plain">0x3f,0x3e,0x3d,0x3c,0x3b,0x3a,0x39,0x38,0x37,0x36,0x35,0x34,0x33,0x32,0x31,0x30,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>108</code></td><td class="content"><code class="plain">0x2f,0x2e,0x2d,0x2c,0x2b,0x2a,0x29,0x28,0x27,0x26,0x25,0x24,0x23,0x22,0x21,0x20,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>109</code></td><td class="content"><code class="plain">0x1f,0x1e,0x1d,0x1c,0x1b,0x1a,0x19,0x18,0x17,0x16,0x15,0x14,0x13,0x12,0x11,0x10,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>110</code></td><td class="content"><code class="plain">0x0f,0x0e,0x0d,0x0c,0x0b,0x0a,0x09,0x08,0x07,0x06,0x05,0x04,0x03,0x02,0x01,0x00,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>111</code></td><td class="content"><code class="plain">};</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>112</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>113</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>114</code></td><td class="content"><code class="keyword">const</code> <code class="plain">PROGMEM </code><code class="keyword">char</code> <code class="plain">musor_mass[]= </code><code class="comments">//массив для подгонки адреса в флэш-памяти</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>115</code></td><td class="content"><code class="plain">{</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>116</code></td><td class="content"><code class="plain">0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>117</code></td><td class="content"><code class="plain">0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>118</code></td><td class="content"><code class="plain">0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>119</code></td><td class="content"><code class="plain">0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>120</code></td><td class="content"><code class="plain">0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>121</code></td><td class="content"><code class="plain">0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>122</code></td><td class="content"><code class="plain">0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>123</code></td><td class="content"><code class="plain">0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>124</code></td><td class="content"><code class="plain">0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>125</code></td><td class="content"><code class="plain">};</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>126</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>127</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>128</code></td><td class="content"><code class="plain">volatile int32_t freq=1000;</code><code class="comments">// частота по умолчанию</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>129</code></td><td class="content"><code class="plain">volatile uint32_t icr=0;&nbsp; </code><code class="comments">//переменная для управления регистром сравнения таймера1</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>130</code></td><td class="content"><code class="plain">volatile uint16_t shag=100; </code><code class="comments">//шаг энкодера по умолчанию</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>131</code></td><td class="content"><code class="plain">volatile uint16_t int_tic=0; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>132</code></td><td class="content"><code class="plain">volatile uint8_t regim=5; </code><code class="comments">//режим генератора по умолчанию</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>133</code></td><td class="content"><code class="plain">volatile uint8_t monitor_flag; </code><code class="comments">// флаг для вывода на дисплей</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>134</code></td><td class="content"><code class="plain">volatile uint8_t ad2,ad1,ad0; </code><code class="comments">//служебные байты для функции на ассемблере</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>135</code></td><td class="content"><code class="plain">volatile uint8_t duty=50; </code><code class="comments">//скважность</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>136</code></td><td class="content"><code class="plain">volatile uint8_t main_flag=0;</code><code class="comments">//флаг работа в режиме генератора или нет</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>137</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>138</code></td><td class="content"><code class="preprocessor">#define int_on() PCMSK1=(1&lt;&lt;PCINT9)|(1&lt;&lt;PCINT10)|(1&lt;&lt;PCINT11); PCICR=(1&lt;&lt;PCIE1);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>139</code></td><td class="content"><code class="comments">//включить прерывание PCINT1, выбор пинов прерывания A1,A2,A3</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>140</code></td><td class="content"><code class="preprocessor">#define int_off() PCMSK1=0; PCICR=0; //отключить PCINT1</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>141</code></td><td class="content"><code class="preprocessor">#include &lt;LCD5110_SSVS.h&gt;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>142</code></td><td class="content"><code class="keyword">extern</code> <code class="plain">uint8_t SmallFont[];</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>143</code></td><td class="content"><code class="keyword">extern</code> <code class="plain">uint8_t MediumNumbers[];</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>144</code></td><td class="content"><code class="plain">LCD5110 lcd(10,11,12,13);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>145</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>146</code></td><td class="content"><code class="comments">// DDS algorithm </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>147</code></td><td class="content"><code class="keyword">static</code> <code class="plain">inline </code><code class="keyword">void</code> <code class="plain">signalOUT(</code><code class="keyword">const</code> <code class="plain">uint8_t *signal){ </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>148</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain">asm volatile(&nbsp; </code><code class="string">"eor r18, r18&nbsp;&nbsp; ;r18&lt;-0"</code>&nbsp; <code class="string">"\n\t"</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>149</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="string">"eor r19, r19&nbsp;&nbsp; ;r19&lt;-0"</code>&nbsp; <code class="string">"\n\t"</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>150</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="string">"1:"</code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <code class="string">"\n\t"</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>151</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="string">"add r18, %0&nbsp; ;1 cycle"</code>&nbsp;&nbsp;&nbsp;&nbsp; <code class="string">"\n\t"</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>152</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="string">"adc r19, %1&nbsp; ;1 cycle"</code>&nbsp;&nbsp;&nbsp;&nbsp; <code class="string">"\n\t"</code>&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>153</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="string">"adc %A3, %2&nbsp; ;1 cycle"</code>&nbsp;&nbsp;&nbsp;&nbsp; <code class="string">"\n\t"</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>154</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="string">"lpm&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ;3 cycles"</code>&nbsp; <code class="string">"\n\t"</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>155</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="string">"out %4, __tmp_reg__&nbsp; ;1 cycle"</code> <code class="string">"\n\t"</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>156</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="string">"sbis %5, 7&nbsp;&nbsp; ;1 cycle if no skip"</code> <code class="string">"\n\t"</code>&nbsp;&nbsp;&nbsp;&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>157</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="string">"rjmp 1b&nbsp;&nbsp;&nbsp; ;2 cycles. Total 10 cycles"</code> <code class="string">"\n\t"</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>158</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">:</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>159</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">:</code><code class="string">"r"</code> <code class="plain">(ad0),</code><code class="string">"r"</code> <code class="plain">(ad1),</code><code class="string">"r"</code> <code class="plain">(ad2),</code><code class="string">"e"</code> <code class="plain">(signal),</code><code class="string">"I"</code> <code class="plain">(_SFR_IO_ADDR(PORTD)), </code><code class="string">"I"</code> <code class="plain">(_SFR_IO_ADDR(PORTB))</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>160</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">:</code><code class="string">"r18"</code><code class="plain">, </code><code class="string">"r19"</code> <code class="plain">);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>161</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>162</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>163</code></td><td class="content"><code class="keyword">void</code> <code class="keyword">setup</code><code class="plain">(){</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>164</code></td><td class="content"><code class="plain">lcd.InitLCD();</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>165</code></td><td class="content"><code class="keyword">for</code> <code class="plain">(</code><code class="keyword">int</code> <code class="plain">n=0; n &lt;</code><code class="keyword">sizeof</code><code class="plain">(musor_mass); n++ ) {PORTD=musor_mass[n]; }&nbsp;&nbsp; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>166</code></td><td class="content"><code class="plain">PORTD=0; DDRD=0; TCCR1A=0; TCCR1B=0; TIMSK1=0; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>167</code></td><td class="content"><code class="plain">PORTC|=(1&lt;&lt;PC2)|(1&lt;&lt;PC3); </code><code class="comments">//подтяжка кнопок на A2 A3</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>168</code></td><td class="content"><code class="plain">DDRB|=1&lt;&lt;PB0; </code><code class="comments">// 8 пин -включение подсветки дисплея = выход</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>169</code></td><td class="content"><code class="plain">main_screen(); </code><code class="comments">//стартовое сообщение и выбор задач</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>170</code></td><td class="content"><code class="comments">//далее загрузка генератора по умолчанию</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>171</code></td><td class="content"><code class="plain">TCCR0B=0;&nbsp; check_regim(); </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>172</code></td><td class="content"><code class="plain">int_on();</code><code class="comments">//включить прерывание PCINT1</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>173</code></td><td class="content"><code class="plain">main_flag=1;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>174</code></td><td class="content"><code class="plain">} </code><code class="comments">//end setup</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>175</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>176</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>177</code></td><td class="content"><code class="keyword">void</code> <code class="plain">up_down(boolean x){ </code><code class="comments">// управление регулировками</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>178</code></td><td class="content"><code class="comments">// static boolean n=0;&nbsp; if (n=!n){return;} // снять ремарку для энкодеров с двойным щелчком</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>179</code></td><td class="content"><code class="keyword">if</code> <code class="plain">(TCCR1B==17 &amp;&amp; ICR1&lt;2800 &amp;&amp; regim==5){ </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>180</code></td><td class="content"><code class="keyword">if</code><code class="plain">(x) {</code><code class="keyword">if</code> <code class="plain">(icr&lt;1000 &amp;&amp; shag &gt; 100) shag=100; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>181</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(icr&lt;100 &amp;&amp; shag &gt; 10) shag=10;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>182</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(icr&lt;10 &amp;&amp; shag &gt; 1) shag=1;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>183</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">icr-=shag;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>184</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(icr&lt;2) icr=2;&nbsp;&nbsp;&nbsp; }</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>185</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">else</code> <code class="plain">{&nbsp; </code><code class="keyword">if</code> <code class="plain">(icr &gt; 1800 &amp;&amp; shag &gt;100) shag =100; icr+=shag ;&nbsp; } </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>186</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="keyword">return</code><code class="plain">;&nbsp;&nbsp; }</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>187</code></td><td class="content"><code class="keyword">if</code> <code class="plain">(regim==6){</code><code class="keyword">if</code> <code class="plain">(ICR1&gt;100){ </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>188</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(x){</code><code class="keyword">if</code><code class="plain">(duty&lt;100) {duty++; }&nbsp; }</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>189</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(!x){ </code><code class="keyword">if</code><code class="plain">(duty&gt;0) {duty--; }} }</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>190</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">else</code><code class="plain">{ </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>191</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(x){</code><code class="keyword">if</code><code class="plain">(OCR1A&lt;ICR1) {OCR1A++; }&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>192</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">else</code> <code class="plain">{</code><code class="keyword">if</code><code class="plain">(OCR1A&gt;0) {OCR1A--; }&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>193</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code><code class="plain">(OCR1A&gt;ICR1) OCR1A=ICR1-1;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>194</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">duty=(uint32_t)100*OCR1A/ICR1;&nbsp; }</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>195</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">return</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>196</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">} </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>197</code></td><td class="content"><code class="plain">x? freq+=shag : freq-=shag ;&nbsp; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>198</code></td><td class="content"><code class="keyword">if</code> <code class="plain">(freq &lt; 1) freq=1;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>199</code></td><td class="content"><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>200</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>201</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>202</code></td><td class="content"><code class="color1">////////////////////////////////////////////////////////////////&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>203</code></td><td class="content"><code class="comments">//****** ПРЕРЫВАНИЕ от кнопок и энкодера*******/////////////////&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>204</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="plain">ISR (PCINT1_vect){ </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>205</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="plain">int_off();&nbsp; PORTD=0;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>206</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="color1">///блок для обработки событий не в режиме генератора///</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>207</code></td><td class="content"><code class="keyword">if</code> <code class="plain">(main_flag==0) { </code><code class="keyword">if</code> <code class="plain">((PINC&amp;(1&lt;&lt;3))==0){ </code><code class="keyword">while</code> <code class="plain">((PINC&amp;(1&lt;&lt;3))==0); </code><code class="comments">//вкл. подсветки</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>208</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">((PINC&amp;(1&lt;&lt;2))==0){ PINB|=1&lt;&lt;PB0; </code><code class="keyword">while</code> <code class="plain">((PINC&amp;(1&lt;&lt;2))==0);}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>209</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">int_on(); </code><code class="keyword">return</code><code class="plain">; </code><code class="comments">//выходить если не в режиме генератора </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>210</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>211</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="comments">//далее всё в режиме генаратора</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>212</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="comments">// если нажата кнопка энкодера&nbsp;&nbsp;&nbsp;&nbsp; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>213</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="keyword">if</code> <code class="plain">((PINC&amp;(1&lt;&lt;3))==0){ </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>214</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">while</code> <code class="plain">((PINC&amp;(1&lt;&lt;3))==0);</code><code class="comments">// подождать до тех пор, когда кнопку отпустят</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>215</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="comments">//блок вкл/отк подсветки дисплея (8 пин ардуино)</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>216</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">((PINC&amp;(1&lt;&lt;2))==0){ </code><code class="comments">//если после этого нажата кнопка режимов,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>217</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">PINB|=1&lt;&lt;PB0; </code><code class="comments">//менять состояние 8 пина</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>218</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">while</code> <code class="plain">((PINC&amp;(1&lt;&lt;2))==0);</code><code class="comments">// теперь подождать пока отпустят кнопку режим </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>219</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">int_on(); </code><code class="keyword">return</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>220</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>221</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(regim==6) { regim=5; check_regim(); int_on(); </code><code class="keyword">return</code><code class="plain">; }</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>222</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">switch</code> <code class="plain">(shag){ </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>223</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">1: shag=10;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>224</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">10: shag=100;&nbsp;&nbsp;&nbsp; </code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>225</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">100: shag=1000;&nbsp;&nbsp; </code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>226</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">1000: shag=1; </code><code class="keyword">break</code><code class="plain">; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>227</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">} check_regim(); int_on(); </code><code class="keyword">return</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>228</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">} </code><code class="comments">//конец блока *если нажата кнопка энкодера*</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>229</code></td><td class="content"><code class="keyword">if</code> <code class="plain">((PINC&amp;(1&lt;&lt;2))==0){ </code><code class="comments">// если нажата кнопка режимов</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>230</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain">PORTD=0;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>231</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">while</code> <code class="plain">((PINC&amp;(1&lt;&lt;2))==0);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>232</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">regim++; </code><code class="keyword">if</code> <code class="plain">(regim==7) regim=0; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>233</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">check_regim(); int_on();&nbsp; </code><code class="keyword">return</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>234</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">} </code><code class="comments">//конец блока *если нажата кнопка режимов*</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>235</code></td><td class="content"><code class="comments">// если кнопки не нажимались -значит крутили энкодер:</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>236</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">up_down( ! (PINC&amp;1)^((PINC&amp;2)&gt;&gt;1) ); </code><code class="comments">//отправить считанное энкодеров в другую функцию</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>237</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="comments">// если при вращении счёт идёт не в нужную сторону, то (вставить/убрать) символ '!'&nbsp;&nbsp; up_down(! </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>238</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">check_regim(); int_on();</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>239</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">} </code><code class="comments">//конец функции обработки прерываний от кнопок PCINT1_vect </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>240</code></td><td class="content"><code class="color1">////////////////////КОНЕЦ_ПРЕРЫВАНИЕ_от_кнопок_и_энкодера///////////////////////////////</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>241</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>242</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>243</code></td><td class="content"><code class="keyword">void</code> <code class="plain">pwm_gen(){ </code><code class="comments">//настройка таймера1</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>244</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="plain">uint16_t divider=1; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>245</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">icr = (16000000ul / freq /2 /divider); </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>246</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="keyword">byte</code> <code class="plain">shifts[] = {3,3,2,2};</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>247</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">for</code><code class="plain">(</code><code class="keyword">byte</code> <code class="plain">i = 0; i &lt; 4; i++){</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>248</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(icr &gt; 65536) {</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>249</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">divider &lt;&lt;= shifts[i];</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>250</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">icr = 16000000ul / freq /2 /divider; }</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>251</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">else</code> <code class="plain">{&nbsp; TCCR1B = (i+1)|(1&lt;&lt;WGM13);&nbsp; </code><code class="keyword">break</code><code class="plain">;&nbsp; } }</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>252</code></td><td class="content"><code class="plain">ICR1=icr-1; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>253</code></td><td class="content"><code class="plain">set_duty();</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>254</code></td><td class="content"><code class="plain">} </code><code class="comments">//end pwm_gen</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>255</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>256</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>257</code></td><td class="content"><code class="keyword">void</code> <code class="keyword">loop</code><code class="plain">() {</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>258</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(monitor_flag) { monitor_flag=0; monitor_out(); }</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>259</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(regim &lt;5){ PORTB&amp;= ~(1&lt;&lt;7);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>260</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">DDRD=0xFF;</code><code class="comments">//set D port as output</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>261</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">uint32_t temp=(</code><code class="keyword">float</code><code class="plain">)freq /0.095367431640625; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>262</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">ad2=temp&gt;&gt;16; ad1=temp&gt;&gt;8; ad0=temp;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>263</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">switch</code> <code class="plain">(regim){ </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>264</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">0: signalOUT(sinewave); </code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>265</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">1: signalOUT(trianglewave); </code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>266</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">2: signalOUT(squarewave); </code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>267</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">3: signalOUT(sawtoothwave); </code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>268</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">4: signalOUT(rewsawtoothwave);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>269</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">} </code><code class="comments">//end switch</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>270</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">DDRD=0; PORTD=0;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>271</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>272</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">} </code><code class="comments">//end if (regim&lt;5)</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>273</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">}</code><code class="comments">//end loop</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>274</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>275</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>276</code></td><td class="content"><code class="keyword">void</code> <code class="plain">monitor_out(){</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>277</code></td><td class="content"><code class="plain">String dutystr,stepstr;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>278</code></td><td class="content"><code class="plain">dutystr= String(</code><code class="string">"Duty="</code><code class="plain">+ String(duty)+ </code><code class="string">"%"</code><code class="plain">);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>279</code></td><td class="content"><code class="plain">stepstr=String(</code><code class="string">"Step= "</code><code class="plain">+String(shag));</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>280</code></td><td class="content"><code class="plain">lcd.clrScr();</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>281</code></td><td class="content"><code class="comments">//Вывод первой строчки</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>282</code></td><td class="content"><code class="plain">lcd.setFont(SmallFont);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>283</code></td><td class="content"><code class="keyword">if</code> <code class="plain">(freq &lt;10000) {lcd.print(</code><code class="string">"Frequency, Hz"</code><code class="plain">,LEFT,0 );&nbsp; }</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>284</code></td><td class="content"><code class="keyword">if</code> <code class="plain">(freq &gt;=10000) {lcd.print(</code><code class="string">"Frequency, kHz"</code><code class="plain">,LEFT,0 );&nbsp; }</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>285</code></td><td class="content"><code class="comments">//Вывод второй строчки</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>286</code></td><td class="content"><code class="plain">lcd.setFont(MediumNumbers);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>287</code></td><td class="content"><code class="keyword">if</code> <code class="plain">(freq &lt;10000) { lcd.printNumI(freq, CENTER, 8); }</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>288</code></td><td class="content"><code class="keyword">if</code> <code class="plain">(freq &gt;=10000u &amp;&amp; freq &lt; 1000000ul ) { lcd.printNumF( ((</code><code class="keyword">float</code><code class="plain">)freq/1000),3 ,CENTER, 8);&nbsp; }</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>289</code></td><td class="content"><code class="keyword">if</code> <code class="plain">(freq &gt;=1000000ul ) { lcd.printNumF( ((</code><code class="keyword">float</code><code class="plain">)freq/1000),2 ,CENTER, 8);&nbsp; }</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>290</code></td><td class="content"><code class="comments">//Вывод третьей строчки</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>291</code></td><td class="content"><code class="plain">lcd.setFont(SmallFont);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>292</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">switch</code><code class="plain">(regim){ </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>293</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">0: lcd.print(</code><code class="string">"Sinus DDS"</code><code class="plain">,CENTER, 32); </code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>294</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">1: lcd.print(</code><code class="string">"Triangle DDS"</code><code class="plain">,CENTER, 32); </code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>295</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">2: lcd.print(</code><code class="string">"Meandr DDS"</code><code class="plain">,CENTER, 32); </code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>296</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">3: lcd.print(</code><code class="string">"Pila1 DDS"</code><code class="plain">,CENTER, 32); </code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>297</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">4: lcd.print(</code><code class="string">"Pila2 DDS"</code><code class="plain">,CENTER, 32); </code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>298</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">5: lcd.print(</code><code class="string">"PWM Mode"</code><code class="plain">,CENTER,32); </code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>299</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">6: lcd.print(</code><code class="string">"Duty Mode"</code><code class="plain">, CENTER, 32);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>300</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>301</code></td><td class="content"><code class="comments">//Вывод четвёртой строчки</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>302</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="keyword">if</code> <code class="plain">(regim==6) lcd.print(dutystr, CENTER, 40);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>303</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">else</code> <code class="plain">lcd.print(stepstr, CENTER, 40);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>304</code></td><td class="content"><code class="plain">}</code><code class="comments">//end monitor out</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>305</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>306</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>307</code></td><td class="content"><code class="keyword">void</code> <code class="plain">set_duty(){</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>308</code></td><td class="content"><code class="keyword">if</code> <code class="plain">(regim==6&amp;&amp;ICR1&lt;100) </code><code class="keyword">return</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>309</code></td><td class="content"><code class="keyword">if</code> <code class="plain">(regim==5 &amp;&amp; ICR1&lt;100){</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>310</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">OCR1A=ICR1/2; duty=50; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>311</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">return</code><code class="plain">;&nbsp;&nbsp; }</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>312</code></td><td class="content"><code class="keyword">static</code> <code class="plain">uint16_t ocr;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>313</code></td><td class="content"><code class="plain">ocr=(uint32_t)ICR1*duty/100;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>314</code></td><td class="content"><code class="plain">OCR1A=ocr;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>315</code></td><td class="content"><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>316</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>317</code></td><td class="content"><code class="keyword">void</code> <code class="plain">check_regim(){</code><code class="comments">// проверка и установка режимов генератора</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>318</code></td><td class="content"><code class="keyword">if</code> <code class="plain">(regim &lt;5){ </code><code class="keyword">if</code> <code class="plain">(freq &gt; 100000) freq=100000;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>319</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TCCR1B=0;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>320</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TCCR1A=0;&nbsp; DDRB&amp;=~(1&lt;&lt;DDB1); </code><code class="comments">// 9 pin arduino set Z-mode </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>321</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code><code class="comments">// end if regim &lt;5</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>322</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(regim &gt; 4) { </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>323</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TCCR1A=1&lt;&lt;COM1A1; DDRB|=1&lt;&lt;DDB1; </code><code class="comments">// 9 pin set output (pwm out)</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>324</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(TCCR1B==17 &amp;&amp; ICR1&lt;2800){ </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>325</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">ICR1=icr; freq= (</code><code class="keyword">float</code><code class="plain">) 8000000UL/ICR1;&nbsp; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>326</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">set_duty();&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>327</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">else</code> <code class="plain">{ pwm_gen(); } </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>328</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>329</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain">PORTB|= 1&lt;&lt;7; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>330</code></td><td class="content"><code class="plain">monitor_flag=1;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>331</code></td><td class="content"><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>332</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>333</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>334</code></td><td class="content"><code class="plain">ISR (TIMER1_OVF_vect){ int_tic++; } </code><code class="comments">// прерывание частотомера</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>335</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>336</code></td><td class="content"><code class="keyword">void</code> <code class="plain">freq_meter(){</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>337</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain">lcd.clrScr();</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>338</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain">lcd.setFont(SmallFont);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>339</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain">lcd.print(</code><code class="string">"Freq.counter"</code><code class="plain">,LEFT, 0);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>340</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">int_on();</code><code class="comments">//включить прерывание PCINT1</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>341</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">TIMSK1 = 1&lt;&lt;TOIE1;</code><code class="comments">// подключить прерывание</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>342</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">uint32_t freqm=0;</code><code class="comments">// Переменная измерения частоты</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>343</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">int_tic=0; TCNT1=0; TIFR1=0;</code><code class="comments">//всё обнулить</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>344</code></td><td class="content"><code class="keyword">while</code><code class="plain">(1){</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>345</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain">TCCR1B=7;</code><code class="comments">//тактировани от входа Т1</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>346</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain">delay(2000); TCCR1B=0;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>347</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain">freqm= (((uint32_t)int_tic&lt;&lt;16) | TCNT1)/2; </code><code class="comments">//сложить что натикало</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>348</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain">int_tic=0; TCNT1 = 0; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>349</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain">lcd.clrScr(); lcd.setFont(SmallFont);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>350</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain">lcd.print(</code><code class="string">"Freq.counter"</code><code class="plain">,LEFT, 0);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>351</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain">lcd.setFont(MediumNumbers);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>352</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(freqm &lt;10000) { lcd.printNumI(freqm, CENTER, 8); lcd.setFont(SmallFont); lcd.print(</code><code class="string">"Herz"</code><code class="plain">,CENTER, 32 ); }</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>353</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(freqm &gt;=10000u &amp;&amp; freqm &lt; 1000000ul ) { lcd.printNumF( ((</code><code class="keyword">float</code><code class="plain">)freqm/1000),3 ,CENTER, 8);lcd.setFont(SmallFont);&nbsp; lcd.print(</code><code class="string">"KiloHerz"</code><code class="plain">,CENTER, 32 ); }</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>354</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(freqm &gt;=1000000ul ) { lcd.printNumF( ((</code><code class="keyword">float</code><code class="plain">)freqm/1000000ul),3 ,CENTER, 8); lcd.setFont(SmallFont); lcd.print(</code><code class="string">"MegaHerz"</code><code class="plain">,CENTER, 32 ); }&nbsp;&nbsp;&nbsp; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>355</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain">}&nbsp; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>356</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>357</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>358</code></td><td class="content"><code class="color1">//////////////////////////////////////////////////////////////////////</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>359</code></td><td class="content"><code class="keyword">void</code> <code class="plain">volt_meter() {</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>360</code></td><td class="content"><code class="plain">ADCSRA=(1&lt;&lt;ADEN)|(1&lt;&lt;ADPS2)|(1&lt;&lt;ADPS1)|(1&lt;&lt;ADPS0);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>361</code></td><td class="content"><code class="plain">ADCSRB=0; DIDR0=48; int_on();</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>362</code></td><td class="content"><code class="keyword">float</code> <code class="plain">ain,vcc;&nbsp; String ainstr,vccstr;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>363</code></td><td class="content"><code class="plain">lcd.clrScr(); lcd.setFont(SmallFont);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>364</code></td><td class="content"><code class="plain">lcd.print(</code><code class="string">"Volt meter"</code><code class="plain">,LEFT, 0);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>365</code></td><td class="content"><code class="keyword">while</code><code class="plain">(1){</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>366</code></td><td class="content"><code class="plain">ADMUX = (1&lt;&lt;REFS0)|(1&lt;&lt;MUX3)|(1&lt;&lt;MUX2)|(1&lt;&lt;MUX1); </code><code class="comments">//Vcc measure</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>367</code></td><td class="content"><code class="plain">delay(1); vcc=(</code><code class="keyword">float</code><code class="plain">)(1.1*65472) / analog_func();</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>368</code></td><td class="content"><code class="plain">vccstr=String(</code><code class="string">"Vcc= "</code><code class="plain">+String(vcc,3)+</code><code class="string">" v&nbsp; "</code><code class="plain">);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>369</code></td><td class="content"><code class="plain">lcd.print(vccstr,LEFT, 40);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>370</code></td><td class="content"><code class="plain">ADMUX = (1&lt;&lt;REFS0)|(1&lt;&lt;MUX2); </code><code class="comments">//A4 measure</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>371</code></td><td class="content"><code class="plain">delay(1); ain= analog_func()*vcc /65472 ; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>372</code></td><td class="content"><code class="plain">ainstr=String(</code><code class="string">"Ain4= "</code><code class="plain">+String(ain,3)+</code><code class="string">" v&nbsp; "</code><code class="plain">);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>373</code></td><td class="content"><code class="plain">lcd.print(ainstr,LEFT, 16);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>374</code></td><td class="content"><code class="plain">ADMUX = (1&lt;&lt;REFS0)|(1&lt;&lt;MUX2)|(1&lt;&lt;MUX0); </code><code class="comments">//A5 measure</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>375</code></td><td class="content"><code class="plain">delay(1); ain= analog_func() *vcc /65472 ; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>376</code></td><td class="content"><code class="plain">ainstr=String(</code><code class="string">"Ain5= "</code><code class="plain">+String(ain,3)+</code><code class="string">" v&nbsp; "</code><code class="plain">);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>377</code></td><td class="content"><code class="plain">lcd.print(ainstr,LEFT, 24);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>378</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">};</code><code class="comments">//end while</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>379</code></td><td class="content"><code class="plain">}</code><code class="comments">//end volt meter</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>380</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>381</code></td><td class="content"><code class="plain">uint32_t analog_func(){</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>382</code></td><td class="content"><code class="plain">uint32_t adc_buff=0;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>383</code></td><td class="content"><code class="keyword">for</code> <code class="plain">(</code><code class="keyword">int</code> <code class="plain">n=0; n&lt;=4095; n++ ) {</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>384</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">ADCSRA |= (1&lt;&lt;ADSC);&nbsp; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>385</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">while</code> <code class="plain">(bit_is_set(ADCSRA,ADSC));</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>386</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">adc_buff += ADC;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>387</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain">} </code><code class="keyword">return</code> <code class="plain">adc_buff&gt;&gt;=6;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>388</code></td><td class="content"><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>389</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>390</code></td><td class="content"><code class="color1">/////////////////////////////////////////////////////////////////</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>391</code></td><td class="content"><code class="keyword">void</code> <code class="plain">main_screen(){</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>392</code></td><td class="content"><code class="keyword">static</code> <code class="plain">boolean flag_exit =0; uint8_t n=84;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>393</code></td><td class="content"><code class="plain">lcd.setFont(SmallFont);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>394</code></td><td class="content"><code class="plain">lcd.print(</code><code class="string">"Freq.counter &gt;"</code><code class="plain">,LEFT, 8 );</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>395</code></td><td class="content"><code class="plain">lcd.print(</code><code class="string">"**************"</code><code class="plain">,LEFT,24);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>396</code></td><td class="content"><code class="plain">lcd.print(</code><code class="string">"&nbsp; Volt meter &gt;"</code><code class="plain">,LEFT, 40 );</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>397</code></td><td class="content"><code class="keyword">while</code><code class="plain">(flag_exit==0) { </code><code class="comments">//ждать нажатия кнопки режимов.</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>398</code></td><td class="content"><code class="plain">delay(350); lcd.clrRow(3,n); n-=6;&nbsp; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>399</code></td><td class="content"><code class="keyword">if</code> <code class="plain">(n==0) flag_exit=1;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>400</code></td><td class="content"><code class="keyword">if</code> <code class="plain">((PINC&amp;(1&lt;&lt;2))==0){ </code><code class="comments">// если нажата кнопка режимов</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>401</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">while</code> <code class="plain">((PINC&amp;(1&lt;&lt;2))==0);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>402</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">freq_meter();&nbsp;&nbsp; }</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>403</code></td><td class="content"><code class="keyword">if</code> <code class="plain">((PINC&amp;(1&lt;&lt;3))==0){ </code><code class="comments">// если нажата кнопка энкодера</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>404</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">while</code> <code class="plain">((PINC&amp;(1&lt;&lt;3))==0);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>405</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">volt_meter();&nbsp;&nbsp; }</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>406</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code><code class="comments">// end while</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>407</code></td><td class="content"><code class="plain">}</code><code class="comments">// end main_screen</code></td></tr></tbody></table></div></div></div>

<p>&nbsp;</p>
      </div>

          </div>
  </div>

  <div class="forum-post-footer clear-block">
    <div class="forum-jump-links">
      <a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#top" title="Jump to top of page">Верх</a>
    </div>

          <div class="forum-post-links">
        <ul class="links forum-links"><li class="comment_forbidden first"><span><a href="http://arduino.ru/user/login?destination=node%2F11357%23comment-form">Войдите</a> или <a href="http://arduino.ru/user/register?destination=node%2F11357%23comment-form">зарегистрируйтесь</a>, чтобы получить возможность отправлять комментарии</span></li>
<li class="vud_comment_votes_count last"></li>
</ul>      </div>
      </div>
</div><a id="comment-216892"></a>

    <div class="forum-post  clear-block">

  <div class="post-info clear-block">
    <div class="posted-on">
      Ср, 07/09/2016 - 23:07
          </div>

          <span class="post-num"><a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#comment-216892" class="active">#19</a> </span>
      </div>

  <div class="forum-post-wrapper">

    <div class="forum-post-panel-sub">
      

<div class="author-pane">
 <div class="author-pane-inner">
        <div class="author-pane-section author-pane-general">
            <div class="author-pane-line author-name">
        jeka_tm      </div>

                    
  <div class="picture">
          <img src="./Генератор с регулируемоей частотой на ардуино. _ Аппаратная платформа Arduino_files/picture-4939.gif" alt="jeka_tm аватар" title="jeka_tm аватар">      </div>
      
                    <div class="author-pane-line author-offline">
           Offline        </div>
      
            
            
            
                    <div class="author-pane-line author-joined">
          <span class="author-pane-label">Зарегистрирован:</span> 19.05.2013        </div>
      
            
                </div>

        <div class="author-pane-section author-pane-contact">
            
            
            
                </div>

        <div class="author-pane-section author-pane-admin">
            
          
               </div>
  </div>
</div>
    </div>

    <div class="forum-post-panel-main clear-block">
      
      <div class="content">
        <p>нет ничего такого. бери исходники димакса, выбери плату уно например и заливай с помощью программатора и все))</p>
<p>кстати правильно что свою. я резисторы цапа слишком близко друг другу расположил, неудобно было паять. у меня на 70% спаянная</p>
<p>+ не тестировал, просто включил. вроде работает, экран показывает, режимы переключаются</p>
<p><a href="http://arduino.ru/sites/default/files/u4939/img_2016-09-07_235612_hdr.jpg" class="lb lightbox-processed" rel="lightbox"><img alt="" src="./Генератор с регулируемоей частотой на ардуино. _ Аппаратная платформа Arduino_files/img_2016-09-07_235612_hdr-444x250.jpg" style="width:444px;height:250px;" width="444" height="250"></a></p>
      </div>

          </div>
  </div>

  <div class="forum-post-footer clear-block">
    <div class="forum-jump-links">
      <a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#top" title="Jump to top of page">Верх</a>
    </div>

          <div class="forum-post-links">
        <ul class="links forum-links"><li class="comment_forbidden first"><span><a href="http://arduino.ru/user/login?destination=node%2F11357%23comment-form">Войдите</a> или <a href="http://arduino.ru/user/register?destination=node%2F11357%23comment-form">зарегистрируйтесь</a>, чтобы получить возможность отправлять комментарии</span></li>
<li class="vud_comment_votes_count last"></li>
</ul>      </div>
      </div>
</div><a id="comment-221286"></a>

    <div class="forum-post  clear-block">

  <div class="post-info clear-block">
    <div class="posted-on">
      Пт, 23/09/2016 - 21:20
          </div>

          <span class="post-num"><a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#comment-221286" class="active">#20</a> </span>
      </div>

  <div class="forum-post-wrapper">

    <div class="forum-post-panel-sub">
      

<div class="author-pane">
 <div class="author-pane-inner">
        <div class="author-pane-section author-pane-general">
            <div class="author-pane-line author-name">
        man_200      </div>

                    
      
                    <div class="author-pane-line author-offline">
           Offline        </div>
      
            
            
            
                    <div class="author-pane-line author-joined">
          <span class="author-pane-label">Зарегистрирован:</span> 29.04.2016        </div>
      
            
                </div>

        <div class="author-pane-section author-pane-contact">
            
            
            
                </div>

        <div class="author-pane-section author-pane-admin">
            
          
               </div>
  </div>
</div>
    </div>

    <div class="forum-post-panel-main clear-block">
      
      <div class="content">
        <p><a href="http://arduino.ru/sites/default/files/u20005/dsc_2202.jpg" class="lb lightbox-processed" rel="lightbox"><img alt="" src="./Генератор с регулируемоей частотой на ардуино. _ Аппаратная платформа Arduino_files/dsc_2202-700x394.jpg" style="width:700px;height:394px;" width="700" height="394"></a></p>
      </div>

          </div>
  </div>

  <div class="forum-post-footer clear-block">
    <div class="forum-jump-links">
      <a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#top" title="Jump to top of page">Верх</a>
    </div>

          <div class="forum-post-links">
        <ul class="links forum-links"><li class="comment_forbidden first"><span><a href="http://arduino.ru/user/login?destination=node%2F11357%23comment-form">Войдите</a> или <a href="http://arduino.ru/user/register?destination=node%2F11357%23comment-form">зарегистрируйтесь</a>, чтобы получить возможность отправлять комментарии</span></li>
<li class="vud_comment_votes_count last"></li>
</ul>      </div>
      </div>
</div><a id="comment-247803"></a>

    <div class="forum-post  clear-block">

  <div class="post-info clear-block">
    <div class="posted-on">
      Чт, 29/12/2016 - 18:14
          </div>

          <span class="post-num"><a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#comment-247803" class="active">#21</a> </span>
      </div>

  <div class="forum-post-wrapper">

    <div class="forum-post-panel-sub">
      

<div class="author-pane">
 <div class="author-pane-inner">
        <div class="author-pane-section author-pane-general">
            <div class="author-pane-line author-name">
        treur      </div>

                    
      
                    <div class="author-pane-line author-offline">
           Offline        </div>
      
            
            
            
                    <div class="author-pane-line author-joined">
          <span class="author-pane-label">Зарегистрирован:</span> 18.10.2015        </div>
      
            
                </div>

        <div class="author-pane-section author-pane-contact">
            
            
            
                </div>

        <div class="author-pane-section author-pane-admin">
            
          
               </div>
  </div>
</div>
    </div>

    <div class="forum-post-panel-main clear-block">
      
      <div class="content">
        <p>Доброго времени суток dimax,</p>
<p>воспользовался кодом из поста #6 и появилось 2 вопроса:</p>
<p>1. Даю генератору частоту 0Hz, результат - если сразу после запуска, то не генерит, если до этого была дана частота, генерит предыдущую заданную. Как заставить остановиться по 0?</p>
<p>2. Есть ли какая возможность перевесить выход с D9 на D3?</p>
      </div>

          </div>
  </div>

  <div class="forum-post-footer clear-block">
    <div class="forum-jump-links">
      <a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#top" title="Jump to top of page">Верх</a>
    </div>

          <div class="forum-post-links">
        <ul class="links forum-links"><li class="comment_forbidden first"><span><a href="http://arduino.ru/user/login?destination=node%2F11357%23comment-form">Войдите</a> или <a href="http://arduino.ru/user/register?destination=node%2F11357%23comment-form">зарегистрируйтесь</a>, чтобы получить возможность отправлять комментарии</span></li>
<li class="vud_comment_votes_count last"></li>
</ul>      </div>
      </div>
</div><a id="comment-247826"></a>

    <div class="forum-post  clear-block">

  <div class="post-info clear-block">
    <div class="posted-on">
      Пнд, 17/07/2017 - 16:10
          </div>

          <span class="post-num"><a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#comment-247826" class="active">#22</a> </span>
      </div>

  <div class="forum-post-wrapper">

    <div class="forum-post-panel-sub">
      

<div class="author-pane">
 <div class="author-pane-inner">
        <div class="author-pane-section author-pane-general">
            <div class="author-pane-line author-name">
        dimax      </div>

                    
  <div class="picture">
          <img src="./Генератор с регулируемоей частотой на ардуино. _ Аппаратная платформа Arduino_files/picture-6856.jpg" alt="dimax аватар" title="dimax аватар">      </div>
      
                    <div class="author-pane-line author-offline">
           Offline        </div>
      
            
            
            
                    <div class="author-pane-line author-joined">
          <span class="author-pane-label">Зарегистрирован:</span> 25.12.2013        </div>
      
            
                </div>

        <div class="author-pane-section author-pane-contact">
            
            
            
                </div>

        <div class="author-pane-section author-pane-admin">
            
          
               </div>
  </div>
</div>
    </div>

    <div class="forum-post-panel-main clear-block">
      
      <div class="content">
        <p>"Терминальная" версия генератора. Запустить терминалку, послать требуемую частоту в герцах. В ответ напишется та частота, которую смог сделать МК.</p>
<div id="highlighter_868071" class="syntaxhighlighter  "><div class="bar"><div class="toolbar"><a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#viewSource" title="код" class="item viewSource" style="width: 16px; height: 16px;">код</a><div class="item copyToClipboard"><embed width="16" height="16" id="highlighter_868071_clipboard" type="application/x-shockwave-flash" title="скопировать" allowscriptaccess="always" wmode="transparent" flashvars="highlighterId=highlighter_868071" menu="false" src="/sites/all/libraries/syntaxhighlighter/scripts/clipboard.swf"></div><a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#printSource" title="расечатать" class="item printSource" style="width: 16px; height: 16px;">расечатать</a><a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#about" title="?" class="item about" style="width: 16px; height: 16px;">?</a></div></div><div class="lines"><div class="line alt1"><table><tbody><tr><td class="number"><code>01</code></td><td class="content"><code class="keyword">void</code> <code class="keyword">setup</code><code class="plain">() {</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>02</code></td><td class="content"><code class="keyword">Serial</code><code class="plain">.begin(9600);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>03</code></td><td class="content"><code class="plain">pinMode (9,OUTPUT); </code><code class="comments">// выход генератора</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>04</code></td><td class="content"><code class="plain">TCCR1A=0;TCCR1B=0;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>05</code></td><td class="content"><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>06</code></td><td class="content"><code class="keyword">void</code> <code class="keyword">loop</code><code class="plain">() {</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>07</code></td><td class="content"><code class="keyword">static</code> <code class="plain">uint32_t reqfreq=0; </code><code class="comments">//переменная запроса частоты</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>08</code></td><td class="content"><code class="plain">uint32_t ocr=OCR1A;&nbsp; uint16_t divider=1;&nbsp; </code><code class="keyword">float</code> <code class="plain">freq; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>09</code></td><td class="content"><code class="keyword">if</code> <code class="plain">(</code><code class="keyword">Serial</code><code class="plain">.available() &gt; 0){ reqfreq = </code><code class="keyword">Serial</code><code class="plain">.parseInt(); </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>10</code></td><td class="content"><code class="keyword">if</code> <code class="plain">(reqfreq==0 || reqfreq&gt;F_CPU/2) {</code><code class="keyword">return</code><code class="plain">;}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>11</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="plain">ocr = (F_CPU / reqfreq /2 /divider); </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>12</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="keyword">byte</code> <code class="plain">shifts[] = {3,3,2,2};</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>13</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="keyword">for</code><code class="plain">(</code><code class="keyword">byte</code> <code class="plain">i = 0; i &lt; 4; i++){</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>14</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(ocr &gt; 65536) { divider &lt;&lt;= shifts[i];</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>15</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">ocr = F_CPU / reqfreq /2 /divider; }</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>16</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">else</code> <code class="plain">{ TCCR1B = (i+1)|(1&lt;&lt;WGM12);&nbsp; </code><code class="keyword">break</code><code class="plain">; }&nbsp; } </code><code class="comments">//Mode4 (CTC)</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>17</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">OCR1A=ocr-1; TCCR1A=1&lt;&lt;COM1A0;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>18</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">freq= (</code><code class="keyword">float</code><code class="plain">) F_CPU/2 / (OCR1A+1) /divider;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>19</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(freq &lt;10000) { </code><code class="keyword">Serial</code><code class="plain">.print(freq,1);</code><code class="keyword">Serial</code><code class="plain">.println(</code><code class="string">" Hz "</code><code class="plain">); }</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>20</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="keyword">if</code> <code class="plain">(freq &gt;=10000) { </code><code class="keyword">Serial</code><code class="plain">.print(freq/1000,3);</code><code class="keyword">Serial</code><code class="plain">.println(</code><code class="string">" kHz"</code><code class="plain">);}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>21</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>22</code></td><td class="content"><code class="plain">} </code></td></tr></tbody></table></div></div></div>

<p>&nbsp;</p>
      </div>

          </div>
  </div>

  <div class="forum-post-footer clear-block">
    <div class="forum-jump-links">
      <a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#top" title="Jump to top of page">Верх</a>
    </div>

          <div class="forum-post-links">
        <ul class="links forum-links"><li class="comment_forbidden first"><span><a href="http://arduino.ru/user/login?destination=node%2F11357%23comment-form">Войдите</a> или <a href="http://arduino.ru/user/register?destination=node%2F11357%23comment-form">зарегистрируйтесь</a>, чтобы получить возможность отправлять комментарии</span></li>
<li class="vud_comment_votes_count last"></li>
</ul>      </div>
      </div>
</div><a id="comment-296530"></a>

    <div class="forum-post  clear-block">

  <div class="post-info clear-block">
    <div class="posted-on">
      Пнд, 17/07/2017 - 21:45
          </div>

          <span class="post-num"><a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#comment-296530" class="active">#23</a> </span>
      </div>

  <div class="forum-post-wrapper">

    <div class="forum-post-panel-sub">
      

<div class="author-pane">
 <div class="author-pane-inner">
        <div class="author-pane-section author-pane-general">
            <div class="author-pane-line author-name">
        dimax      </div>

                    
  <div class="picture">
          <img src="./Генератор с регулируемоей частотой на ардуино. _ Аппаратная платформа Arduino_files/picture-6856.jpg" alt="dimax аватар" title="dimax аватар">      </div>
      
                    <div class="author-pane-line author-offline">
           Offline        </div>
      
            
            
            
                    <div class="author-pane-line author-joined">
          <span class="author-pane-label">Зарегистрирован:</span> 25.12.2013        </div>
      
            
                </div>

        <div class="author-pane-section author-pane-contact">
            
            
            
                </div>

        <div class="author-pane-section author-pane-admin">
            
          
               </div>
  </div>
</div>
    </div>

    <div class="forum-post-panel-main clear-block">
      
      <div class="content">
        <p>Сделал новую версию генератора полностью на новом железе. (Все картинки кликабельны).</p>
<p><a href="http://out.arduino.ru/?redirect=https%3A%2F%2Fimg-fotki.yandex.ru%2Fget%2F241199%2F118551841.a%2F0_dfa41_224b587b_orig.jpg&amp;baseU=http%3A%2F%2Farduino.ru%2Fforum%2Fproekty%2Fgenerator-s-reguliruemoei-chastotoi-na-arduino" rel="nofollow" target="_blank"><img alt="" src="./Генератор с регулируемоей частотой на ардуино. _ Аппаратная платформа Arduino_files/gen_3_04.jpg" style="width:220px;height:147px;"></a><a href="http://out.arduino.ru/?redirect=https%3A%2F%2Fimg-fotki.yandex.ru%2Fget%2F227342%2F118551841.a%2F0_dfa29_d91bfa37_orig.jpg&amp;baseU=http%3A%2F%2Farduino.ru%2Fforum%2Fproekty%2Fgenerator-s-reguliruemoei-chastotoi-na-arduino" rel="nofollow" target="_blank"><img alt="" src="./Генератор с регулируемоей частотой на ардуино. _ Аппаратная платформа Arduino_files/gen_3_00.jpg" style="width:220px;height:147px;"></a><a href="http://out.arduino.ru/?redirect=https%3A%2F%2Fimg-fotki.yandex.ru%2Fget%2F243492%2F118551841.a%2F0_dfa2a_17af3d3_orig.jpg&amp;baseU=http%3A%2F%2Farduino.ru%2Fforum%2Fproekty%2Fgenerator-s-reguliruemoei-chastotoi-na-arduino" rel="nofollow" target="_blank"><img alt="" src="./Генератор с регулируемоей частотой на ардуино. _ Аппаратная платформа Arduino_files/gen_3_01.jpg" style="width:220px;height:235px;"></a></p>
<p>На написание ушёл месяц -учитывая что было освоение доселе неизвестного МК, а программа вышла под 400 строк - то наверное это не долго :) В качестве контроллера использована плата на МК STM32F103C8T6, в качестве среды программирования всё тот-же Arduino IDE, но с установленным аддоном для stm32. О плате, и о том как поставить аддон и зашить в неё USB-бутлоадер красочно<a href="http://out.arduino.ru/?redirect=https%3A%2F%2Fgeektimes.ru%2Fpost%2F277928%2F&amp;baseU=http%3A%2F%2Farduino.ru%2Fforum%2Fproekty%2Fgenerator-s-reguliruemoei-chastotoi-na-arduino" rel="nofollow" target="_blank"> рассказал</a> наш коллега HWMan, так что освещать этот вопрос не буду. Так же использовал современный TFT дисплей на контроллере st7735, что-б устройство было посимпатичнее. Строка для поиска дисплея на Али 1.8" inch TFT LCD Display module ST7735S 128x160 От кнопки для переключения режимов отказался. Теперь всё делает энкодер. Из-за особенностей обработчика нужно что-бы энкодер выдавал на один щелчок один или два полных импульса. Классический энкодер ардуинщиков ky-040 выдаёт половинку импульса, поэтому крайне не рекомендуется. Он работать будет, но срабатывать станет через щелчок. Строка для поиска на Али: "Rotary encoder EC11"</p>
<p>&nbsp; <a href="http://out.arduino.ru/?redirect=https%3A%2F%2Fimg-fotki.yandex.ru%2Fget%2F517808%2F118551841.a%2F0_dfa2d_fc55547b_orig.jpg&amp;baseU=http%3A%2F%2Farduino.ru%2Fforum%2Fproekty%2Fgenerator-s-reguliruemoei-chastotoi-na-arduino" rel="nofollow" target="_blank"><img alt="" src="./Генератор с регулируемоей частотой на ардуино. _ Аппаратная платформа Arduino_files/no_ky-40.jpg" style="width:100px;height:104px;"></a><a href="http://out.arduino.ru/?redirect=https%3A%2F%2Fimg-fotki.yandex.ru%2Fget%2F5647%2F118551841.a%2F0_dfa2c_45bf2ca0_orig.jpg&amp;baseU=http%3A%2F%2Farduino.ru%2Fforum%2Fproekty%2Fgenerator-s-reguliruemoei-chastotoi-na-arduino" rel="nofollow" target="_blank"><img alt="" src="./Генератор с регулируемоей частотой на ардуино. _ Аппаратная платформа Arduino_files/ec-11.jpg" style="width:100px;height:100px;"></a></p>
<p><strong>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Тех. характеристики: </strong></p>
<p><strong><em>Генерация прямоугольного сигнала</em></strong> от 1Гц до 36МГц.&nbsp; От 1Гц&nbsp; д &nbsp; 8кГц&nbsp; возможен шаг изменения&nbsp; 1Герц, далее мин.шаг увеличивается в соответствии с делением тактовой частоты (72МГц) на целочисленные делители. Для понимания масштаба: на 20кГц шаг уже 6 Герц, на 50 кГц -35гц, на 100кГц - 140Гц на 500кГц - шаг уже 3,5кГц. на 1МГц -шаг 14кГц. Последние частоты в шкале возможных, на которых будет работать генератор такие: 8Мгц, 9МГц, 10.286МГц,12МГц, 14.4МГц, 18МГц, 24МГц, 36МГц <em><strong>Регулировка шага изменения частоты</strong></em>. 1-10-100-1000 Герц В pwm-режиме на частотах свыше 8кГц шаг уже не означает чёткую привязку к Герцам, т.к. шаг тут перепривязан к делителю таймера. <em><strong>Регулировка заполнения</strong></em>( далее duty) в процентах. До частоты 720кГц с шагом 1%. При изменении частоты выбранный duty сохраняется. Выше 720кГц шаг начинает возрастать, но вращение энкодера по прежнему меняет по 1% , т.е. возникает пустой ход. Этот момент я не исправлял в связи с ненадобностью такой регулировки на высоких частотах. duty при регулировке частоты свыше 720кГц сбрасыватся на 50%, но в режиме регулировки duty его снова можно изменить. <em><strong>В режиме DDS </strong></em>возможен выбор следующих форм сигналов: синус, треугольник, пила двух видов, меандр. В этом режиме шаг чётко соответсвует фактическому шагу в герцах. Частота условно ограничена на 200кГц. Ограничение можно изменить в 259 строке. До 100кГц сигнал вполне приличный, без существенных изломов. О фактической разрядности DDS уточнение будет ниже. На осцилограмме синус 150кГц</p>
<p><a href="http://out.arduino.ru/?redirect=https%3A%2F%2Fimg-fotki.yandex.ru%2Fget%2F483372%2F118551841.a%2F0_dfa33_e8a9a829_orig.png&amp;baseU=http%3A%2F%2Farduino.ru%2Fforum%2Fproekty%2Fgenerator-s-reguliruemoei-chastotoi-na-arduino" rel="nofollow" target="_blank"><img alt="" src="./Генератор с регулируемоей частотой на ардуино. _ Аппаратная платформа Arduino_files/gen_3_03.png" style="width:200px;height:120px;"></a></p>
<p><em><strong>Частотометр. Измеряемый диапазон</strong></em> от 1Герца до 32МГц. Менее одного герца -покажет 0. Более 33МГц начнёт врать. Относительная точность измерения на частотах до 1кГц -примерно 0,1Гц Выше 1кГц -1 Герц. Вольтметр как в версии 2.4 не стал делать за не надобностью. Да и встроенного опорника в этом МК нету. Но свободный аналоговый вход если что остался (PB1). Теоретически возможно дописать в устройство и функцию осциллографа, - благо и флеша и памяти ещё очень много. Но мне он не нужен, а в образовательных целях ломливо.. так что функционально проект развиваться дальше не будет :(</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <strong>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; Интерфейсы. </strong></p>
<p>Устройство имеет: <em>вход частотометра</em>. Ввиду отсутствия каких-либо входных цепей подразумевается подача TTL уровней (размахом 3..5 вольт). <em>Два комплементарных выхода таймера</em> (A8 и A7). <em>И выход DDS</em>. Один из комплементарных выходов таймера (А7) физически сидит на старшем бите порта АЦП, поэтому в PWM Mode можно снимать сигнал таймера как с пина A7, так и с выхода R2R АЦП, но стоит учитывать, что фронты на высоких частотах будут сильно сглаживаться. Поэтому для работы с В.Ч. предпочтительней использовать отдельный выход с пина. Выход PWM2 по умолчанию негатив, его можно изменить на позитив в первом дефайне программы. Комплементарные выходы можно сделать с настраиваемым dead-таймом, но за отсутствием надобности и в связи с тем, что это не увязывается с регулировкой заполнения, я в программе не использовал такую возможность. Но пример использования оставил в закомментированной строчке 293. В ней максимальный дидтайм, и выглядит это вот так:</p>
<p><a href="http://out.arduino.ru/?redirect=https%3A%2F%2Fimg-fotki.yandex.ru%2Fget%2F362774%2F118551841.a%2F0_dfa32_b988c5a_orig.png&amp;baseU=http%3A%2F%2Farduino.ru%2Fforum%2Fproekty%2Fgenerator-s-reguliruemoei-chastotoi-na-arduino" rel="nofollow" target="_blank"><img alt="" src="./Генератор с регулируемоей частотой на ардуино. _ Аппаратная платформа Arduino_files/gen_3_02.png" style="width:200px;height:120px;"></a></p>
<p><em><strong>На дисплее </strong></em>отображается название режима, частота. В режимах PWMMode, Duty, Freq.meter так же отображатся условная осциллограмма , тайминги, и процент заполнения. В DDS режимах отображается статическая картинка режима. Так же добавлен электромагнитный излучатель (без встроенного генератора!) для "озвучивания" энкодера. Каждое переключение (частота/режим/ шаг) сопровождается звуковым сигналом соответствующей тональности. С озвучкой работа с генератором стала удобнее. Уровни выходных сигналов: С выходов PWM -стандартный TTL 3.3v . С выхода DDS 1,2v амплитудное (0,9v rms) -это конечно маловато, но я не вспомнил случаев когда мне требовалось напряжение более 1 вольта. А вот менее вольта -часто требовалось, поэтому установил ещё подстроечный резистор на всякий случай. Если его не ставить, то напряжение будет выше. В идеале конечно стоит установить ОУ на выход DDS что б усилить сигнал по напряжению и по току. Мне было лень..) Монтаж: когда развёл в спринте половину платы то понял, что кол-во перемычек уже превышает здравый смысл. Нужно было перерисовывать на 2х сторонний вариант. Это показалось долгим и нудным, поэтому сделал просто на макетке, и все соединения МГТФом. На разведённой печатке только матрица R2R.</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<strong>&nbsp; Управление:</strong></p>
<p>Вращение ручки энкодера меняет частоту с установленным шагом. Если вращать с нажатой ручкой то будет меняться режим работы Если просто нажать и отпустить ручку - меняется шаг. Если в режиме Duty нажать и отпустить -перейдёт обратно в режим PWM Mode</p>
<p><strong>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Схема:</strong></p>
<p><strong><a href="http://out.arduino.ru/?redirect=https%3A%2F%2Fimg-fotki.yandex.ru%2Fget%2F108168%2F118551841.a%2F0_dfa3a_f0e22348_orig.jpg&amp;baseU=http%3A%2F%2Farduino.ru%2Fforum%2Fproekty%2Fgenerator-s-reguliruemoei-chastotoi-na-arduino" rel="nofollow" target="_blank"><img alt="" src="./Генератор с регулируемоей частотой на ардуино. _ Аппаратная платформа Arduino_files/gen_v3_1.jpg" style="width:200px;height:130px;"></a></strong></p>
<p>Что бы не делать кучу разъёмов можно использовать реле, которое будет коммутировать выходы на разъём в зависимости от текущего режима.&nbsp;&nbsp;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<strong>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Программа: </strong></p>
<p>pwm генератор работает на тех-же принципах что и в предыдущей версии, изменения коснулись сущих мелочей. DDS генератор благодаря 32-битному МК упростился, теперь вставка на ассемблере не нужна. Алгоритм написан буквально в одной строчке на Си. Синус и прочие формы рассчитываются перед запуском режима автоматически и записываются в буфер на 512 байт. Скорость отправки на R2R АЦП примерно 3M Samples/sec Что в два раза больше, чем было на меге328. Соответссно полная таблица wave-формы может считываться до частоты ~6кГц На более высоких частотах алгоритм начинает пропуски элементов таблицы. Нетрудно подсчитать число фактических градаций сигнала: нужно 3М разделить на частоту сигнала. Частотометр изменяет частоту в два захода. В первом измеряется количество тактов входящего сигнала за 1 секунду - в этом режиме трудятся в симбиозе аж три таймера. Первый даёт разрешение на счёт в течении 1 секунды второму таймеру. Второй досчитав до 65535 даёт такт третьему таймеру, а сам продолжает с ноля. Всё без использования прерываний. Таким образом суммарное разрешение таймеров в этом режиме 32 бита. Если измеренная частота оказалась ниже 1МГц, то вторым этапом измеряется длина единицы и ноля, вычисляется duty. Я не придавал особого значения точности, второй режим как дополнительный для украшения дисплея псевдо-осциллограмкой, которая отображает только соотношения распознанных 0 и 1 , но не форму сигнала. Но частоты менее 1кГц он измеряет точнее чем первый проход. Поэтому как конечный результат измерения в этом случае выводится результат второго захода. Программа написана с использованием возможностей Maple Library Это библиотека поддержки перефирии STM32 от компании Лифлабс, производителя ардуино-образных плат на мк STM, которая уже входит в состав аддонa для Arduino IDE. Для дисплея используется две библиотеки. Одна (Adafruit_GFX) уже есть в составе аддона. Вторую нужно поставить дополнительно, брать <a href="http://out.arduino.ru/?redirect=https%3A%2F%2Fgithub.com%2FKenjutsuGH%2FAdafruit-ST7735-Library&amp;baseU=http%3A%2F%2Farduino.ru%2Fforum%2Fproekty%2Fgenerator-s-reguliruemoei-chastotoi-na-arduino" rel="nofollow" target="_blank">тут</a>.</p>
<div id="highlighter_872743" class="syntaxhighlighter collapsed  "><div class="bar"><div class="toolbar"><a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#expandSource" title="показать код" class="item expandSource" style="width: 16px; height: 16px;">показать код</a><a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#viewSource" title="код" class="item viewSource" style="width: 16px; height: 16px;">код</a><div class="item copyToClipboard"><embed width="16" height="16" id="highlighter_872743_clipboard" type="application/x-shockwave-flash" title="скопировать" allowscriptaccess="always" wmode="transparent" flashvars="highlighterId=highlighter_872743" menu="false" src="/sites/all/libraries/syntaxhighlighter/scripts/clipboard.swf"></div><a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#printSource" title="расечатать" class="item printSource" style="width: 16px; height: 16px;">расечатать</a><a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#about" title="?" class="item about" style="width: 16px; height: 16px;">?</a></div></div><div class="lines"><div class="line alt1"><table><tbody><tr><td class="number"><code>001</code></td><td class="content"><code class="comments">/*Генератор с регулируемой частотой v3.0 (C)Dimax */</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>002</code></td><td class="content"><code class="preprocessor">#define pwm2_polar 0 //полярность выхода PWM2</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>003</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="preprocessor">#define paper&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0x000000 // цвет фона экрана</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>004</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="preprocessor">#include &lt;Adafruit_GFX_AS.h&gt;&nbsp;&nbsp;&nbsp; // Core graphics library</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>005</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="preprocessor">#include &lt;Adafruit_ST7735.h&gt; // Hardware-specific library</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>006</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="preprocessor">#include &lt;SPI.h&gt; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>007</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">Adafruit_ST7735 tft = Adafruit_ST7735(PB12, PB11,PB10); </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>008</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">volatile </code><code class="keyword">int</code> <code class="plain">enc_tic=0, duty_in=50, divider, mon_flag, modebit=1, tim_mode=0, mode=0;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>009</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">volatile </code><code class="keyword">int</code> <code class="plain">encstep=1; </code><code class="comments">//шаг изменения частоты по умолчанию </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>010</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">volatile </code><code class="keyword">float</code> <code class="plain">freq=1000; </code><code class="comments">//частота по умолчанию</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>011</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">volatile </code><code class="keyword">float</code> <code class="plain">duty_out;</code><code class="comments">// переменная счёта скважности</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>012</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="keyword">float</code> <code class="plain">t_hi, t_low; </code><code class="comments">//переменные счёта длины импульсов</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>013</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">uint8_t wave[512]; </code><code class="comments">//массив для DDS синтеза</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>014</code></td><td class="content"><code class="keyword">byte</code> <code class="plain">sine_logo[]={25,27,28,30,31,33,34,36,37,38,40,41,42,43,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>015</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">44,45,46,47,48,48,49,49,50,50,50,50,50,50,50,49,49,48,48,47,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>016</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain">46,45,44,43,42,41,40,38,37,36,34,33,31,30,28,27,25,23,22,20,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>017</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">19,17,16,14,13,12,10,9,8,7,6,5,4,3,2,2,1,1,0,0,0,0,0,0,0,1,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>018</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">1,2,2,3,4,5,6,7,8,9,10,12,13,14,16,17,19,20,22,23};</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>019</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>020</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">void</code> <code class="keyword">setup</code><code class="plain">() {</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>021</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">SPI.setModule(2);</code><code class="comments">// выбор SPI2</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>022</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.initR(INITR_BLACKTAB);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>023</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.setRotation(3);</code><code class="comments">//дисплей горизонтально, контакты слева</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>024</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.fillScreen(paper);</code><code class="comments">//залить цветом по умолчанию</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>025</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.setTextWrap(0);</code><code class="comments">//не переосить строки</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>026</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain">nvic_irq_disable_all();</code><code class="comments">//отключить все прерывания</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>027</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">systick_disable(); </code><code class="comments">// отключить системный таймер</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>028</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="plain">RCC_BASE-&gt;APB1ENR|= (1&lt;&lt;2)|(1&lt;&lt;1)|(1&lt;&lt;0); </code><code class="comments">//включить тактирование tim-2,3,4</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>029</code></td><td class="content"><code class="plain">RCC_BASE-&gt;APB2ENR|= (1&lt;&lt;3)|(1&lt;&lt;11)|(1&lt;&lt;2)|(1&lt;&lt;0)|(1&lt;&lt;4);</code><code class="color1">////включить тактирование port-a-b-c,tim1</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>030</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="plain">AFIO_BASE-&gt;MAPR=(1&lt;&lt;8)|(1&lt;&lt;6); </code><code class="comments">//tim 1 &amp;&amp; tim 2 Partial remap</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>031</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">pinMode(PB0,PWM); </code><code class="comments">//buzzer</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>032</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain">pinMode(PB6,INPUT_PULLUP);</code><code class="comments">//enc</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>033</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">pinMode(PB7,INPUT_PULLUP);</code><code class="comments">//enc</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>034</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">pinMode(PB8,INPUT_PULLUP);</code><code class="comments">//key enc</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>035</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">mytone(1000,50);</code><code class="comments">//сигнал после старта</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>036</code></td><td class="content"><code class="color1">///////// Таймер4 -обработчик энкодера&nbsp;&nbsp;&nbsp;&nbsp; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>037</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER4_BASE-&gt;CR1=(1&lt;&lt;2)|(1&lt;&lt;9);</code><code class="comments">//CKD10 URS</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>038</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER4_BASE-&gt;CCMR1=0xf1f1; (1&lt;&lt;0)|(1&lt;&lt;8 );</code><code class="comments">//cc1s, cc2s input mapped TI1/TI2</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>039</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER4_BASE-&gt;CCER=(1&lt;&lt;1)|(1&lt;&lt;5)|(1&lt;&lt;0)|(1&lt;&lt;4);</code><code class="comments">//Capture/Compare 1,2 output polarity</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>040</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER4_BASE-&gt;SMCR=(1&lt;&lt;1)|(1&lt;&lt;0);</code><code class="comments">//Encoder mode3(SMS bit)стр.407</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>041</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER4_BASE-&gt;CNT=0;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>042</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">TIMER4_BASE-&gt;ARR=1;</code><code class="comments">//ограничение счёта ( =3 для двухимпульсного энкодера)</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>043</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">TIMER4_BASE-&gt;SR=0; TIMER4_BASE-&gt;EGR=1; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>044</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="plain">timer_attach_interrupt(TIMER4, TIMER_UPDATE_INTERRUPT, enc_int);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>045</code></td><td class="content"><code class="plain">TIMER4_BASE-&gt;CR1|=(1&lt;&lt;0);</code><code class="comments">//запуск </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>046</code></td><td class="content"><code class="comments">//прерывание кнопки энкодера</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>047</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="plain">attachInterrupt(PB8, key_enc_int, RISING);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>048</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">timer_set();</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>049</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>050</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>051</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>052</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>053</code></td><td class="content"><code class="keyword">void</code> <code class="keyword">loop</code><code class="plain">() {</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>054</code></td><td class="content"><code class="keyword">static</code> <code class="keyword">int</code> <code class="plain">old_mode_loop=-1;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>055</code></td><td class="content"><code class="keyword">if</code> <code class="plain">(freq &gt; 8485) {tim_mode=1;} </code><code class="keyword">else</code> <code class="plain">{tim_mode=0;}</code><code class="comments">// переключать режимы таймера</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>056</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(mode!=old_mode_loop) {</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>057</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.fillScreen(paper); old_mode_loop=mode; mon_flag=1;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>058</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code><code class="comments">//чистить полностью экран только при смене режимов</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>059</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(mode==7) {mon_out(); freq_meter();&nbsp; }</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>060</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(mode &gt;1 &amp;&amp; mode&lt;7) { mon_out();&nbsp; dds_set(); } </code><code class="comments">// запуск DDS режимов</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>061</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="keyword">if</code> <code class="plain">(mon_flag) { mon_out();} </code><code class="comments">//в остальных ситуациях при наличии флага вывода на дисплей </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>062</code></td><td class="content"><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>063</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code>&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>064</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>065</code></td><td class="content"><code class="keyword">void</code> <code class="plain">freq_meter(){</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>066</code></td><td class="content"><code class="color1">/////////////////////счётчик импульсов\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>067</code></td><td class="content"><code class="plain">pinMode(PA15,INPUT_PULLDOWN); </code><code class="comments">// вход частотометра</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>068</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="plain">uint32_t imp_long,imp_hi;</code><code class="comments">//переменные измерения длины такта</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>069</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain">__asm volatile( </code><code class="string">"cpsid i"</code> <code class="plain">);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>070</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="color1">/// Timer2 счёт младших 16 бит</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>071</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER2_BASE-&gt;CR1=0;</code><code class="comments">//стоп таймер</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>072</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER2_BASE-&gt;CCER=0; TIMER2_BASE-&gt;PSC=0;&nbsp; TIMER2_BASE-&gt;CNT=0; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>073</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER2_BASE-&gt;CCR1=0; TIMER2_BASE-&gt;CCR2=0; TIMER2_BASE-&gt;CCR3=0; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>074</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER2_BASE-&gt;CCR4=0;TIMER2_BASE-&gt;PSC=0;TIMER2_BASE-&gt;SR=0;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>075</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER2_BASE-&gt;CCMR2=0;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>076</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER2_BASE-&gt;CR2=1&lt;&lt;5; </code><code class="comments">//MMS:010 управление подчинённым в режиме "Update" </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>077</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER2_BASE-&gt;SMCR= (1&lt;&lt;14);</code><code class="comments">// ECE &amp; TS:000&nbsp; режим 2 внешнего тактирования &amp; разрешение работы от таймера1</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>078</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER2_BASE-&gt;ARR=65535; </code><code class="comments">//считать до максимума</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>079</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER2_BASE-&gt;EGR=1; </code><code class="comments">//перечитать регистры.</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>080</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER2_BASE-&gt;CR1|=(1&lt;&lt;0);</code><code class="comments">//start timer2</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>081</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="color1">/// Timer3 счёт старших 16 бит</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>082</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER3_BASE-&gt;CR1=1&lt;&lt;0;</code><code class="comments">//стоп таймер</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>083</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER3_BASE-&gt;CCER=0; TIMER3_BASE-&gt;PSC=0; TIMER3_BASE-&gt;CNT=0; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>084</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER3_BASE-&gt;CCR1=0; TIMER3_BASE-&gt;CCR2=0; TIMER3_BASE-&gt;CCR3=0; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>085</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">TIMER3_BASE-&gt;CCR4=0;TIMER3_BASE-&gt;PSC=0;TIMER3_BASE-&gt;SR=0;TIMER3_BASE-&gt;CR2=0;&nbsp; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>086</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="plain">TIMER3_BASE-&gt;CCMR1=0; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>087</code></td><td class="content"><code class="plain">TIMER3_BASE-&gt;SMCR=(1&lt;&lt;2)|(1&lt;&lt;1)|(1&lt;&lt;0)|(1&lt;&lt;4);</code><code class="comments">//SMS:111 &amp;&amp; TS:001&nbsp; такт брать от 2-го таймера&nbsp; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>088</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="plain">TIMER3_BASE-&gt;ARR=65535; </code><code class="comments">//считать до </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>089</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">TIMER3_BASE-&gt;EGR=1; </code><code class="comments">//перечитать регистры.</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>090</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER3_BASE-&gt;CR1|=(1&lt;&lt;0);</code><code class="comments">//start timer3</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>091</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="color1">/// настройка времени разрешения на таймере1 для таймера2</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>092</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER1_BASE-&gt;CR1=(1&lt;&lt;3)|(1&lt;&lt;2);</code><code class="comments">//один импульс, без прерываний</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>093</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER1_BASE-&gt;CNT=0;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>094</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER1_BASE-&gt;CR2=(1&lt;&lt;4);&nbsp; </code><code class="comments">//MMS:001 сигнал разрешения работы другим таймерам</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>095</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER1_BASE-&gt;CCER=0;</code><code class="comments">// отключить выходы таймера на физ ноги</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>096</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER1_BASE-&gt;PSC=1999; </code><code class="comments">// 72000000/20000= 36000кГц тактовая таймера </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>097</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER1_BASE-&gt;ARR=35999;</code><code class="comments">//считать до 36000 (1секунда) </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>098</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER1_BASE-&gt;EGR=1; </code><code class="comments">//перечитать регистры.</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>099</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER1_BASE-&gt;CR1|=(1&lt;&lt;0);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>100</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">__asm volatile( </code><code class="string">"cpsie i"</code> <code class="plain">);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>101</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">while</code> <code class="plain">(TIMER1_BASE-&gt;CR1&amp;1) {asm volatile(</code><code class="string">"nop"</code><code class="plain">); </code><code class="keyword">if</code><code class="plain">(mon_flag) {</code><code class="keyword">return</code><code class="plain">;}&nbsp; }</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>102</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">freq=&nbsp; TIMER3_BASE-&gt;CNT&lt;&lt;16&nbsp; | TIMER2_BASE-&gt;CNT ;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>103</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(freq&gt;1E6){ t_low=0;t_hi=0; duty_out=50;</code><code class="keyword">return</code><code class="plain">;} </code><code class="comments">//выйти если freq больше мегагерца</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>104</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="comments">// Перенастройка таймера 2 в режии измерения длительности импульса и скважности</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>105</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="plain">divider=1;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>106</code></td><td class="content"><code class="keyword">while</code> <code class="plain">((72E6/divider/((freq&gt;0)? freq : 1 )) &gt; 65000) {divider++;}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>107</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="plain">__asm volatile( </code><code class="string">"cpsid i"</code> <code class="plain">);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>108</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">TIMER2_BASE-&gt;CR1=0;</code><code class="comments">//стоп таймер</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>109</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER2_BASE-&gt;CCER=0; TIMER2_BASE-&gt;PSC=0;&nbsp; TIMER2_BASE-&gt;CNT=0; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>110</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER2_BASE-&gt;CCR1=0; TIMER2_BASE-&gt;CCR2=0; TIMER2_BASE-&gt;CCR3=0; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>111</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER2_BASE-&gt;CCR4=0;TIMER2_BASE-&gt;PSC=0;TIMER2_BASE-&gt;SR=0;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>112</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER2_BASE-&gt;CCMR2=0;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>113</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER2_BASE-&gt;CR2=0;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>114</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER2_BASE-&gt;PSC= divider-1;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>115</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER2_BASE-&gt;SMCR=(1&lt;&lt;4)|(1&lt;&lt;6)|(1&lt;&lt;2);</code><code class="comments">// TS:101 SMS:100&nbsp; вход TI1FP1&nbsp; , Режим сброса</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>116</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER2_BASE-&gt;CCMR1=(1&lt;&lt;0)|(1&lt;&lt;9);</code><code class="comments">//CC1 input,mapped on TI1, CC2 input,mapped on TI1</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>117</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER2_BASE-&gt;CCER=(1&lt;&lt;5)|(1&lt;&lt;0)|(1&lt;&lt;4);</code><code class="comments">//cc1-Hi,cc2-lo </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>118</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER2_BASE-&gt;EGR=1; </code><code class="comments">//перечитать регистры.</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>119</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER2_BASE-&gt;CR1=(1&lt;&lt;0);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>120</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">__asm volatile( </code><code class="string">"cpsie i"</code> <code class="plain">);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>121</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">while</code><code class="plain">( (TIMER2_BASE-&gt;SR&amp;0x65F)!=0x65F) {asm volatile(</code><code class="string">"nop"</code><code class="plain">);&nbsp; </code><code class="keyword">if</code><code class="plain">(mon_flag) {</code><code class="keyword">return</code><code class="plain">;} }</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>122</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER2_BASE-&gt;CR1=0;</code><code class="comments">// стоп таймер</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>123</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain">imp_long=(uint32_t) ((TIMER2_BASE-&gt;CCR1)*divider);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>124</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">imp_hi=(uint32_t)&nbsp; ((TIMER2_BASE-&gt;CCR2)*divider);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>125</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="keyword">if</code> <code class="plain">(freq &lt;1000){ freq=72E6 /imp_long;} </code><code class="comments">//если freq Менее 1кГц то использовать данные второго НЧ-измерения частоты</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>126</code></td><td class="content"><code class="plain">duty_out=&nbsp; (</code><code class="keyword">float</code><code class="plain">) imp_hi / (imp_long / 100.0) ;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>127</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="plain">t_low= (imp_long-imp_hi) /72.0 ;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>128</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">t_hi=&nbsp; imp_hi /72.0;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>129</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain">mon_flag=1;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>130</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain">} </code><code class="comments">//END freq meter</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>131</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>132</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>133</code></td><td class="content"><code class="color1">///////////////////////////////////////////////////////////////////////////</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>134</code></td><td class="content"><code class="color1">/////////*********** ВЫВОД НА ДИСПЛЕЙ************//////////////////////////</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>135</code></td><td class="content"><code class="color1">///////////////////////////////////////////////////////////////////////////</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>136</code></td><td class="content"><code class="keyword">void</code> <code class="plain">mon_out(){</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>137</code></td><td class="content"><code class="keyword">char</code> <code class="plain">mybuf[10]; </code><code class="keyword">float</code> <code class="plain">freq_out;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>138</code></td><td class="content"><code class="comments">//************** Вывод первой строчки*****************************</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>139</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">tft.setCursor(0, 0); </code><code class="comments">//&nbsp; вперёд, вниз</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>140</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.setTextColor(ST7735_GREEN, paper);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>141</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.setTextSize(2);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>142</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">switch</code><code class="plain">(mode){ </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>143</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">0: tft.print(</code><code class="string">"&nbsp; PWM Mode&nbsp;&nbsp; "</code><code class="plain">); </code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>144</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">1: tft.print(</code><code class="string">"&nbsp; Duty Mode&nbsp; "</code><code class="plain">); </code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>145</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">2: tft.print(</code><code class="string">"&nbsp; Sinus DDS&nbsp; "</code><code class="plain">); </code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>146</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">3: tft.print(</code><code class="string">" Triangle DDS"</code><code class="plain">); </code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>147</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">4: tft.print(</code><code class="string">"&nbsp; Pila1 DDS&nbsp; "</code><code class="plain">); </code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>148</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">5: tft.print(</code><code class="string">"&nbsp; Pila2 DDS&nbsp; "</code><code class="plain">); </code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>149</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">6: tft.print(</code><code class="string">"&nbsp; Meandr DDS "</code><code class="plain">); </code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>150</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">7: tft.print(</code><code class="string">" Freq. meter "</code><code class="plain">); </code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>151</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>152</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="comments">//*****************Вывод второй строчки*****************************</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>153</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.setTextColor(ST7735_WHITE, paper);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>154</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.setTextSize(3);&nbsp;&nbsp; tft.setCursor(0, 19);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>155</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(freq &gt;=1E6) { freq_out=freq/1E6;}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>156</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">else</code> <code class="keyword">if</code> <code class="plain">(freq&gt;=1E4) { freq_out=freq/1000;}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>157</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">else</code> <code class="plain">{ freq_out=freq;}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>158</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(mode!=7 &amp;&amp; freq &lt;10000) { dtostrf(freq_out, 6, 0, mybuf); tft.print(mybuf); tft.print(</code><code class="string">"&nbsp;&nbsp; "</code><code class="plain">); } </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>159</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">else</code> <code class="plain">{dtostrf(freq_out, 8, 3, mybuf); tft.print(mybuf);}&nbsp;&nbsp;&nbsp; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>160</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="comments">//********************Вывод третьей строчки*****************************</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>161</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.setCursor(50, 43); </code><code class="comments">//&nbsp; вперёд, вниз</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>162</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.setTextColor(ST7735_RED,paper);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>163</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code><code class="plain">(freq&gt;=1E6){tft.print(</code><code class="string">"MHz"</code><code class="plain">);}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>164</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">else</code> <code class="keyword">if</code> <code class="plain">(freq&gt;=1E4){tft.print(</code><code class="string">"kHz"</code><code class="plain">);}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>165</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">else</code> <code class="plain">{tft.print(</code><code class="string">" Hz"</code><code class="plain">);}&nbsp; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>166</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="comments">//********************* "осциллограммы"******************************</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>167</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.fillRect(5,90, 100,38,paper);</code><code class="comments">//вправо, вниз, ширина вправо, длина вниз</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>168</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.drawRect(0,67, 160,61,ST7735_MAGENTA);</code><code class="comments">//вправо, вниз, ширина вправо, длина вниз</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>169</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(mode&lt;2 || mode==7){</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>170</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.drawFastVLine(5, 90, 30, ST7735_CYAN); </code><code class="comments">// восход фронта статическая вер линия</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>171</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.drawFastHLine(5, 91, (</code><code class="keyword">int</code><code class="plain">)duty_out, ST7735_YELLOW);</code><code class="comments">//длина единицы</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>172</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.drawFastHLine(5, 90, (</code><code class="keyword">int</code><code class="plain">)duty_out, ST7735_YELLOW);</code><code class="comments">//паралельная линия для выделения</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>173</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.drawFastVLine((</code><code class="keyword">int</code><code class="plain">)duty_out+5, 91, 30, ST7735_YELLOW);</code><code class="comments">// спад</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>174</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.drawFastVLine((</code><code class="keyword">int</code><code class="plain">)duty_out+4, 90, 30, ST7735_YELLOW);</code><code class="comments">//паралельная линия для выделения</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>175</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.drawFastVLine(105, 90, 30, ST7735_YELLOW);</code><code class="comments">//спад конец такта статическая вер. линия</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>176</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.drawFastVLine(104, 90, 30, ST7735_YELLOW);</code><code class="comments">//паралельная линия для выделения</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>177</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.drawFastHLine((</code><code class="keyword">int</code><code class="plain">)duty_out+5, 120, (100-(</code><code class="keyword">int</code><code class="plain">)duty_out), ST7735_YELLOW);</code><code class="comments">//линия единицы 2-го такта</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>178</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.drawFastHLine((</code><code class="keyword">int</code><code class="plain">)duty_out+5, 119, (100-(</code><code class="keyword">int</code><code class="plain">)duty_out), ST7735_YELLOW);</code><code class="comments">//паралельная линия для выделения</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>179</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>180</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(mode==2){ </code><code class="comments">// логотип синуса</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>181</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">for</code><code class="plain">(uint8_t n=0; n&lt;100; n++){tft.drawPixel(5+n, 73+sine_logo[n],ST7735_YELLOW);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>182</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">} </code><code class="comments">//END&nbsp; for</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>183</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">} </code><code class="comments">// END if (mode==2)</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>184</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">else</code> <code class="keyword">if</code> <code class="plain">(mode==3){</code><code class="comments">// логотип треугольника&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>185</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.drawLine(5,98,30,73,ST7735_YELLOW);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>186</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.drawLine(30,73,80,123,ST7735_YELLOW);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>187</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.drawLine(80,123,105,98,ST7735_YELLOW); </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>188</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">} </code><code class="comments">//END&nbsp; mode==3</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>189</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">else</code> <code class="keyword">if</code> <code class="plain">(mode==4){ </code><code class="comments">//логотип пилы1</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>190</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.drawLine(5,123,105,73,ST7735_YELLOW);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>191</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.drawFastVLine(105, 73, 50, ST7735_YELLOW);</code><code class="comments">//спад конец такта статическая вер. линия</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>192</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">} </code><code class="comments">//END&nbsp; if (mode==3)</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>193</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">else</code> <code class="keyword">if</code> <code class="plain">(mode==5){</code><code class="comments">//логотип пилы2</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>194</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.drawFastVLine(5, 73, 50, ST7735_YELLOW); </code><code class="comments">// восход фронта статическая вер линия </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>195</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.drawLine(5,73,105,123,ST7735_YELLOW);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>196</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code><code class="comments">// END&nbsp; if (mode==4)</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>197</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">else</code> <code class="keyword">if</code> <code class="plain">(mode==6){ </code><code class="comments">//логотип меандра</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>198</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.drawFastVLine(5,73,25,ST7735_YELLOW);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>199</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.drawFastHLine(5,73,50,ST7735_YELLOW);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>200</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.drawFastVLine(55,73,50,ST7735_YELLOW);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>201</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.drawFastHLine(55,123,50,ST7735_YELLOW);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>202</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.drawFastVLine(105,98,25,ST7735_YELLOW);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>203</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>204</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="comments">//*********************** характеристики сигнала****************************************</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>205</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.setCursor(5, 70); </code><code class="comments">//&nbsp; вперёд, вниз</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>206</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.setTextColor(ST7735_WHITE, paper);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>207</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.setTextSize(1);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>208</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(mode &lt; 2 || mode==7){ </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>209</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.print(</code><code class="string">"+Width="</code><code class="plain">); </code><code class="keyword">if</code> <code class="plain">(t_hi&lt;1E3) {tft.print(t_hi); tft.print(</code><code class="string">" uS&nbsp; "</code><code class="plain">);} </code><code class="keyword">else</code> <code class="plain">{tft.print(t_hi/1000); tft.print(</code><code class="string">" mS&nbsp; "</code><code class="plain">);}&nbsp; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>210</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.setCursor(5, 80); </code><code class="comments">//&nbsp; вперёд, вниз</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>211</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.print(</code><code class="string">"-Width="</code><code class="plain">); </code><code class="keyword">if</code> <code class="plain">(t_low&lt;1E3) {tft.print(t_low); tft.print(</code><code class="string">" uS&nbsp; "</code><code class="plain">);} </code><code class="keyword">else</code> <code class="plain">{tft.print(t_low/1000); tft.print(</code><code class="string">" mS&nbsp; "</code><code class="plain">);}&nbsp; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>212</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.setCursor(114, 70); tft.print(</code><code class="string">"Duty="</code><code class="plain">);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>213</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.setCursor(114, 80); tft.print(duty_out,0);tft.print(</code><code class="string">" %&nbsp;&nbsp; "</code><code class="plain">);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>214</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">} </code><code class="comments">//END if (mode &lt; 2 || mode==7)</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>215</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(mode!=7){ </code><code class="comments">// выводить шаг кроме частотометра</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>216</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.setCursor(114, 95); tft.print(</code><code class="string">"Step="</code><code class="plain">);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>217</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.setCursor(114, 105); </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>218</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">switch</code> <code class="plain">(encstep) { </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>219</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">1: tft.print(</code><code class="string">"&nbsp;&nbsp; 1"</code><code class="plain">); </code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>220</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">10: tft.print(</code><code class="string">"&nbsp; 10"</code><code class="plain">); </code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>221</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">100: tft.print(</code><code class="string">" 100"</code><code class="plain">);</code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>222</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">1000: tft.print(</code><code class="string">"1000"</code><code class="plain">);</code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>223</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code><code class="comments">// END switch case&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>224</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">} </code><code class="comments">// END if (mode!=7)</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>225</code></td><td class="content"><code class="keyword">if</code> <code class="plain">( freq &lt; 1)&nbsp; {tft.fillRect(1,68, 158,59,paper); }</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>226</code></td><td class="content"><code class="plain">mon_flag=0;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>227</code></td><td class="content"><code class="plain">}</code><code class="comments">//END mon_out</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>228</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>229</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>230</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>231</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>232</code></td><td class="content"><code class="comments">//обработчик прерываний энкодера</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>233</code></td><td class="content"><code class="keyword">void</code> <code class="plain">enc_int(){&nbsp;&nbsp; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>234</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="keyword">if</code><code class="plain">((TIMER4_BASE-&gt;CR1)&amp;1&lt;&lt;4) {enc_mode(1);} </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>235</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="keyword">else</code> <code class="plain">{enc_mode(-1);} </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>236</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">}</code><code class="comments">// END VOID</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>237</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>238</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>239</code></td><td class="content"><code class="comments">// ФУНКЦИЯ конфигурации режимов </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>240</code></td><td class="content"><code class="keyword">void</code> <code class="plain">enc_mode(</code><code class="keyword">int</code> <code class="keyword">in</code><code class="plain">){</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>241</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">modebit= (GPIOB_BASE-&gt;IDR&amp;0x100); </code><code class="comments">//состояние кнопки. 0-нажата </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>242</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(!modebit) { </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>243</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">mytone(880,30); </code><code class="comments">//звук переключения режимов</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>244</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">mode+=</code><code class="keyword">in</code><code class="plain">; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>245</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code><code class="plain">(mode&gt;7){mode=7;}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>246</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code><code class="plain">(mode&lt;0){mode=0;} </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>247</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(mode&lt;2){timer_set();}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>248</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(mode==7) {freq=0;}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>249</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">mon_flag=1; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>250</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">return</code><code class="plain">; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>251</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">} </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>252</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">mytone(4400,10); </code><code class="comments">//звук изменения частоты</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>253</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">switch</code><code class="plain">(mode){</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>254</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">0:&nbsp;&nbsp; </code><code class="keyword">if</code> <code class="plain">(tim_mode==0) { freq+=(encstep*</code><code class="keyword">in</code><code class="plain">); timer_set(); }&nbsp;&nbsp; </code><code class="keyword">else</code> <code class="plain">{ timer_hi_set(</code><code class="keyword">in</code><code class="plain">); } </code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>255</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">1:&nbsp;&nbsp; duty_in+=</code><code class="keyword">in</code><code class="plain">; </code><code class="keyword">if</code><code class="plain">(duty_in&gt;99){duty_in=99;} </code><code class="keyword">if</code><code class="plain">(duty_in&lt;1){duty_in=1;} set_duty(); calc_freq();&nbsp; </code><code class="keyword">break</code><code class="plain">;&nbsp; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>256</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">7:&nbsp;&nbsp; </code><code class="keyword">break</code><code class="plain">; </code><code class="comments">// в частотометре не реагировать на вращение энкодера </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>257</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="keyword">default</code><code class="plain">: freq+=(encstep*</code><code class="keyword">in</code><code class="plain">); mon_flag=1; </code><code class="comments">//wave режимы</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>258</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="comments">// проверка на корректность запроса частоты</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>259</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(freq&lt;0){freq=0;} </code><code class="keyword">if</code> <code class="plain">(freq&gt;2E5) {freq=2E5;}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>260</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">} </code><code class="comments">//end switch case</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>261</code></td><td class="content"><code class="plain">}</code><code class="comments">//end enc_mode</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>262</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>263</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>264</code></td><td class="content"><code class="comments">// обработчик кнопки энкодера</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>265</code></td><td class="content"><code class="keyword">void</code> <code class="plain">key_enc_int(){</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>266</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="keyword">if</code><code class="plain">(!modebit){modebit=1; mon_flag=1;</code><code class="keyword">return</code><code class="plain">;}</code><code class="comments">// если менялся режим -выйти&nbsp; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>267</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(mode==1) { mytone(880,30); mode=0;&nbsp; mon_flag=1; ;</code><code class="keyword">return</code><code class="plain">;} </code><code class="comments">//сменить режим и выйти если были в duty mode</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>268</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">mytone(220,75); </code><code class="comments">//звук переключения шага</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>269</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">switch</code> <code class="plain">(encstep){ </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>270</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">1: encstep=10;&nbsp; </code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>271</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">10: encstep=100;&nbsp;&nbsp; </code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>272</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">100: encstep=1000; </code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>273</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">1000: encstep=1;&nbsp; </code><code class="keyword">break</code><code class="plain">; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>274</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">} </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>275</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">mon_flag=1; </code><code class="comments">//флаг вывода на дисплей</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>276</code></td><td class="content"><code class="plain">}</code><code class="comments">//end </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>277</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>278</code></td><td class="content"><code class="keyword">void</code> <code class="plain">set_duty(){</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>279</code></td><td class="content"><code class="keyword">if</code> <code class="plain">(mode==0 &amp;&amp; TIMER1_BASE-&gt;ARR&lt;100){ </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>280</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">TIMER1_BASE-&gt;CCR1=(TIMER1_BASE-&gt;ARR+1)/2 ; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>281</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">duty_in=50;&nbsp; </code><code class="keyword">return</code><code class="plain">;&nbsp;&nbsp; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>282</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>283</code></td><td class="content"><code class="plain">TIMER1_BASE-&gt;CCR1=(TIMER1_BASE-&gt;ARR+1)*duty_in/100;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>284</code></td><td class="content"><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>285</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>286</code></td><td class="content"><code class="comments">//ОБЩАЯ НАСТРОЙКА ТАЙМЕРА</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>287</code></td><td class="content"><code class="keyword">void</code> <code class="plain">timer_set(){</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>288</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">GPIOA_BASE-&gt;CRL=0xB4444444; </code><code class="comments">//PA7 alt_output</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>289</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">GPIOA_BASE-&gt;CRH=0x4444444B; </code><code class="comments">//PA8 alt_output</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>290</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER1_BASE-&gt;CCMR1=(1&lt;&lt;6)|(1&lt;&lt;5)|(1&lt;&lt;3);</code><code class="comments">//PWM mode 1</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>291</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER1_BASE-&gt;CCMR2=0;TIMER1_BASE-&gt;PSC=0; TIMER1_BASE-&gt;CCR2=0; TIMER1_BASE-&gt;ARR=1;&nbsp; TIMER1_BASE-&gt;CR1=1;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>292</code></td><td class="content"><code class="plain">TIMER1_BASE-&gt;CCER=(1&lt;&lt;0)|(1&lt;&lt;2)|(pwm2_polar&lt;&lt;3);</code><code class="comments">//cc1e/cc1ne enable </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>293</code></td><td class="content"><code class="comments">//TIMER1_BASE-&gt;BDTR=(1&lt;&lt;15)| 255 ;// dead time sample</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>294</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="keyword">if</code> <code class="plain">(freq&lt;1){freq=0; TIMER1_BASE-&gt;CCR1=0;TIMER1_BASE-&gt;ARR= 1; mon_flag=1; </code><code class="keyword">return</code><code class="plain">;} </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>295</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="keyword">if</code> <code class="plain">(freq&gt;36E6) {freq=36E6;}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>296</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain">divider=1;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>297</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">int</code> <code class="plain">tim_arr = 72E6/freq;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>298</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">while</code> <code class="plain">( (tim_arr/divider) &gt; 65535) {divider++;} </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>299</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER1_BASE-&gt;PSC=divider-1;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>300</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER1_BASE-&gt;ARR=(tim_arr/divider)-1;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>301</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">set_duty();</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>302</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">calc_freq();</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>303</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>304</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>305</code></td><td class="content"><code class="comments">//НАСТРОЙКА ТАЙМЕРА НА ЧАСТОТАХ ВЫШЕ 8КГЦ</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>306</code></td><td class="content"><code class="keyword">void</code> <code class="plain">timer_hi_set(</code><code class="keyword">int</code> <code class="plain">arr){</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>307</code></td><td class="content"><code class="plain">__asm volatile( </code><code class="string">"cpsid i"</code> <code class="plain">);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>308</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="plain">GPIOA_BASE-&gt;CRL=0xB4444444; </code><code class="comments">//PA7 alt_output</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>309</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">GPIOA_BASE-&gt;CRH=0x4444444B; </code><code class="comments">//PA8 alt_output</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>310</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER1_BASE-&gt;CCMR1=(1&lt;&lt;6)|(1&lt;&lt;5)|(1&lt;&lt;3);</code><code class="comments">//PWM mode 1</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>311</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER1_BASE-&gt;CCER=(1&lt;&lt;0)|(1&lt;&lt;2)|(pwm2_polar&lt;&lt;3);</code><code class="comments">//cc1e/cc1ne enable </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>312</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="comments">//насильно уменьшить шаг с ростом частоты</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>313</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(TIMER1_BASE-&gt;ARR&lt;1000 &amp;&amp; encstep &gt; 100) encstep=100; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>314</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(TIMER1_BASE-&gt;ARR&lt;100 &amp;&amp; encstep &gt; 10) encstep=10;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>315</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(TIMER1_BASE-&gt;ARR&lt;10 &amp;&amp; encstep &gt; 1) encstep=1;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>316</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">arr*=encstep;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>317</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="keyword">int</code> <code class="plain">icr= TIMER1_BASE-&gt;ARR-=arr;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>318</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(icr&lt;1) {icr=1;} </code><code class="keyword">if</code> <code class="plain">(icr&gt;65535) {icr=65535;}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>319</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="plain">TIMER1_BASE-&gt;ARR=icr;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>320</code></td><td class="content"><code class="plain">__asm volatile( </code><code class="string">"cpsie i"</code> <code class="plain">);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>321</code></td><td class="content"><code class="plain">set_duty();</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>322</code></td><td class="content"><code class="plain">calc_freq();</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>323</code></td><td class="content"><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>324</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>325</code></td><td class="content"><code class="comments">// РАСЧЁТ ЧАСТОТЫ И ТАЙМИНГОВ В РЕЖИМАХ PWM</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>326</code></td><td class="content"><code class="keyword">void</code> <code class="plain">calc_freq(){</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>327</code></td><td class="content"><code class="plain">uint32_t imp_long, imp_hi;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>328</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="plain">freq= 72E6/((TIMER1_BASE-&gt;ARR+1)*divider);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>329</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">duty_out=&nbsp; (</code><code class="keyword">float</code><code class="plain">) TIMER1_BASE-&gt;CCR1 / ((TIMER1_BASE-&gt;ARR+1) / 100.0) ;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>330</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain">duty_out= floorf(duty_out);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>331</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">imp_long=(uint32_t) ((TIMER1_BASE-&gt;ARR+1)*divider);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>332</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">imp_hi=(uint32_t)&nbsp; ((TIMER1_BASE-&gt;CCR1)*divider);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>333</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain">t_low= (imp_long-imp_hi) /72.0 ;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>334</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">t_hi=&nbsp; imp_hi /72.0;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>335</code></td><td class="content"><code class="plain">mon_flag=1;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>336</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>337</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>338</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>339</code></td><td class="content"><code class="comments">// КОНФИГУРАЦИЯ DDS РЕЖИМОВ</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>340</code></td><td class="content"><code class="keyword">void</code> <code class="plain">dds_set(){</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>341</code></td><td class="content"><code class="keyword">static</code> <code class="plain">uint32_t akkum;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>342</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="keyword">static</code> <code class="keyword">byte</code> <code class="plain">oldmode=255;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>343</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER1_BASE-&gt;CCER=0; </code><code class="comments">//timer output pins disable &amp;&amp; перечитать регистры. </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>344</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">GPIOA_BASE-&gt;CRL = 0x33333333;</code><code class="comments">// pa0-pa7&nbsp; выход</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>345</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">GPIOA_BASE-&gt;CRH =0x44444444; </code><code class="comments">//pa8-pa15 вход</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>346</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(oldmode !=mode) {</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>347</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(mode==2) {</code><code class="keyword">for</code><code class="plain">(uint16_t n=0; n&lt;512; n++){wave[n]=255*(sin(TWO_PI*</code><code class="keyword">float</code><code class="plain">(n)/512)+1)/2 ;}}</code><code class="comments">// синус</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>348</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">else</code> <code class="keyword">if</code> <code class="plain">(mode==3){ </code><code class="keyword">for</code><code class="plain">(uint16_t n=0; n&lt;512; n++){</code><code class="keyword">if</code> <code class="plain">(n&lt;256){ wave[n]=n;} </code><code class="keyword">else</code> <code class="plain">{wave[n]=(511-n);}}}</code><code class="comments">//треугол</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>349</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">else</code> <code class="keyword">if</code> <code class="plain">(mode==4){ </code><code class="keyword">for</code><code class="plain">(uint16_t n=0; n&lt;512; n++){ wave[n]=(n&gt;&gt;1);}}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="comments">//пила1</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>350</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">else</code> <code class="keyword">if</code> <code class="plain">(mode==5){ </code><code class="keyword">for</code><code class="plain">(uint16_t n=0; n&lt;512; n++){ wave[n]=((~n)&gt;&gt;1);}}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="comments">//пила2</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>351</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">else</code> <code class="keyword">if</code> <code class="plain">(mode==6){ </code><code class="keyword">for</code><code class="plain">(uint16_t n=0; n&lt;512; n++){</code><code class="keyword">if</code> <code class="plain">(n&lt;256){ wave[n]=0;} </code><code class="keyword">else</code> <code class="plain">{wave[n]=255;}}}&nbsp;&nbsp;&nbsp; </code><code class="comments">//меандр</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>352</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">oldmode=mode; } </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>353</code></td><td class="content"><code class="comments">//для пересчёта коэффициента вручную: частоту на экране * текущий множитель и разделить на фактически измеренную частоту</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>354</code></td><td class="content"><code class="plain">uint32_t dds_shag= (</code><code class="keyword">double</code><code class="plain">)freq * 1670.1100841768461768461768461768;</code><code class="comments">//&nbsp; шаг= частота*коэффициент</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>355</code></td><td class="content"><code class="keyword">while</code><code class="plain">(!mon_flag){GPIOA_BASE-&gt;ODR=wave[(akkum+=dds_shag)&gt;&gt;23];} </code><code class="comments">//генерация DDS</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>356</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">GPIOA_BASE-&gt;CRL=0x44444444;</code><code class="comments">// все пины в Z</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>357</code></td><td class="content"><code class="plain">}</code><code class="comments">//END DDS set()</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>358</code></td><td class="content"><code class="comments">//</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>359</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>360</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="keyword">void</code> <code class="plain">mytone(</code><code class="keyword">int</code> <code class="plain">frq, </code><code class="keyword">int</code> <code class="plain">ms ){</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>361</code></td><td class="content"><code class="keyword">if</code> <code class="plain">(mode==7){</code><code class="keyword">return</code><code class="plain">;} </code><code class="comments">//таймер в режиме частотометра занят</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>362</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="plain">uint16_t psc=1; uint32_t tim_arr;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>363</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="comments">// настройка генератора звука на таймере3</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>364</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">tim_arr = 36E6/frq;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>365</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="keyword">while</code> <code class="plain">( (tim_arr/psc) &gt; 65535) {psc++;} </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>366</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">__asm volatile( </code><code class="string">"cpsid i"</code> <code class="plain">); </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>367</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER2_BASE-&gt;SMCR=0;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>368</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER3_BASE-&gt;CCR3=0; </code><code class="comments">//обнулить регистр соответсвующий используемому выходу</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>369</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER3_BASE-&gt;PSC=psc-1;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>370</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER3_BASE-&gt;ARR=(tim_arr/psc)-1;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>371</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER3_BASE-&gt;CCMR2=(1&lt;&lt;5)|(1&lt;&lt;4);</code><code class="comments">// OC3M:011</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>372</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER3_BASE-&gt;CCER=1&lt;&lt;8;</code><code class="comments">//cc3e&nbsp; подключить аппаратную ногу</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>373</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER3_BASE-&gt;SMCR=(1&lt;&lt;2)|(1&lt;&lt;0)|(1&lt;&lt;4);</code><code class="comments">//SMS:101 &amp;&amp; TS:001&nbsp; строб от 2-го таймера&nbsp; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>374</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER3_BASE-&gt;EGR=1; </code><code class="comments">//перечитать регистры.</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>375</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER3_BASE-&gt;CR1=1;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>376</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="color1">/// настройка выдержки времени на таймере2</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>377</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">psc=1;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>378</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tim_arr = 72E3 * ms;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>379</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">while</code> <code class="plain">( (tim_arr/psc) &gt; 65536) {psc++;} </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>380</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER2_BASE-&gt;CCMR2=0;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>381</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER2_BASE-&gt;CR2=0;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>382</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER2_BASE-&gt;CR1=(1&lt;&lt;3)|(1&lt;&lt;2);</code><code class="comments">//один импульс, без прероываний</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>383</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER2_BASE-&gt;CNT=0;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>384</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">TIMER2_BASE-&gt;CR2=(1&lt;&lt;4);&nbsp; </code><code class="comments">//MMS:001 сигнал разрешения работы другим таймерам</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>385</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="plain">TIMER2_BASE-&gt;PSC=psc-1;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>386</code></td><td class="content"><code class="plain">TIMER2_BASE-&gt;ARR=(tim_arr/psc)-1;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>387</code></td><td class="content"><code class="plain">TIMER2_BASE-&gt;EGR=1; </code><code class="comments">//перечитать регистры.</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>388</code></td><td class="content"><code class="plain">TIMER2_BASE-&gt;CR1|=(1&lt;&lt;0);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>389</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">__asm volatile( </code><code class="string">"cpsie i"</code> <code class="plain">);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>390</code></td><td class="content"><code class="plain">}</code></td></tr></tbody></table></div></div></div>

<p><strong><font color="#FF0000">Убедительная просьба не использовать кнопку "Цитировать" под этим постом, т.к. у меня пропадёт возможность редактировать ошибки, да и просто засирать тему повторной информацией не стоит.</font></strong></p>
      </div>

          </div>
  </div>

  <div class="forum-post-footer clear-block">
    <div class="forum-jump-links">
      <a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#top" title="Jump to top of page">Верх</a>
    </div>

          <div class="forum-post-links">
        <ul class="links forum-links"><li class="comment_forbidden first"><span><a href="http://arduino.ru/user/login?destination=node%2F11357%23comment-form">Войдите</a> или <a href="http://arduino.ru/user/register?destination=node%2F11357%23comment-form">зарегистрируйтесь</a>, чтобы получить возможность отправлять комментарии</span></li>
<li class="vud_comment_votes_count last"></li>
</ul>      </div>
      </div>
</div><a id="comment-299063"></a>

    <div class="forum-post  clear-block">

  <div class="post-info clear-block">
    <div class="posted-on">
      Втр, 01/08/2017 - 12:30
          </div>

          <span class="post-num"><a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#comment-299063" class="active">#24</a> </span>
      </div>

  <div class="forum-post-wrapper">

    <div class="forum-post-panel-sub">
      

<div class="author-pane">
 <div class="author-pane-inner">
        <div class="author-pane-section author-pane-general">
            <div class="author-pane-line author-name">
        240265      </div>

                    
  <div class="picture">
          <img src="./Генератор с регулируемоей частотой на ардуино. _ Аппаратная платформа Arduino_files/picture-14021.jpg" alt="240265 аватар" title="240265 аватар">      </div>
      
                    <div class="author-pane-line author-offline">
           Offline        </div>
      
            
            
            
                    <div class="author-pane-line author-joined">
          <span class="author-pane-label">Зарегистрирован:</span> 12.08.2015        </div>
      
            
                </div>

        <div class="author-pane-section author-pane-contact">
            
            
            
                </div>

        <div class="author-pane-section author-pane-admin">
            
          
               </div>
  </div>
</div>
    </div>

    <div class="forum-post-panel-main clear-block">
      
      <div class="content">
        <p>V3_128</p>
<p>Переделал под 128х128 экран (st7735&nbsp; ) , цвета синий с красным попутаны. Но оно и не мешает.</p>
<div id="highlighter_149243" class="syntaxhighlighter collapsed  "><div class="bar"><div class="toolbar"><a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#expandSource" title="показать код" class="item expandSource" style="width: 16px; height: 16px;">показать код</a><a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#viewSource" title="код" class="item viewSource" style="width: 16px; height: 16px;">код</a><div class="item copyToClipboard"><embed width="16" height="16" id="highlighter_149243_clipboard" type="application/x-shockwave-flash" title="скопировать" allowscriptaccess="always" wmode="transparent" flashvars="highlighterId=highlighter_149243" menu="false" src="/sites/all/libraries/syntaxhighlighter/scripts/clipboard.swf"></div><a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#printSource" title="расечатать" class="item printSource" style="width: 16px; height: 16px;">расечатать</a><a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#about" title="?" class="item about" style="width: 16px; height: 16px;">?</a></div></div><div class="lines"><div class="line alt1"><table><tbody><tr><td class="number"><code>001</code></td><td class="content"><code class="plain">[code]</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>002</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>003</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>004</code></td><td class="content"><code class="comments">/*Генератор с регулируемой частотой v3.0 (C)Dimax */</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>005</code></td><td class="content"><code class="preprocessor">#define pwm2_polar 0 //полярность выхода PWM2</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>006</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="preprocessor">#define paper&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0x000000 // цвет фона экрана</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>007</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="preprocessor">#include &lt;Adafruit_GFX_AS.h&gt;&nbsp;&nbsp;&nbsp; // Core graphics library</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>008</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="preprocessor">#include &lt;Adafruit_ST7735.h&gt; // Hardware-specific library</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>009</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="preprocessor">#include &lt;SPI.h&gt; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>010</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">Adafruit_ST7735 tft = Adafruit_ST7735(PB12, PB11,PB10); </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>011</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">volatile </code><code class="keyword">int</code> <code class="plain">enc_tic=0, duty_in=50, divider, mon_flag, modebit=1, tim_mode=0, mode=0;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>012</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">volatile </code><code class="keyword">int</code> <code class="plain">encstep=1; </code><code class="comments">//шаг изменения частоты по умолчанию </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>013</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">volatile </code><code class="keyword">float</code> <code class="plain">freq=1000; </code><code class="comments">//частота по умолчанию</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>014</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">volatile </code><code class="keyword">float</code> <code class="plain">duty_out;</code><code class="comments">// переменная счёта скважности</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>015</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="keyword">float</code> <code class="plain">t_hi, t_low; </code><code class="comments">//переменные счёта длины импульсов</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>016</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">uint8_t wave[512]; </code><code class="comments">//массив для DDS синтеза</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>017</code></td><td class="content"><code class="keyword">byte</code> <code class="plain">sine_logo[]={25,27,28,30,31,33,34,36,37,38,40,41,42,43,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>018</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">44,45,46,47,48,48,49,49,50,50,50,50,50,50,50,49,49,48,48,47,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>019</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain">46,45,44,43,42,41,40,38,37,36,34,33,31,30,28,27,25,23,22,20,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>020</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">19,17,16,14,13,12,10,9,8,7,6,5,4,3,2,2,1,1,0,0,0,0,0,0,0,1,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>021</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">1,2,2,3,4,5,6,7,8,9,10,12,13,14,16,17,19,20,22,23};</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>022</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>023</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">void</code> <code class="keyword">setup</code><code class="plain">() {</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>024</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">SPI.setModule(2);</code><code class="comments">// выбор SPI2</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>025</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.initR(INITR_BLACKTAB);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>026</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.setRotation(3);</code><code class="comments">//дисплей горизонтально, контакты слева</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>027</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.fillScreen(paper);</code><code class="comments">//залить цветом по умолчанию</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>028</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.setTextWrap(0);</code><code class="comments">//не переосить строки</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>029</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain">nvic_irq_disable_all();</code><code class="comments">//отключить все прерывания</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>030</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">systick_disable(); </code><code class="comments">// отключить системный таймер</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>031</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="plain">RCC_BASE-&gt;APB1ENR|= (1&lt;&lt;2)|(1&lt;&lt;1)|(1&lt;&lt;0); </code><code class="comments">//включить тактирование tim-2,3,4</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>032</code></td><td class="content"><code class="plain">RCC_BASE-&gt;APB2ENR|= (1&lt;&lt;3)|(1&lt;&lt;11)|(1&lt;&lt;2)|(1&lt;&lt;0)|(1&lt;&lt;4);</code><code class="color1">////включить тактирование port-a-b-c,tim1</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>033</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="plain">AFIO_BASE-&gt;MAPR=(1&lt;&lt;8)|(1&lt;&lt;6); </code><code class="comments">//tim 1 &amp;&amp; tim 2 Partial remap</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>034</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">pinMode(PB0,PWM); </code><code class="comments">//buzzer</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>035</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain">pinMode(PB6,INPUT_PULLUP);</code><code class="comments">//enc</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>036</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">pinMode(PB7,INPUT_PULLUP);</code><code class="comments">//enc</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>037</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">pinMode(PB8,INPUT_PULLUP);</code><code class="comments">//key enc</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>038</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">mytone(1000,50);</code><code class="comments">//сигнал после старта</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>039</code></td><td class="content"><code class="color1">///////// Таймер4 -обработчик энкодера&nbsp;&nbsp;&nbsp;&nbsp; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>040</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER4_BASE-&gt;CR1=(1&lt;&lt;2)|(1&lt;&lt;9);</code><code class="comments">//CKD10 URS</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>041</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER4_BASE-&gt;CCMR1=0xf1f1; (1&lt;&lt;0)|(1&lt;&lt;8 );</code><code class="comments">//cc1s, cc2s input mapped TI1/TI2</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>042</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER4_BASE-&gt;CCER=(1&lt;&lt;1)|(1&lt;&lt;5)|(1&lt;&lt;0)|(1&lt;&lt;4);</code><code class="comments">//Capture/Compare 1,2 output polarity</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>043</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER4_BASE-&gt;SMCR=(1&lt;&lt;1)|(1&lt;&lt;0);</code><code class="comments">//Encoder mode3(SMS bit)стр.407</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>044</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER4_BASE-&gt;CNT=0;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>045</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">TIMER4_BASE-&gt;ARR=1;</code><code class="comments">//ограничение счёта ( =3 для двухимпульсного энкодера)</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>046</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">TIMER4_BASE-&gt;SR=0; TIMER4_BASE-&gt;EGR=1; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>047</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="plain">timer_attach_interrupt(TIMER4, TIMER_UPDATE_INTERRUPT, enc_int);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>048</code></td><td class="content"><code class="plain">TIMER4_BASE-&gt;CR1|=(1&lt;&lt;0);</code><code class="comments">//запуск </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>049</code></td><td class="content"><code class="comments">//прерывание кнопки энкодера</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>050</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="plain">attachInterrupt(PB8, key_enc_int, RISING);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>051</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">timer_set();</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>052</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>053</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>054</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>055</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>056</code></td><td class="content"><code class="keyword">void</code> <code class="keyword">loop</code><code class="plain">() {</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>057</code></td><td class="content"><code class="keyword">static</code> <code class="keyword">int</code> <code class="plain">old_mode_loop=-1;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>058</code></td><td class="content"><code class="keyword">if</code> <code class="plain">(freq &gt; 8485) {tim_mode=1;} </code><code class="keyword">else</code> <code class="plain">{tim_mode=0;}</code><code class="comments">// переключать режимы таймера</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>059</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(mode!=old_mode_loop) {</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>060</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.fillScreen(paper); old_mode_loop=mode; mon_flag=1;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>061</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code><code class="comments">//чистить полностью экран только при смене режимов</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>062</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(mode==7) {mon_out(); freq_meter();&nbsp; }</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>063</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(mode &gt;1 &amp;&amp; mode&lt;7) { mon_out();&nbsp; dds_set(); } </code><code class="comments">// запуск DDS режимов</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>064</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="keyword">if</code> <code class="plain">(mon_flag) { mon_out();} </code><code class="comments">//в остальных ситуациях при наличии флага вывода на дисплей </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>065</code></td><td class="content"><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>066</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code>&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>067</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>068</code></td><td class="content"><code class="keyword">void</code> <code class="plain">freq_meter(){</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>069</code></td><td class="content"><code class="color1">/////////////////////счётчик импульсов\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>070</code></td><td class="content"><code class="plain">pinMode(PA15,INPUT_PULLDOWN); </code><code class="comments">// вход частотометра</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>071</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="plain">uint32_t imp_long,imp_hi;</code><code class="comments">//переменные измерения длины такта</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>072</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain">__asm volatile( </code><code class="string">"cpsid i"</code> <code class="plain">);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>073</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="color1">/// Timer2 счёт младших 16 бит</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>074</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER2_BASE-&gt;CR1=0;</code><code class="comments">//стоп таймер</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>075</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER2_BASE-&gt;CCER=0; TIMER2_BASE-&gt;PSC=0;&nbsp; TIMER2_BASE-&gt;CNT=0; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>076</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER2_BASE-&gt;CCR1=0; TIMER2_BASE-&gt;CCR2=0; TIMER2_BASE-&gt;CCR3=0; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>077</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER2_BASE-&gt;CCR4=0;TIMER2_BASE-&gt;PSC=0;TIMER2_BASE-&gt;SR=0;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>078</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER2_BASE-&gt;CCMR2=0;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>079</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER2_BASE-&gt;CR2=1&lt;&lt;5; </code><code class="comments">//MMS:010 управление подчинённым в режиме "Update" </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>080</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER2_BASE-&gt;SMCR= (1&lt;&lt;14);</code><code class="comments">// ECE &amp; TS:000&nbsp; режим 2 внешнего тактирования &amp; разрешение работы от таймера1</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>081</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER2_BASE-&gt;ARR=65535; </code><code class="comments">//считать до максимума</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>082</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER2_BASE-&gt;EGR=1; </code><code class="comments">//перечитать регистры.</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>083</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER2_BASE-&gt;CR1|=(1&lt;&lt;0);</code><code class="comments">//start timer2</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>084</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="color1">/// Timer3 счёт старших 16 бит</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>085</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER3_BASE-&gt;CR1=1&lt;&lt;0;</code><code class="comments">//стоп таймер</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>086</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER3_BASE-&gt;CCER=0; TIMER3_BASE-&gt;PSC=0; TIMER3_BASE-&gt;CNT=0; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>087</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER3_BASE-&gt;CCR1=0; TIMER3_BASE-&gt;CCR2=0; TIMER3_BASE-&gt;CCR3=0; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>088</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">TIMER3_BASE-&gt;CCR4=0;TIMER3_BASE-&gt;PSC=0;TIMER3_BASE-&gt;SR=0;TIMER3_BASE-&gt;CR2=0;&nbsp; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>089</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="plain">TIMER3_BASE-&gt;CCMR1=0; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>090</code></td><td class="content"><code class="plain">TIMER3_BASE-&gt;SMCR=(1&lt;&lt;2)|(1&lt;&lt;1)|(1&lt;&lt;0)|(1&lt;&lt;4);</code><code class="comments">//SMS:111 &amp;&amp; TS:001&nbsp; такт брать от 2-го таймера&nbsp; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>091</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="plain">TIMER3_BASE-&gt;ARR=65535; </code><code class="comments">//считать до </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>092</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">TIMER3_BASE-&gt;EGR=1; </code><code class="comments">//перечитать регистры.</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>093</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER3_BASE-&gt;CR1|=(1&lt;&lt;0);</code><code class="comments">//start timer3</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>094</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="color1">/// настройка времени разрешения на таймере1 для таймера2</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>095</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER1_BASE-&gt;CR1=(1&lt;&lt;3)|(1&lt;&lt;2);</code><code class="comments">//один импульс, без прерываний</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>096</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER1_BASE-&gt;CNT=0;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>097</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER1_BASE-&gt;CR2=(1&lt;&lt;4);&nbsp; </code><code class="comments">//MMS:001 сигнал разрешения работы другим таймерам</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>098</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER1_BASE-&gt;CCER=0;</code><code class="comments">// отключить выходы таймера на физ ноги</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>099</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER1_BASE-&gt;PSC=1999; </code><code class="comments">// 72000000/20000= 36000кГц тактовая таймера </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>100</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER1_BASE-&gt;ARR=35999;</code><code class="comments">//считать до 36000 (1секунда) </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>101</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER1_BASE-&gt;EGR=1; </code><code class="comments">//перечитать регистры.</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>102</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER1_BASE-&gt;CR1|=(1&lt;&lt;0);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>103</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">__asm volatile( </code><code class="string">"cpsie i"</code> <code class="plain">);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>104</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">while</code> <code class="plain">(TIMER1_BASE-&gt;CR1&amp;1) {asm volatile(</code><code class="string">"nop"</code><code class="plain">); </code><code class="keyword">if</code><code class="plain">(mon_flag) {</code><code class="keyword">return</code><code class="plain">;}&nbsp; }</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>105</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">freq=&nbsp; TIMER3_BASE-&gt;CNT&lt;&lt;16&nbsp; | TIMER2_BASE-&gt;CNT ;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>106</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(freq&gt;1E6){ t_low=0;t_hi=0; duty_out=50;</code><code class="keyword">return</code><code class="plain">;} </code><code class="comments">//выйти если freq больше мегагерца</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>107</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="comments">// Перенастройка таймера 2 в режии измерения длительности импульса и скважности</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>108</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="plain">divider=1;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>109</code></td><td class="content"><code class="keyword">while</code> <code class="plain">((72E6/divider/((freq&gt;0)? freq : 1 )) &gt; 65000) {divider++;}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>110</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="plain">__asm volatile( </code><code class="string">"cpsid i"</code> <code class="plain">);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>111</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">TIMER2_BASE-&gt;CR1=0;</code><code class="comments">//стоп таймер</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>112</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER2_BASE-&gt;CCER=0; TIMER2_BASE-&gt;PSC=0;&nbsp; TIMER2_BASE-&gt;CNT=0; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>113</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER2_BASE-&gt;CCR1=0; TIMER2_BASE-&gt;CCR2=0; TIMER2_BASE-&gt;CCR3=0; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>114</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER2_BASE-&gt;CCR4=0;TIMER2_BASE-&gt;PSC=0;TIMER2_BASE-&gt;SR=0;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>115</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER2_BASE-&gt;CCMR2=0;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>116</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER2_BASE-&gt;CR2=0;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>117</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER2_BASE-&gt;PSC= divider-1;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>118</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER2_BASE-&gt;SMCR=(1&lt;&lt;4)|(1&lt;&lt;6)|(1&lt;&lt;2);</code><code class="comments">// TS:101 SMS:100&nbsp; вход TI1FP1&nbsp; , Режим сброса</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>119</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER2_BASE-&gt;CCMR1=(1&lt;&lt;0)|(1&lt;&lt;9);</code><code class="comments">//CC1 input,mapped on TI1, CC2 input,mapped on TI1</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>120</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER2_BASE-&gt;CCER=(1&lt;&lt;5)|(1&lt;&lt;0)|(1&lt;&lt;4);</code><code class="comments">//cc1-Hi,cc2-lo </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>121</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER2_BASE-&gt;EGR=1; </code><code class="comments">//перечитать регистры.</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>122</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER2_BASE-&gt;CR1=(1&lt;&lt;0);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>123</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">__asm volatile( </code><code class="string">"cpsie i"</code> <code class="plain">);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>124</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">while</code><code class="plain">( (TIMER2_BASE-&gt;SR&amp;0x65F)!=0x65F) {asm volatile(</code><code class="string">"nop"</code><code class="plain">);&nbsp; </code><code class="keyword">if</code><code class="plain">(mon_flag) {</code><code class="keyword">return</code><code class="plain">;} }</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>125</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER2_BASE-&gt;CR1=0;</code><code class="comments">// стоп таймер</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>126</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain">imp_long=(uint32_t) ((TIMER2_BASE-&gt;CCR1)*divider);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>127</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">imp_hi=(uint32_t)&nbsp; ((TIMER2_BASE-&gt;CCR2)*divider);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>128</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="keyword">if</code> <code class="plain">(freq &lt;1000){ freq=72E6 /imp_long;} </code><code class="comments">//если freq Менее 1кГц то использовать данные второго НЧ-измерения частоты</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>129</code></td><td class="content"><code class="plain">duty_out=&nbsp; (</code><code class="keyword">float</code><code class="plain">) imp_hi / (imp_long / 100.0) ;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>130</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="plain">t_low= (imp_long-imp_hi) /72.0 ;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>131</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">t_hi=&nbsp; imp_hi /72.0;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>132</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain">mon_flag=1;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>133</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain">} </code><code class="comments">//END freq meter</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>134</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>135</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>136</code></td><td class="content"><code class="color1">///////////////////////////////////////////////////////////////////////////</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>137</code></td><td class="content"><code class="color1">/////////*********** ВЫВОД НА ДИСПЛЕЙ************//////////////////////////</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>138</code></td><td class="content"><code class="color1">///////////////////////////////////////////////////////////////////////////</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>139</code></td><td class="content"><code class="keyword">void</code> <code class="plain">mon_out(){</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>140</code></td><td class="content"><code class="keyword">char</code> <code class="plain">mybuf[10]; </code><code class="keyword">float</code> <code class="plain">freq_out;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>141</code></td><td class="content"><code class="comments">//************** Вывод первой строчки*****************************</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>142</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">tft.setCursor(0, 0); </code><code class="comments">//&nbsp; вперёд, вниз</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>143</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.setTextColor(ST7735_GREEN, paper);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>144</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.setTextSize(2);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>145</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">switch</code><code class="plain">(mode){ </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>146</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">0: tft.print(</code><code class="string">" PWM Mode&nbsp;&nbsp; "</code><code class="plain">); </code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>147</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">1: tft.print(</code><code class="string">"Duty Mode&nbsp; "</code><code class="plain">); </code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>148</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">2: tft.print(</code><code class="string">"Sinus DDS&nbsp; "</code><code class="plain">); </code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>149</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">3: tft.print(</code><code class="string">"Trian DDS"</code><code class="plain">); </code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>150</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">4: tft.print(</code><code class="string">"Pila1 DDS&nbsp; "</code><code class="plain">); </code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>151</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">5: tft.print(</code><code class="string">"Pila2 DDS&nbsp; "</code><code class="plain">); </code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>152</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">6: tft.print(</code><code class="string">"Meandr DDS "</code><code class="plain">); </code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>153</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">7: tft.print(</code><code class="string">"Freq meter "</code><code class="plain">); </code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>154</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>155</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="comments">//*****************Вывод второй строчки*****************************</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>156</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.setTextColor(ST7735_WHITE, paper);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>157</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.setTextSize(2);&nbsp;&nbsp; tft.setCursor(0, 19);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>158</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(freq &gt;=1E6) { freq_out=freq/1E6;}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>159</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">else</code> <code class="keyword">if</code> <code class="plain">(freq&gt;=1E4) { freq_out=freq/1000;}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>160</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">else</code> <code class="plain">{ freq_out=freq;}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>161</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(mode!=7 &amp;&amp; freq &lt;10000) { dtostrf(freq_out, 6, 0, mybuf); tft.print(mybuf); tft.print(</code><code class="string">"&nbsp;&nbsp; "</code><code class="plain">); } </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>162</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">else</code> <code class="plain">{dtostrf(freq_out, 8, 3, mybuf); tft.print(mybuf);}&nbsp;&nbsp;&nbsp; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>163</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="comments">//********************Вывод третьей строчки*****************************</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>164</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.setCursor(30, 43); </code><code class="comments">//&nbsp; вперёд, вниз</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>165</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.setTextColor(ST7735_RED,paper);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>166</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code><code class="plain">(freq&gt;=1E6){tft.print(</code><code class="string">"MHz"</code><code class="plain">);}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>167</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">else</code> <code class="keyword">if</code> <code class="plain">(freq&gt;=1E4){tft.print(</code><code class="string">"kHz"</code><code class="plain">);}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>168</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">else</code> <code class="plain">{tft.print(</code><code class="string">" Hz"</code><code class="plain">);}&nbsp; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>169</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="comments">//********************* "осциллограммы"******************************</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>170</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.fillRect(5,90, 100,38,paper);</code><code class="comments">//вправо, вниз, ширина вправо, длина вниз</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>171</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.drawRect(0,67, 128,61,ST7735_MAGENTA);</code><code class="comments">//вправо, вниз, ширина вправо, длина вниз</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>172</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(mode&lt;2 || mode==7){</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>173</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.drawFastVLine(5, 90, 30, ST7735_CYAN); </code><code class="comments">// восход фронта статическая вер линия</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>174</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.drawFastHLine(5, 91, (</code><code class="keyword">int</code><code class="plain">)duty_out, ST7735_YELLOW);</code><code class="comments">//длина единицы</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>175</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.drawFastHLine(5, 90, (</code><code class="keyword">int</code><code class="plain">)duty_out, ST7735_YELLOW);</code><code class="comments">//паралельная линия для выделения</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>176</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.drawFastVLine((</code><code class="keyword">int</code><code class="plain">)duty_out+5, 91, 30, ST7735_YELLOW);</code><code class="comments">// спад</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>177</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.drawFastVLine((</code><code class="keyword">int</code><code class="plain">)duty_out+4, 90, 30, ST7735_YELLOW);</code><code class="comments">//паралельная линия для выделения</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>178</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.drawFastVLine(105, 90, 30, ST7735_YELLOW);</code><code class="comments">//спад конец такта статическая вер. линия</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>179</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.drawFastVLine(104, 90, 30, ST7735_YELLOW);</code><code class="comments">//паралельная линия для выделения</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>180</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.drawFastHLine((</code><code class="keyword">int</code><code class="plain">)duty_out+5, 120, (100-(</code><code class="keyword">int</code><code class="plain">)duty_out), ST7735_YELLOW);</code><code class="comments">//линия единицы 2-го такта</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>181</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.drawFastHLine((</code><code class="keyword">int</code><code class="plain">)duty_out+5, 119, (100-(</code><code class="keyword">int</code><code class="plain">)duty_out), ST7735_YELLOW);</code><code class="comments">//паралельная линия для выделения</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>182</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>183</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(mode==2){ </code><code class="comments">// логотип синуса</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>184</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">for</code><code class="plain">(uint8_t n=0; n&lt;100; n++){tft.drawPixel(5+n, 73+sine_logo[n],ST7735_YELLOW);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>185</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">} </code><code class="comments">//END&nbsp; for</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>186</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">} </code><code class="comments">// END if (mode==2)</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>187</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">else</code> <code class="keyword">if</code> <code class="plain">(mode==3){</code><code class="comments">// логотип треугольника&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>188</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.drawLine(5,98,30,73,ST7735_YELLOW);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>189</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.drawLine(30,73,80,123,ST7735_YELLOW);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>190</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.drawLine(80,123,105,98,ST7735_YELLOW); </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>191</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">} </code><code class="comments">//END&nbsp; mode==3</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>192</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">else</code> <code class="keyword">if</code> <code class="plain">(mode==4){ </code><code class="comments">//логотип пилы1</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>193</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.drawLine(5,123,105,73,ST7735_YELLOW);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>194</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.drawFastVLine(105, 73, 50, ST7735_YELLOW);</code><code class="comments">//спад конец такта статическая вер. линия</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>195</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">} </code><code class="comments">//END&nbsp; if (mode==3)</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>196</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">else</code> <code class="keyword">if</code> <code class="plain">(mode==5){</code><code class="comments">//логотип пилы2</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>197</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.drawFastVLine(5, 73, 50, ST7735_YELLOW); </code><code class="comments">// восход фронта статическая вер линия </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>198</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.drawLine(5,73,105,123,ST7735_YELLOW);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>199</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code><code class="comments">// END&nbsp; if (mode==4)</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>200</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">else</code> <code class="keyword">if</code> <code class="plain">(mode==6){ </code><code class="comments">//логотип меандра</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>201</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.drawFastVLine(5,73,25,ST7735_YELLOW);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>202</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.drawFastHLine(5,73,50,ST7735_YELLOW);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>203</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.drawFastVLine(55,73,50,ST7735_YELLOW);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>204</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.drawFastHLine(55,123,50,ST7735_YELLOW);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>205</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.drawFastVLine(105,98,25,ST7735_YELLOW);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>206</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>207</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="comments">//*********************** характеристики сигнала****************************************</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>208</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.setCursor(5, 70); </code><code class="comments">//&nbsp; вперёд, вниз</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>209</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.setTextColor(ST7735_WHITE, paper);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>210</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.setTextSize(1);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>211</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(mode &lt; 2 || mode==7){ </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>212</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.print(</code><code class="string">"+Width="</code><code class="plain">); </code><code class="keyword">if</code> <code class="plain">(t_hi&lt;1E3) {tft.print(t_hi); tft.print(</code><code class="string">" uS&nbsp; "</code><code class="plain">);} </code><code class="keyword">else</code> <code class="plain">{tft.print(t_hi/1000); tft.print(</code><code class="string">" mS&nbsp; "</code><code class="plain">);}&nbsp; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>213</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.setCursor(5, 80); </code><code class="comments">//&nbsp; вперёд, вниз</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>214</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.print(</code><code class="string">"-Width="</code><code class="plain">); </code><code class="keyword">if</code> <code class="plain">(t_low&lt;1E3) {tft.print(t_low); tft.print(</code><code class="string">" uS&nbsp; "</code><code class="plain">);} </code><code class="keyword">else</code> <code class="plain">{tft.print(t_low/1000); tft.print(</code><code class="string">" mS&nbsp; "</code><code class="plain">);}&nbsp; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>215</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.setCursor(60, 95); tft.print(</code><code class="string">"Duty = "</code><code class="plain">);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>216</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="comments">// tft.setCursor(60, 105); </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>217</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.print(duty_out,0);tft.print(</code><code class="string">"%"</code><code class="plain">);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>218</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">} </code><code class="comments">//END if (mode &lt; 2 || mode==7)</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>219</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(mode!=7){ </code><code class="comments">// выводить шаг кроме частотометра</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>220</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.setCursor(14, 95); tft.print(</code><code class="string">"Step="</code><code class="plain">);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>221</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.setCursor(14, 105); </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>222</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">switch</code> <code class="plain">(encstep) { </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>223</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">1: tft.print(</code><code class="string">"&nbsp;&nbsp; 1"</code><code class="plain">); </code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>224</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">10: tft.print(</code><code class="string">"&nbsp; 10"</code><code class="plain">); </code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>225</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">100: tft.print(</code><code class="string">" 100"</code><code class="plain">);</code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>226</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">1000: tft.print(</code><code class="string">"1000"</code><code class="plain">);</code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>227</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code><code class="comments">// END switch case&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>228</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">} </code><code class="comments">// END if (mode!=7)</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>229</code></td><td class="content"><code class="keyword">if</code> <code class="plain">( freq &lt; 1)&nbsp; {tft.fillRect(1,68, 158,59,paper); }</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>230</code></td><td class="content"><code class="plain">mon_flag=0;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>231</code></td><td class="content"><code class="plain">}</code><code class="comments">//END mon_out</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>232</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>233</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>234</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>235</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>236</code></td><td class="content"><code class="comments">//обработчик прерываний энкодера</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>237</code></td><td class="content"><code class="keyword">void</code> <code class="plain">enc_int(){&nbsp;&nbsp; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>238</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="keyword">if</code><code class="plain">((TIMER4_BASE-&gt;CR1)&amp;1&lt;&lt;4) {enc_mode(1);} </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>239</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="keyword">else</code> <code class="plain">{enc_mode(-1);} </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>240</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">}</code><code class="comments">// END VOID</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>241</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>242</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>243</code></td><td class="content"><code class="comments">// ФУНКЦИЯ конфигурации режимов </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>244</code></td><td class="content"><code class="keyword">void</code> <code class="plain">enc_mode(</code><code class="keyword">int</code> <code class="keyword">in</code><code class="plain">){</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>245</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">modebit= (GPIOB_BASE-&gt;IDR&amp;0x100); </code><code class="comments">//состояние кнопки. 0-нажата </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>246</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(!modebit) { </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>247</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">mytone(880,30); </code><code class="comments">//звук переключения режимов</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>248</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">mode+=</code><code class="keyword">in</code><code class="plain">; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>249</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code><code class="plain">(mode&gt;7){mode=7;}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>250</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code><code class="plain">(mode&lt;0){mode=0;} </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>251</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(mode&lt;2){timer_set();}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>252</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(mode==7) {freq=0;}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>253</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">mon_flag=1; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>254</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">return</code><code class="plain">; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>255</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">} </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>256</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">mytone(4400,10); </code><code class="comments">//звук изменения частоты</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>257</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">switch</code><code class="plain">(mode){</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>258</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">0:&nbsp;&nbsp; </code><code class="keyword">if</code> <code class="plain">(tim_mode==0) { freq+=(encstep*</code><code class="keyword">in</code><code class="plain">); timer_set(); }&nbsp;&nbsp; </code><code class="keyword">else</code> <code class="plain">{ timer_hi_set(</code><code class="keyword">in</code><code class="plain">); } </code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>259</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">1:&nbsp;&nbsp; duty_in+=</code><code class="keyword">in</code><code class="plain">; </code><code class="keyword">if</code><code class="plain">(duty_in&gt;99){duty_in=99;} </code><code class="keyword">if</code><code class="plain">(duty_in&lt;1){duty_in=1;} set_duty(); calc_freq();&nbsp; </code><code class="keyword">break</code><code class="plain">;&nbsp; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>260</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">7:&nbsp;&nbsp; </code><code class="keyword">break</code><code class="plain">; </code><code class="comments">// в частотометре не реагировать на вращение энкодера </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>261</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="keyword">default</code><code class="plain">: freq+=(encstep*</code><code class="keyword">in</code><code class="plain">); mon_flag=1; </code><code class="comments">//wave режимы</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>262</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="comments">// проверка на корректность запроса частоты</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>263</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(freq&lt;0){freq=0;} </code><code class="keyword">if</code> <code class="plain">(freq&gt;2E5) {freq=2E5;}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>264</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">} </code><code class="comments">//end switch case</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>265</code></td><td class="content"><code class="plain">}</code><code class="comments">//end enc_mode</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>266</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>267</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>268</code></td><td class="content"><code class="comments">// обработчик кнопки энкодера</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>269</code></td><td class="content"><code class="keyword">void</code> <code class="plain">key_enc_int(){</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>270</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="keyword">if</code><code class="plain">(!modebit){modebit=1; mon_flag=1;</code><code class="keyword">return</code><code class="plain">;}</code><code class="comments">// если менялся режим -выйти&nbsp; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>271</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(mode==1) { mytone(880,30); mode=0;&nbsp; mon_flag=1; ;</code><code class="keyword">return</code><code class="plain">;} </code><code class="comments">//сменить режим и выйти если были в duty mode</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>272</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">mytone(220,75); </code><code class="comments">//звук переключения шага</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>273</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">switch</code> <code class="plain">(encstep){ </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>274</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">1: encstep=10;&nbsp; </code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>275</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">10: encstep=100;&nbsp;&nbsp; </code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>276</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">100: encstep=1000; </code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>277</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">1000: encstep=1;&nbsp; </code><code class="keyword">break</code><code class="plain">; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>278</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">} </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>279</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">mon_flag=1; </code><code class="comments">//флаг вывода на дисплей</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>280</code></td><td class="content"><code class="plain">}</code><code class="comments">//end </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>281</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>282</code></td><td class="content"><code class="keyword">void</code> <code class="plain">set_duty(){</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>283</code></td><td class="content"><code class="keyword">if</code> <code class="plain">(mode==0 &amp;&amp; TIMER1_BASE-&gt;ARR&lt;100){ </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>284</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">TIMER1_BASE-&gt;CCR1=(TIMER1_BASE-&gt;ARR+1)/2 ; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>285</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">duty_in=50;&nbsp; </code><code class="keyword">return</code><code class="plain">;&nbsp;&nbsp; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>286</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>287</code></td><td class="content"><code class="plain">TIMER1_BASE-&gt;CCR1=(TIMER1_BASE-&gt;ARR+1)*duty_in/100;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>288</code></td><td class="content"><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>289</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>290</code></td><td class="content"><code class="comments">//ОБЩАЯ НАСТРОЙКА ТАЙМЕРА</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>291</code></td><td class="content"><code class="keyword">void</code> <code class="plain">timer_set(){</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>292</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">GPIOA_BASE-&gt;CRL=0xB4444444; </code><code class="comments">//PA7 alt_output</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>293</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">GPIOA_BASE-&gt;CRH=0x4444444B; </code><code class="comments">//PA8 alt_output</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>294</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER1_BASE-&gt;CCMR1=(1&lt;&lt;6)|(1&lt;&lt;5)|(1&lt;&lt;3);</code><code class="comments">//PWM mode 1</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>295</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER1_BASE-&gt;CCMR2=0;TIMER1_BASE-&gt;PSC=0; TIMER1_BASE-&gt;CCR2=0; TIMER1_BASE-&gt;ARR=1;&nbsp; TIMER1_BASE-&gt;CR1=1;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>296</code></td><td class="content"><code class="plain">TIMER1_BASE-&gt;CCER=(1&lt;&lt;0)|(1&lt;&lt;2)|(pwm2_polar&lt;&lt;3);</code><code class="comments">//cc1e/cc1ne enable </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>297</code></td><td class="content"><code class="comments">//TIMER1_BASE-&gt;BDTR=(1&lt;&lt;15)| 255 ;// dead time sample</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>298</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="keyword">if</code> <code class="plain">(freq&lt;1){freq=0; TIMER1_BASE-&gt;CCR1=0;TIMER1_BASE-&gt;ARR= 1; mon_flag=1; </code><code class="keyword">return</code><code class="plain">;} </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>299</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="keyword">if</code> <code class="plain">(freq&gt;36E6) {freq=36E6;}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>300</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain">divider=1;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>301</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">int</code> <code class="plain">tim_arr = 72E6/freq;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>302</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">while</code> <code class="plain">( (tim_arr/divider) &gt; 65535) {divider++;} </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>303</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER1_BASE-&gt;PSC=divider-1;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>304</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER1_BASE-&gt;ARR=(tim_arr/divider)-1;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>305</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">set_duty();</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>306</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">calc_freq();</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>307</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>308</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>309</code></td><td class="content"><code class="comments">//НАСТРОЙКА ТАЙМЕРА НА ЧАСТОТАХ ВЫШЕ 8КГЦ</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>310</code></td><td class="content"><code class="keyword">void</code> <code class="plain">timer_hi_set(</code><code class="keyword">int</code> <code class="plain">arr){</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>311</code></td><td class="content"><code class="plain">__asm volatile( </code><code class="string">"cpsid i"</code> <code class="plain">);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>312</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="plain">GPIOA_BASE-&gt;CRL=0xB4444444; </code><code class="comments">//PA7 alt_output</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>313</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">GPIOA_BASE-&gt;CRH=0x4444444B; </code><code class="comments">//PA8 alt_output</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>314</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER1_BASE-&gt;CCMR1=(1&lt;&lt;6)|(1&lt;&lt;5)|(1&lt;&lt;3);</code><code class="comments">//PWM mode 1</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>315</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER1_BASE-&gt;CCER=(1&lt;&lt;0)|(1&lt;&lt;2)|(pwm2_polar&lt;&lt;3);</code><code class="comments">//cc1e/cc1ne enable </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>316</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="comments">//насильно уменьшить шаг с ростом частоты</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>317</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(TIMER1_BASE-&gt;ARR&lt;1000 &amp;&amp; encstep &gt; 100) encstep=100; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>318</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(TIMER1_BASE-&gt;ARR&lt;100 &amp;&amp; encstep &gt; 10) encstep=10;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>319</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(TIMER1_BASE-&gt;ARR&lt;10 &amp;&amp; encstep &gt; 1) encstep=1;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>320</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">arr*=encstep;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>321</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="keyword">int</code> <code class="plain">icr= TIMER1_BASE-&gt;ARR-=arr;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>322</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(icr&lt;1) {icr=1;} </code><code class="keyword">if</code> <code class="plain">(icr&gt;65535) {icr=65535;}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>323</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="plain">TIMER1_BASE-&gt;ARR=icr;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>324</code></td><td class="content"><code class="plain">__asm volatile( </code><code class="string">"cpsie i"</code> <code class="plain">);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>325</code></td><td class="content"><code class="plain">set_duty();</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>326</code></td><td class="content"><code class="plain">calc_freq();</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>327</code></td><td class="content"><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>328</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>329</code></td><td class="content"><code class="comments">// РАСЧЁТ ЧАСТОТЫ И ТАЙМИНГОВ В РЕЖИМАХ PWM</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>330</code></td><td class="content"><code class="keyword">void</code> <code class="plain">calc_freq(){</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>331</code></td><td class="content"><code class="plain">uint32_t imp_long, imp_hi;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>332</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="plain">freq= 72E6/((TIMER1_BASE-&gt;ARR+1)*divider);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>333</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">duty_out=&nbsp; (</code><code class="keyword">float</code><code class="plain">) TIMER1_BASE-&gt;CCR1 / ((TIMER1_BASE-&gt;ARR+1) / 100.0) ;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>334</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain">duty_out= floorf(duty_out);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>335</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">imp_long=(uint32_t) ((TIMER1_BASE-&gt;ARR+1)*divider);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>336</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">imp_hi=(uint32_t)&nbsp; ((TIMER1_BASE-&gt;CCR1)*divider);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>337</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain">t_low= (imp_long-imp_hi) /72.0 ;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>338</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">t_hi=&nbsp; imp_hi /72.0;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>339</code></td><td class="content"><code class="plain">mon_flag=1;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>340</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>341</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>342</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>343</code></td><td class="content"><code class="comments">// КОНФИГУРАЦИЯ DDS РЕЖИМОВ</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>344</code></td><td class="content"><code class="keyword">void</code> <code class="plain">dds_set(){</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>345</code></td><td class="content"><code class="keyword">static</code> <code class="plain">uint32_t akkum;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>346</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="keyword">static</code> <code class="keyword">byte</code> <code class="plain">oldmode=255;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>347</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER1_BASE-&gt;CCER=0; </code><code class="comments">//timer output pins disable &amp;&amp; перечитать регистры. </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>348</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">GPIOA_BASE-&gt;CRL = 0x33333333;</code><code class="comments">// pa0-pa7&nbsp; выход</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>349</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">GPIOA_BASE-&gt;CRH =0x44444444; </code><code class="comments">//pa8-pa15 вход</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>350</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(oldmode !=mode) {</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>351</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(mode==2) {</code><code class="keyword">for</code><code class="plain">(uint16_t n=0; n&lt;512; n++){wave[n]=255*(sin(TWO_PI*</code><code class="keyword">float</code><code class="plain">(n)/512)+1)/2 ;}}</code><code class="comments">// синус</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>352</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">else</code> <code class="keyword">if</code> <code class="plain">(mode==3){ </code><code class="keyword">for</code><code class="plain">(uint16_t n=0; n&lt;512; n++){</code><code class="keyword">if</code> <code class="plain">(n&lt;256){ wave[n]=n;} </code><code class="keyword">else</code> <code class="plain">{wave[n]=(511-n);}}}</code><code class="comments">//треугол</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>353</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">else</code> <code class="keyword">if</code> <code class="plain">(mode==4){ </code><code class="keyword">for</code><code class="plain">(uint16_t n=0; n&lt;512; n++){ wave[n]=(n&gt;&gt;1);}}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="comments">//пила1</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>354</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">else</code> <code class="keyword">if</code> <code class="plain">(mode==5){ </code><code class="keyword">for</code><code class="plain">(uint16_t n=0; n&lt;512; n++){ wave[n]=((~n)&gt;&gt;1);}}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="comments">//пила2</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>355</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">else</code> <code class="keyword">if</code> <code class="plain">(mode==6){ </code><code class="keyword">for</code><code class="plain">(uint16_t n=0; n&lt;512; n++){</code><code class="keyword">if</code> <code class="plain">(n&lt;256){ wave[n]=0;} </code><code class="keyword">else</code> <code class="plain">{wave[n]=255;}}}&nbsp;&nbsp;&nbsp; </code><code class="comments">//меандр</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>356</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">oldmode=mode; } </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>357</code></td><td class="content"><code class="comments">//для пересчёта коэффициента вручную: частоту на экране * текущий множитель и разделить на фактически измеренную частоту</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>358</code></td><td class="content"><code class="plain">uint32_t dds_shag= (</code><code class="keyword">double</code><code class="plain">)freq * 1670.1100841768461768461768461768;</code><code class="comments">//&nbsp; шаг= частота*коэффициент</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>359</code></td><td class="content"><code class="keyword">while</code><code class="plain">(!mon_flag){GPIOA_BASE-&gt;ODR=wave[(akkum+=dds_shag)&gt;&gt;23];} </code><code class="comments">//генерация DDS</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>360</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">GPIOA_BASE-&gt;CRL=0x44444444;</code><code class="comments">// все пины в Z</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>361</code></td><td class="content"><code class="plain">}</code><code class="comments">//END DDS set()</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>362</code></td><td class="content"><code class="comments">//</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>363</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>364</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="keyword">void</code> <code class="plain">mytone(</code><code class="keyword">int</code> <code class="plain">frq, </code><code class="keyword">int</code> <code class="plain">ms ){</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>365</code></td><td class="content"><code class="keyword">if</code> <code class="plain">(mode==7){</code><code class="keyword">return</code><code class="plain">;} </code><code class="comments">//таймер в режиме частотометра занят</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>366</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="plain">uint16_t psc=1; uint32_t tim_arr;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>367</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="comments">// настройка генератора звука на таймере3</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>368</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">tim_arr = 36E6/frq;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>369</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="keyword">while</code> <code class="plain">( (tim_arr/psc) &gt; 65535) {psc++;} </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>370</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">__asm volatile( </code><code class="string">"cpsid i"</code> <code class="plain">); </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>371</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER2_BASE-&gt;SMCR=0;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>372</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER3_BASE-&gt;CCR3=0; </code><code class="comments">//обнулить регистр соответсвующий используемому выходу</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>373</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER3_BASE-&gt;PSC=psc-1;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>374</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER3_BASE-&gt;ARR=(tim_arr/psc)-1;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>375</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER3_BASE-&gt;CCMR2=(1&lt;&lt;5)|(1&lt;&lt;4);</code><code class="comments">// OC3M:011</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>376</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER3_BASE-&gt;CCER=1&lt;&lt;8;</code><code class="comments">//cc3e&nbsp; подключить аппаратную ногу</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>377</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER3_BASE-&gt;SMCR=(1&lt;&lt;2)|(1&lt;&lt;0)|(1&lt;&lt;4);</code><code class="comments">//SMS:101 &amp;&amp; TS:001&nbsp; строб от 2-го таймера&nbsp; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>378</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER3_BASE-&gt;EGR=1; </code><code class="comments">//перечитать регистры.</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>379</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER3_BASE-&gt;CR1=1;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>380</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="color1">/// настройка выдержки времени на таймере2</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>381</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">psc=1;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>382</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tim_arr = 72E3 * ms;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>383</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">while</code> <code class="plain">( (tim_arr/psc) &gt; 65536) {psc++;} </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>384</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER2_BASE-&gt;CCMR2=0;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>385</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER2_BASE-&gt;CR2=0;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>386</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER2_BASE-&gt;CR1=(1&lt;&lt;3)|(1&lt;&lt;2);</code><code class="comments">//один импульс, без прероываний</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>387</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER2_BASE-&gt;CNT=0;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>388</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">TIMER2_BASE-&gt;CR2=(1&lt;&lt;4);&nbsp; </code><code class="comments">//MMS:001 сигнал разрешения работы другим таймерам</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>389</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="plain">TIMER2_BASE-&gt;PSC=psc-1;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>390</code></td><td class="content"><code class="plain">TIMER2_BASE-&gt;ARR=(tim_arr/psc)-1;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>391</code></td><td class="content"><code class="plain">TIMER2_BASE-&gt;EGR=1; </code><code class="comments">//перечитать регистры.</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>392</code></td><td class="content"><code class="plain">TIMER2_BASE-&gt;CR1|=(1&lt;&lt;0);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>393</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">__asm volatile( </code><code class="string">"cpsie i"</code> <code class="plain">);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>394</code></td><td class="content"><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>395</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>396</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>397</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>398</code></td><td class="content"><code class="plain">[/code]</code></td></tr></tbody></table></div></div></div>

<p><img alt="" src="./Генератор с регулируемоей частотой на ардуино. _ Аппаратная платформа Arduino_files/img_20170801.png" style="width:683px;height:600px;" width="683" height="600"></p>
<p>DIMAX СПАСИБО !</p>
      </div>

          </div>
  </div>

  <div class="forum-post-footer clear-block">
    <div class="forum-jump-links">
      <a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#top" title="Jump to top of page">Верх</a>
    </div>

          <div class="forum-post-links">
        <ul class="links forum-links"><li class="comment_forbidden first"><span><a href="http://arduino.ru/user/login?destination=node%2F11357%23comment-form">Войдите</a> или <a href="http://arduino.ru/user/register?destination=node%2F11357%23comment-form">зарегистрируйтесь</a>, чтобы получить возможность отправлять комментарии</span></li>
<li class="vud_comment_votes_count last"></li>
</ul>      </div>
      </div>
</div><a id="comment-299179"></a>

    <div class="forum-post  clear-block">

  <div class="post-info clear-block">
    <div class="posted-on">
      Втр, 01/08/2017 - 19:55
          </div>

          <span class="post-num"><a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#comment-299179" class="active">#25</a> </span>
      </div>

  <div class="forum-post-wrapper">

    <div class="forum-post-panel-sub">
      

<div class="author-pane">
 <div class="author-pane-inner">
        <div class="author-pane-section author-pane-general">
            <div class="author-pane-line author-name">
        240265      </div>

                    
  <div class="picture">
          <img src="./Генератор с регулируемоей частотой на ардуино. _ Аппаратная платформа Arduino_files/picture-14021.jpg" alt="240265 аватар" title="240265 аватар">      </div>
      
                    <div class="author-pane-line author-offline">
           Offline        </div>
      
            
            
            
                    <div class="author-pane-line author-joined">
          <span class="author-pane-label">Зарегистрирован:</span> 12.08.2015        </div>
      
            
                </div>

        <div class="author-pane-section author-pane-contact">
            
            
            
                </div>

        <div class="author-pane-section author-pane-admin">
            
          
               </div>
  </div>
</div>
    </div>

    <div class="forum-post-panel-main clear-block">
      
      <div class="content">
        <p>Т.К. энкодер у меня не тот , прилепил кнопки.<img alt="" src="./Генератор с регулируемоей частотой на ардуино. _ Аппаратная платформа Arduino_files/gen_v3_1_key.jpg" style="width:780px;height:515px;" width="780" height="515"></p>
<div id="highlighter_514734" class="syntaxhighlighter collapsed  "><div class="bar"><div class="toolbar"><a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#expandSource" title="показать код" class="item expandSource" style="width: 16px; height: 16px;">показать код</a><a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#viewSource" title="код" class="item viewSource" style="width: 16px; height: 16px;">код</a><div class="item copyToClipboard"><embed width="16" height="16" id="highlighter_514734_clipboard" type="application/x-shockwave-flash" title="скопировать" allowscriptaccess="always" wmode="transparent" flashvars="highlighterId=highlighter_514734" menu="false" src="/sites/all/libraries/syntaxhighlighter/scripts/clipboard.swf"></div><a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#printSource" title="расечатать" class="item printSource" style="width: 16px; height: 16px;">расечатать</a><a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#about" title="?" class="item about" style="width: 16px; height: 16px;">?</a></div></div><div class="lines"><div class="line alt1"><table><tbody><tr><td class="number"><code>001</code></td><td class="content"><code class="plain">[code]</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>002</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>003</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>004</code></td><td class="content"><code class="comments">/*Генератор с регулируемой частотой v3.0 (C)Dimax </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>005</code></td><td class="content"><code class="comments">IVL (240265) Добавил кнопки. Экран 128х128 ST7735 */</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>006</code></td><td class="content"><code class="preprocessor">#define pwm2_polar 0 //полярность выхода PWM2</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>007</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="preprocessor">#define paper&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0x000000 // цвет фона экрана</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>008</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="preprocessor">#include &lt;Adafruit_GFX_AS.h&gt;&nbsp;&nbsp;&nbsp; // Core graphics library</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>009</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="preprocessor">#include &lt;Adafruit_ST7735.h&gt; // Hardware-specific library</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>010</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="preprocessor">#include &lt;SPI.h&gt; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>011</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">Adafruit_ST7735 tft = Adafruit_ST7735(PB12, PB11,PB10); </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>012</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">volatile </code><code class="keyword">int</code> <code class="plain">enc_tic=0, duty_in=50, divider, mon_flag, modebit=1, tim_mode=0, mode=0;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>013</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">volatile </code><code class="keyword">int</code> <code class="plain">encstep=1; </code><code class="comments">//шаг изменения частоты по умолчанию </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>014</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">volatile </code><code class="keyword">float</code> <code class="plain">freq=1000; </code><code class="comments">//частота по умолчанию</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>015</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">volatile </code><code class="keyword">float</code> <code class="plain">duty_out;</code><code class="comments">// переменная счёта скважности</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>016</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="keyword">float</code> <code class="plain">t_hi, t_low; </code><code class="comments">//переменные счёта длины импульсов</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>017</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">uint8_t wave[512]; </code><code class="comments">//массив для DDS синтеза</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>018</code></td><td class="content"><code class="keyword">byte</code> <code class="plain">sine_logo[]={25,27,28,30,31,33,34,36,37,38,40,41,42,43,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>019</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">44,45,46,47,48,48,49,49,50,50,50,50,50,50,50,49,49,48,48,47,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>020</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain">46,45,44,43,42,41,40,38,37,36,34,33,31,30,28,27,25,23,22,20,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>021</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">19,17,16,14,13,12,10,9,8,7,6,5,4,3,2,2,1,1,0,0,0,0,0,0,0,1,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>022</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">1,2,2,3,4,5,6,7,8,9,10,12,13,14,16,17,19,20,22,23};</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>023</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>024</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">void</code> <code class="keyword">setup</code><code class="plain">() {</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>025</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">SPI.setModule(2);</code><code class="comments">// выбор SPI2</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>026</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.initR(INITR_BLACKTAB);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>027</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.setRotation(3);</code><code class="comments">//дисплей горизонтально, контакты слева</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>028</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.fillScreen(paper);</code><code class="comments">//залить цветом по умолчанию</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>029</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.setTextWrap(0);</code><code class="comments">//не переосить строки</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>030</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain">nvic_irq_disable_all();</code><code class="comments">//отключить все прерывания</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>031</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">systick_disable(); </code><code class="comments">// отключить системный таймер</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>032</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="plain">RCC_BASE-&gt;APB1ENR|= (1&lt;&lt;2)|(1&lt;&lt;1)|(1&lt;&lt;0); </code><code class="comments">//включить тактирование tim-2,3,4</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>033</code></td><td class="content"><code class="plain">RCC_BASE-&gt;APB2ENR|= (1&lt;&lt;3)|(1&lt;&lt;11)|(1&lt;&lt;2)|(1&lt;&lt;0)|(1&lt;&lt;4);</code><code class="color1">////включить тактирование port-a-b-c,tim1</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>034</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="plain">AFIO_BASE-&gt;MAPR=(1&lt;&lt;8)|(1&lt;&lt;6); </code><code class="comments">//tim 1 &amp;&amp; tim 2 Partial remap</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>035</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">pinMode(PB0,PWM); </code><code class="comments">//buzzer</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>036</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">pinMode(PB4,INPUT_PULLUP);</code><code class="comments">//key+</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>037</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">pinMode(PB5,INPUT_PULLUP);</code><code class="comments">//key-</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>038</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain">pinMode(PB6,INPUT_PULLUP);</code><code class="comments">//enc</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>039</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">pinMode(PB7,INPUT_PULLUP);</code><code class="comments">//enc</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>040</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">pinMode(PB8,INPUT_PULLUP);</code><code class="comments">//key enc</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>041</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">mytone(1000,50);</code><code class="comments">//сигнал после старта</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>042</code></td><td class="content"><code class="color1">///////// Таймер4 -обработчик энкодера&nbsp;&nbsp;&nbsp;&nbsp; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>043</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER4_BASE-&gt;CR1=(1&lt;&lt;2)|(1&lt;&lt;9);</code><code class="comments">//CKD10 URS</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>044</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER4_BASE-&gt;CCMR1=0xf1f1; (1&lt;&lt;0)|(1&lt;&lt;8 );</code><code class="comments">//cc1s, cc2s input mapped TI1/TI2</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>045</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER4_BASE-&gt;CCER=(1&lt;&lt;1)|(1&lt;&lt;5)|(1&lt;&lt;0)|(1&lt;&lt;4);</code><code class="comments">//Capture/Compare 1,2 output polarity</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>046</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER4_BASE-&gt;SMCR=(1&lt;&lt;1)|(1&lt;&lt;0);</code><code class="comments">//Encoder mode3(SMS bit)стр.407</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>047</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER4_BASE-&gt;CNT=0;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>048</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">TIMER4_BASE-&gt;ARR=1;</code><code class="comments">//ограничение счёта ( =3 для двухимпульсного энкодера)</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>049</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">TIMER4_BASE-&gt;SR=0; TIMER4_BASE-&gt;EGR=1; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>050</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="plain">timer_attach_interrupt(TIMER4, TIMER_UPDATE_INTERRUPT, enc_int);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>051</code></td><td class="content"><code class="plain">TIMER4_BASE-&gt;CR1|=(1&lt;&lt;0);</code><code class="comments">//запуск </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>052</code></td><td class="content"><code class="comments">//прерывание кнопки энкодера</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>053</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="plain">attachInterrupt(PB8, key_enc_int, RISING);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>054</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="plain">attachInterrupt(PB4, key_plus_int, RISING);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>055</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="plain">attachInterrupt(PB5, key_min_int, RISING);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>056</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">timer_set();</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>057</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>058</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>059</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>060</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>061</code></td><td class="content"><code class="keyword">void</code> <code class="keyword">loop</code><code class="plain">() {</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>062</code></td><td class="content"><code class="keyword">static</code> <code class="keyword">int</code> <code class="plain">old_mode_loop=-1;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>063</code></td><td class="content"><code class="keyword">if</code> <code class="plain">(freq &gt; 8485) {tim_mode=1;} </code><code class="keyword">else</code> <code class="plain">{tim_mode=0;}</code><code class="comments">// переключать режимы таймера</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>064</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(mode!=old_mode_loop) {</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>065</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.fillScreen(paper); old_mode_loop=mode; mon_flag=1;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>066</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code><code class="comments">//чистить полностью экран только при смене режимов</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>067</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(mode==7) {mon_out(); freq_meter();&nbsp; }</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>068</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(mode &gt;1 &amp;&amp; mode&lt;7) { mon_out();&nbsp; dds_set(); } </code><code class="comments">// запуск DDS режимов</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>069</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="keyword">if</code> <code class="plain">(mon_flag) { mon_out();} </code><code class="comments">//в остальных ситуациях при наличии флага вывода на дисплей </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>070</code></td><td class="content"><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>071</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code>&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>072</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>073</code></td><td class="content"><code class="keyword">void</code> <code class="plain">freq_meter(){</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>074</code></td><td class="content"><code class="color1">/////////////////////счётчик импульсов\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>075</code></td><td class="content"><code class="plain">pinMode(PA15,INPUT_PULLDOWN); </code><code class="comments">// вход частотометра</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>076</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="plain">uint32_t imp_long,imp_hi;</code><code class="comments">//переменные измерения длины такта</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>077</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain">__asm volatile( </code><code class="string">"cpsid i"</code> <code class="plain">);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>078</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="color1">/// Timer2 счёт младших 16 бит</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>079</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER2_BASE-&gt;CR1=0;</code><code class="comments">//стоп таймер</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>080</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER2_BASE-&gt;CCER=0; TIMER2_BASE-&gt;PSC=0;&nbsp; TIMER2_BASE-&gt;CNT=0; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>081</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER2_BASE-&gt;CCR1=0; TIMER2_BASE-&gt;CCR2=0; TIMER2_BASE-&gt;CCR3=0; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>082</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER2_BASE-&gt;CCR4=0;TIMER2_BASE-&gt;PSC=0;TIMER2_BASE-&gt;SR=0;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>083</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER2_BASE-&gt;CCMR2=0;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>084</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER2_BASE-&gt;CR2=1&lt;&lt;5; </code><code class="comments">//MMS:010 управление подчинённым в режиме "Update" </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>085</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER2_BASE-&gt;SMCR= (1&lt;&lt;14);</code><code class="comments">// ECE &amp; TS:000&nbsp; режим 2 внешнего тактирования &amp; разрешение работы от таймера1</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>086</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER2_BASE-&gt;ARR=65535; </code><code class="comments">//считать до максимума</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>087</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER2_BASE-&gt;EGR=1; </code><code class="comments">//перечитать регистры.</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>088</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER2_BASE-&gt;CR1|=(1&lt;&lt;0);</code><code class="comments">//start timer2</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>089</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="color1">/// Timer3 счёт старших 16 бит</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>090</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER3_BASE-&gt;CR1=1&lt;&lt;0;</code><code class="comments">//стоп таймер</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>091</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER3_BASE-&gt;CCER=0; TIMER3_BASE-&gt;PSC=0; TIMER3_BASE-&gt;CNT=0; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>092</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER3_BASE-&gt;CCR1=0; TIMER3_BASE-&gt;CCR2=0; TIMER3_BASE-&gt;CCR3=0; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>093</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">TIMER3_BASE-&gt;CCR4=0;TIMER3_BASE-&gt;PSC=0;TIMER3_BASE-&gt;SR=0;TIMER3_BASE-&gt;CR2=0;&nbsp; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>094</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="plain">TIMER3_BASE-&gt;CCMR1=0; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>095</code></td><td class="content"><code class="plain">TIMER3_BASE-&gt;SMCR=(1&lt;&lt;2)|(1&lt;&lt;1)|(1&lt;&lt;0)|(1&lt;&lt;4);</code><code class="comments">//SMS:111 &amp;&amp; TS:001&nbsp; такт брать от 2-го таймера&nbsp; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>096</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="plain">TIMER3_BASE-&gt;ARR=65535; </code><code class="comments">//считать до </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>097</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">TIMER3_BASE-&gt;EGR=1; </code><code class="comments">//перечитать регистры.</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>098</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER3_BASE-&gt;CR1|=(1&lt;&lt;0);</code><code class="comments">//start timer3</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>099</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="color1">/// настройка времени разрешения на таймере1 для таймера2</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>100</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER1_BASE-&gt;CR1=(1&lt;&lt;3)|(1&lt;&lt;2);</code><code class="comments">//один импульс, без прерываний</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>101</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER1_BASE-&gt;CNT=0;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>102</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER1_BASE-&gt;CR2=(1&lt;&lt;4);&nbsp; </code><code class="comments">//MMS:001 сигнал разрешения работы другим таймерам</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>103</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER1_BASE-&gt;CCER=0;</code><code class="comments">// отключить выходы таймера на физ ноги</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>104</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER1_BASE-&gt;PSC=1999; </code><code class="comments">// 72000000/20000= 36000кГц тактовая таймера </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>105</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER1_BASE-&gt;ARR=35999;</code><code class="comments">//считать до 36000 (1секунда) </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>106</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER1_BASE-&gt;EGR=1; </code><code class="comments">//перечитать регистры.</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>107</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER1_BASE-&gt;CR1|=(1&lt;&lt;0);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>108</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">__asm volatile( </code><code class="string">"cpsie i"</code> <code class="plain">);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>109</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">while</code> <code class="plain">(TIMER1_BASE-&gt;CR1&amp;1) {asm volatile(</code><code class="string">"nop"</code><code class="plain">); </code><code class="keyword">if</code><code class="plain">(mon_flag) {</code><code class="keyword">return</code><code class="plain">;}&nbsp; }</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>110</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">freq=&nbsp; TIMER3_BASE-&gt;CNT&lt;&lt;16&nbsp; | TIMER2_BASE-&gt;CNT ;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>111</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(freq&gt;1E6){ t_low=0;t_hi=0; duty_out=50;</code><code class="keyword">return</code><code class="plain">;} </code><code class="comments">//выйти если freq больше мегагерца</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>112</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="comments">// Перенастройка таймера 2 в режии измерения длительности импульса и скважности</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>113</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="plain">divider=1;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>114</code></td><td class="content"><code class="keyword">while</code> <code class="plain">((72E6/divider/((freq&gt;0)? freq : 1 )) &gt; 65000) {divider++;}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>115</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="plain">__asm volatile( </code><code class="string">"cpsid i"</code> <code class="plain">);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>116</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">TIMER2_BASE-&gt;CR1=0;</code><code class="comments">//стоп таймер</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>117</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER2_BASE-&gt;CCER=0; TIMER2_BASE-&gt;PSC=0;&nbsp; TIMER2_BASE-&gt;CNT=0; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>118</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER2_BASE-&gt;CCR1=0; TIMER2_BASE-&gt;CCR2=0; TIMER2_BASE-&gt;CCR3=0; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>119</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER2_BASE-&gt;CCR4=0;TIMER2_BASE-&gt;PSC=0;TIMER2_BASE-&gt;SR=0;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>120</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER2_BASE-&gt;CCMR2=0;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>121</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER2_BASE-&gt;CR2=0;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>122</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER2_BASE-&gt;PSC= divider-1;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>123</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER2_BASE-&gt;SMCR=(1&lt;&lt;4)|(1&lt;&lt;6)|(1&lt;&lt;2);</code><code class="comments">// TS:101 SMS:100&nbsp; вход TI1FP1&nbsp; , Режим сброса</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>124</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER2_BASE-&gt;CCMR1=(1&lt;&lt;0)|(1&lt;&lt;9);</code><code class="comments">//CC1 input,mapped on TI1, CC2 input,mapped on TI1</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>125</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER2_BASE-&gt;CCER=(1&lt;&lt;5)|(1&lt;&lt;0)|(1&lt;&lt;4);</code><code class="comments">//cc1-Hi,cc2-lo </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>126</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER2_BASE-&gt;EGR=1; </code><code class="comments">//перечитать регистры.</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>127</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER2_BASE-&gt;CR1=(1&lt;&lt;0);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>128</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">__asm volatile( </code><code class="string">"cpsie i"</code> <code class="plain">);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>129</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">while</code><code class="plain">( (TIMER2_BASE-&gt;SR&amp;0x65F)!=0x65F) {asm volatile(</code><code class="string">"nop"</code><code class="plain">);&nbsp; </code><code class="keyword">if</code><code class="plain">(mon_flag) {</code><code class="keyword">return</code><code class="plain">;} }</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>130</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER2_BASE-&gt;CR1=0;</code><code class="comments">// стоп таймер</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>131</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain">imp_long=(uint32_t) ((TIMER2_BASE-&gt;CCR1)*divider);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>132</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">imp_hi=(uint32_t)&nbsp; ((TIMER2_BASE-&gt;CCR2)*divider);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>133</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="keyword">if</code> <code class="plain">(freq &lt;1000){ freq=72E6 /imp_long;} </code><code class="comments">//если freq Менее 1кГц то использовать данные второго НЧ-измерения частоты</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>134</code></td><td class="content"><code class="plain">duty_out=&nbsp; (</code><code class="keyword">float</code><code class="plain">) imp_hi / (imp_long / 100.0) ;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>135</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="plain">t_low= (imp_long-imp_hi) /72.0 ;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>136</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">t_hi=&nbsp; imp_hi /72.0;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>137</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain">mon_flag=1;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>138</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain">} </code><code class="comments">//END freq meter</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>139</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>140</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>141</code></td><td class="content"><code class="color1">///////////////////////////////////////////////////////////////////////////</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>142</code></td><td class="content"><code class="color1">/////////*********** ВЫВОД НА ДИСПЛЕЙ************//////////////////////////</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>143</code></td><td class="content"><code class="color1">///////////////////////////////////////////////////////////////////////////</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>144</code></td><td class="content"><code class="keyword">void</code> <code class="plain">mon_out(){</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>145</code></td><td class="content"><code class="keyword">char</code> <code class="plain">mybuf[10]; </code><code class="keyword">float</code> <code class="plain">freq_out;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>146</code></td><td class="content"><code class="comments">//************** Вывод первой строчки*****************************</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>147</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">tft.setCursor(0, 0); </code><code class="comments">//&nbsp; вперёд, вниз</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>148</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.setTextColor(ST7735_GREEN, paper);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>149</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.setTextSize(2);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>150</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">switch</code><code class="plain">(mode){ </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>151</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">0: tft.print(</code><code class="string">" PWM Mode&nbsp;&nbsp; "</code><code class="plain">); </code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>152</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">1: tft.print(</code><code class="string">"Duty Mode&nbsp; "</code><code class="plain">); </code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>153</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">2: tft.print(</code><code class="string">"Sinus DDS&nbsp; "</code><code class="plain">); </code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>154</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">3: tft.print(</code><code class="string">"Trian DDS"</code><code class="plain">); </code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>155</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">4: tft.print(</code><code class="string">"Pila1 DDS&nbsp; "</code><code class="plain">); </code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>156</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">5: tft.print(</code><code class="string">"Pila2 DDS&nbsp; "</code><code class="plain">); </code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>157</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">6: tft.print(</code><code class="string">"Meandr DDS "</code><code class="plain">); </code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>158</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">7: tft.print(</code><code class="string">"Freq meter "</code><code class="plain">); </code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>159</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>160</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="comments">//*****************Вывод второй строчки*****************************</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>161</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.setTextColor(ST7735_WHITE, paper);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>162</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.setTextSize(2);&nbsp;&nbsp; tft.setCursor(0, 19);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>163</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(freq &gt;=1E6) { freq_out=freq/1E6;}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>164</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">else</code> <code class="keyword">if</code> <code class="plain">(freq&gt;=1E4) { freq_out=freq/1000;}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>165</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">else</code> <code class="plain">{ freq_out=freq;}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>166</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(mode!=7 &amp;&amp; freq &lt;10000) { dtostrf(freq_out, 6, 0, mybuf); tft.print(mybuf); tft.print(</code><code class="string">"&nbsp;&nbsp; "</code><code class="plain">); } </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>167</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">else</code> <code class="plain">{dtostrf(freq_out, 8, 3, mybuf); tft.print(mybuf);}&nbsp;&nbsp;&nbsp; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>168</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="comments">//********************Вывод третьей строчки*****************************</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>169</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.setCursor(30, 43); </code><code class="comments">//&nbsp; вперёд, вниз</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>170</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.setTextColor(ST7735_RED,paper);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>171</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code><code class="plain">(freq&gt;=1E6){tft.print(</code><code class="string">"MHz"</code><code class="plain">);}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>172</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">else</code> <code class="keyword">if</code> <code class="plain">(freq&gt;=1E4){tft.print(</code><code class="string">"kHz"</code><code class="plain">);}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>173</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">else</code> <code class="plain">{tft.print(</code><code class="string">" Hz"</code><code class="plain">);}&nbsp; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>174</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="comments">//********************* "осциллограммы"******************************</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>175</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.fillRect(5,90, 100,38,paper);</code><code class="comments">//вправо, вниз, ширина вправо, длина вниз</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>176</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.drawRect(0,67, 128,61,ST7735_MAGENTA);</code><code class="comments">//вправо, вниз, ширина вправо, длина вниз</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>177</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(mode&lt;2 || mode==7){</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>178</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.drawFastVLine(5, 90, 30, ST7735_CYAN); </code><code class="comments">// восход фронта статическая вер линия</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>179</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.drawFastHLine(5, 91, (</code><code class="keyword">int</code><code class="plain">)duty_out, ST7735_YELLOW);</code><code class="comments">//длина единицы</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>180</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.drawFastHLine(5, 90, (</code><code class="keyword">int</code><code class="plain">)duty_out, ST7735_YELLOW);</code><code class="comments">//паралельная линия для выделения</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>181</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.drawFastVLine((</code><code class="keyword">int</code><code class="plain">)duty_out+5, 91, 30, ST7735_YELLOW);</code><code class="comments">// спад</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>182</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.drawFastVLine((</code><code class="keyword">int</code><code class="plain">)duty_out+4, 90, 30, ST7735_YELLOW);</code><code class="comments">//паралельная линия для выделения</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>183</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.drawFastVLine(105, 90, 30, ST7735_YELLOW);</code><code class="comments">//спад конец такта статическая вер. линия</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>184</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.drawFastVLine(104, 90, 30, ST7735_YELLOW);</code><code class="comments">//паралельная линия для выделения</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>185</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.drawFastHLine((</code><code class="keyword">int</code><code class="plain">)duty_out+5, 120, (100-(</code><code class="keyword">int</code><code class="plain">)duty_out), ST7735_YELLOW);</code><code class="comments">//линия единицы 2-го такта</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>186</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.drawFastHLine((</code><code class="keyword">int</code><code class="plain">)duty_out+5, 119, (100-(</code><code class="keyword">int</code><code class="plain">)duty_out), ST7735_YELLOW);</code><code class="comments">//паралельная линия для выделения</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>187</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>188</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(mode==2){ </code><code class="comments">// логотип синуса</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>189</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">for</code><code class="plain">(uint8_t n=0; n&lt;100; n++){tft.drawPixel(5+n, 73+sine_logo[n],ST7735_YELLOW);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>190</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">} </code><code class="comments">//END&nbsp; for</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>191</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">} </code><code class="comments">// END if (mode==2)</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>192</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">else</code> <code class="keyword">if</code> <code class="plain">(mode==3){</code><code class="comments">// логотип треугольника&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>193</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.drawLine(5,98,30,73,ST7735_YELLOW);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>194</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.drawLine(30,73,80,123,ST7735_YELLOW);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>195</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.drawLine(80,123,105,98,ST7735_YELLOW); </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>196</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">} </code><code class="comments">//END&nbsp; mode==3</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>197</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">else</code> <code class="keyword">if</code> <code class="plain">(mode==4){ </code><code class="comments">//логотип пилы1</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>198</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.drawLine(5,123,105,73,ST7735_YELLOW);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>199</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.drawFastVLine(105, 73, 50, ST7735_YELLOW);</code><code class="comments">//спад конец такта статическая вер. линия</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>200</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">} </code><code class="comments">//END&nbsp; if (mode==3)</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>201</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">else</code> <code class="keyword">if</code> <code class="plain">(mode==5){</code><code class="comments">//логотип пилы2</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>202</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.drawFastVLine(5, 73, 50, ST7735_YELLOW); </code><code class="comments">// восход фронта статическая вер линия </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>203</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.drawLine(5,73,105,123,ST7735_YELLOW);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>204</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code><code class="comments">// END&nbsp; if (mode==4)</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>205</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">else</code> <code class="keyword">if</code> <code class="plain">(mode==6){ </code><code class="comments">//логотип меандра</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>206</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.drawFastVLine(5,73,25,ST7735_YELLOW);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>207</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.drawFastHLine(5,73,50,ST7735_YELLOW);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>208</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.drawFastVLine(55,73,50,ST7735_YELLOW);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>209</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.drawFastHLine(55,123,50,ST7735_YELLOW);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>210</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.drawFastVLine(105,98,25,ST7735_YELLOW);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>211</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>212</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="comments">//*********************** характеристики сигнала****************************************</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>213</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.setCursor(5, 70); </code><code class="comments">//&nbsp; вперёд, вниз</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>214</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.setTextColor(ST7735_WHITE, paper);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>215</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.setTextSize(1);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>216</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(mode &lt; 2 || mode==7){ </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>217</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.print(</code><code class="string">"+Width="</code><code class="plain">); </code><code class="keyword">if</code> <code class="plain">(t_hi&lt;1E3) {tft.print(t_hi); tft.print(</code><code class="string">" uS&nbsp; "</code><code class="plain">);} </code><code class="keyword">else</code> <code class="plain">{tft.print(t_hi/1000); tft.print(</code><code class="string">" mS&nbsp; "</code><code class="plain">);}&nbsp; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>218</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.setCursor(5, 80); </code><code class="comments">//&nbsp; вперёд, вниз</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>219</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.print(</code><code class="string">"-Width="</code><code class="plain">); </code><code class="keyword">if</code> <code class="plain">(t_low&lt;1E3) {tft.print(t_low); tft.print(</code><code class="string">" uS&nbsp; "</code><code class="plain">);} </code><code class="keyword">else</code> <code class="plain">{tft.print(t_low/1000); tft.print(</code><code class="string">" mS&nbsp; "</code><code class="plain">);}&nbsp; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>220</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.setCursor(60, 95); tft.print(</code><code class="string">"Duty = "</code><code class="plain">);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>221</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="comments">// tft.setCursor(60, 105); </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>222</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.print(duty_out,0);tft.print(</code><code class="string">"%"</code><code class="plain">);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>223</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">} </code><code class="comments">//END if (mode &lt; 2 || mode==7)</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>224</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(mode!=7){ </code><code class="comments">// выводить шаг кроме частотометра</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>225</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.setCursor(14, 95); tft.print(</code><code class="string">"Step="</code><code class="plain">);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>226</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.setCursor(14, 105); </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>227</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">switch</code> <code class="plain">(encstep) { </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>228</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">1: tft.print(</code><code class="string">"&nbsp;&nbsp; 1"</code><code class="plain">); </code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>229</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">10: tft.print(</code><code class="string">"&nbsp; 10"</code><code class="plain">); </code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>230</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">100: tft.print(</code><code class="string">" 100"</code><code class="plain">);</code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>231</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">1000: tft.print(</code><code class="string">"1000"</code><code class="plain">);</code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>232</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code><code class="comments">// END switch case&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>233</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">} </code><code class="comments">// END if (mode!=7)</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>234</code></td><td class="content"><code class="keyword">if</code> <code class="plain">( freq &lt; 1)&nbsp; {tft.fillRect(1,68, 158,59,paper); }</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>235</code></td><td class="content"><code class="plain">mon_flag=0;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>236</code></td><td class="content"><code class="plain">}</code><code class="comments">//END mon_out</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>237</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>238</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>239</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>240</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>241</code></td><td class="content"><code class="comments">//обработчик прерываний энкодера</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>242</code></td><td class="content"><code class="keyword">void</code> <code class="plain">enc_int(){&nbsp;&nbsp; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>243</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="keyword">if</code><code class="plain">((TIMER4_BASE-&gt;CR1)&amp;1&lt;&lt;4) {enc_mode(1);} </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>244</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="keyword">else</code> <code class="plain">{enc_mode(-1);} </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>245</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">}</code><code class="comments">// END VOID</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>246</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>247</code></td><td class="content"><code class="comments">// обработчик кнопки +</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>248</code></td><td class="content"><code class="keyword">void</code> <code class="plain">key_plus_int(){</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>249</code></td><td class="content"><code class="comments">// delay(1);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>250</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">enc_mode(1);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>251</code></td><td class="content"><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>252</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>253</code></td><td class="content"><code class="comments">// обработчик кнопки -</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>254</code></td><td class="content"><code class="keyword">void</code> <code class="plain">key_min_int(){</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>255</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="comments">// delay(1);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>256</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">enc_mode(-1);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>257</code></td><td class="content"><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>258</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>259</code></td><td class="content"><code class="comments">// ФУНКЦИЯ конфигурации режимов </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>260</code></td><td class="content"><code class="keyword">void</code> <code class="plain">enc_mode(</code><code class="keyword">int</code> <code class="keyword">in</code><code class="plain">){</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>261</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">modebit= (GPIOB_BASE-&gt;IDR&amp;0x100); </code><code class="comments">//состояние кнопки. 0-нажата </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>262</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(!modebit) { </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>263</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">mytone(880,30); </code><code class="comments">//звук переключения режимов</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>264</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">mode+=</code><code class="keyword">in</code><code class="plain">; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>265</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code><code class="plain">(mode&gt;7){mode=7;}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>266</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code><code class="plain">(mode&lt;0){mode=0;} </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>267</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(mode&lt;2){timer_set();}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>268</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(mode==7) {freq=0;}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>269</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">mon_flag=1; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>270</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">return</code><code class="plain">; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>271</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">} </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>272</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">mytone(4400,10); </code><code class="comments">//звук изменения частоты</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>273</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">switch</code><code class="plain">(mode){</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>274</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">0:&nbsp;&nbsp; </code><code class="keyword">if</code> <code class="plain">(tim_mode==0) { freq+=(encstep*</code><code class="keyword">in</code><code class="plain">); timer_set(); }&nbsp;&nbsp; </code><code class="keyword">else</code> <code class="plain">{ timer_hi_set(</code><code class="keyword">in</code><code class="plain">); } </code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>275</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">1:&nbsp;&nbsp; duty_in+=</code><code class="keyword">in</code><code class="plain">; </code><code class="keyword">if</code><code class="plain">(duty_in&gt;99){duty_in=99;} </code><code class="keyword">if</code><code class="plain">(duty_in&lt;1){duty_in=1;} set_duty(); calc_freq();&nbsp; </code><code class="keyword">break</code><code class="plain">;&nbsp; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>276</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">7:&nbsp;&nbsp; </code><code class="keyword">break</code><code class="plain">; </code><code class="comments">// в частотометре не реагировать на вращение энкодера </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>277</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="keyword">default</code><code class="plain">: freq+=(encstep*</code><code class="keyword">in</code><code class="plain">); mon_flag=1; </code><code class="comments">//wave режимы</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>278</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="comments">// проверка на корректность запроса частоты</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>279</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(freq&lt;0){freq=0;} </code><code class="keyword">if</code> <code class="plain">(freq&gt;2E5) {freq=2E5;}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>280</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">} </code><code class="comments">//end switch case</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>281</code></td><td class="content"><code class="plain">}</code><code class="comments">//end enc_mode</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>282</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>283</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>284</code></td><td class="content"><code class="comments">// обработчик кнопки энкодера</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>285</code></td><td class="content"><code class="keyword">void</code> <code class="plain">key_enc_int(){</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>286</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="comments">//delay(10);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>287</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="keyword">if</code><code class="plain">(!modebit){modebit=1; mon_flag=1;</code><code class="keyword">return</code><code class="plain">;}</code><code class="comments">// если менялся режим -выйти&nbsp; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>288</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(mode==1) { mytone(880,30); mode=0;&nbsp; mon_flag=1; ;</code><code class="keyword">return</code><code class="plain">;} </code><code class="comments">//сменить режим и выйти если были в duty mode</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>289</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">mytone(220,75); </code><code class="comments">//звук переключения шага</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>290</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">switch</code> <code class="plain">(encstep){ </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>291</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">1: encstep=10;&nbsp; </code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>292</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">10: encstep=100;&nbsp;&nbsp; </code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>293</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">100: encstep=1000; </code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>294</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">1000: encstep=1;&nbsp; </code><code class="keyword">break</code><code class="plain">; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>295</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">} </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>296</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">mon_flag=1; </code><code class="comments">//флаг вывода на дисплей</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>297</code></td><td class="content"><code class="plain">}</code><code class="comments">//end </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>298</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>299</code></td><td class="content"><code class="keyword">void</code> <code class="plain">set_duty(){</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>300</code></td><td class="content"><code class="keyword">if</code> <code class="plain">(mode==0 &amp;&amp; TIMER1_BASE-&gt;ARR&lt;100){ </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>301</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">TIMER1_BASE-&gt;CCR1=(TIMER1_BASE-&gt;ARR+1)/2 ; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>302</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">duty_in=50;&nbsp; </code><code class="keyword">return</code><code class="plain">;&nbsp;&nbsp; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>303</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>304</code></td><td class="content"><code class="plain">TIMER1_BASE-&gt;CCR1=(TIMER1_BASE-&gt;ARR+1)*duty_in/100;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>305</code></td><td class="content"><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>306</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>307</code></td><td class="content"><code class="comments">//ОБЩАЯ НАСТРОЙКА ТАЙМЕРА</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>308</code></td><td class="content"><code class="keyword">void</code> <code class="plain">timer_set(){</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>309</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">GPIOA_BASE-&gt;CRL=0xB4444444; </code><code class="comments">//PA7 alt_output</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>310</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">GPIOA_BASE-&gt;CRH=0x4444444B; </code><code class="comments">//PA8 alt_output</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>311</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER1_BASE-&gt;CCMR1=(1&lt;&lt;6)|(1&lt;&lt;5)|(1&lt;&lt;3);</code><code class="comments">//PWM mode 1</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>312</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER1_BASE-&gt;CCMR2=0;TIMER1_BASE-&gt;PSC=0; TIMER1_BASE-&gt;CCR2=0; TIMER1_BASE-&gt;ARR=1;&nbsp; TIMER1_BASE-&gt;CR1=1;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>313</code></td><td class="content"><code class="plain">TIMER1_BASE-&gt;CCER=(1&lt;&lt;0)|(1&lt;&lt;2)|(pwm2_polar&lt;&lt;3);</code><code class="comments">//cc1e/cc1ne enable </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>314</code></td><td class="content"><code class="comments">//TIMER1_BASE-&gt;BDTR=(1&lt;&lt;15)| 255 ;// dead time sample</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>315</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="keyword">if</code> <code class="plain">(freq&lt;1){freq=0; TIMER1_BASE-&gt;CCR1=0;TIMER1_BASE-&gt;ARR= 1; mon_flag=1; </code><code class="keyword">return</code><code class="plain">;} </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>316</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="keyword">if</code> <code class="plain">(freq&gt;36E6) {freq=36E6;}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>317</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain">divider=1;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>318</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">int</code> <code class="plain">tim_arr = 72E6/freq;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>319</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">while</code> <code class="plain">( (tim_arr/divider) &gt; 65535) {divider++;} </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>320</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER1_BASE-&gt;PSC=divider-1;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>321</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER1_BASE-&gt;ARR=(tim_arr/divider)-1;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>322</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">set_duty();</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>323</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">calc_freq();</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>324</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>325</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>326</code></td><td class="content"><code class="comments">//НАСТРОЙКА ТАЙМЕРА НА ЧАСТОТАХ ВЫШЕ 8КГЦ</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>327</code></td><td class="content"><code class="keyword">void</code> <code class="plain">timer_hi_set(</code><code class="keyword">int</code> <code class="plain">arr){</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>328</code></td><td class="content"><code class="plain">__asm volatile( </code><code class="string">"cpsid i"</code> <code class="plain">);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>329</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="plain">GPIOA_BASE-&gt;CRL=0xB4444444; </code><code class="comments">//PA7 alt_output</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>330</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">GPIOA_BASE-&gt;CRH=0x4444444B; </code><code class="comments">//PA8 alt_output</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>331</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER1_BASE-&gt;CCMR1=(1&lt;&lt;6)|(1&lt;&lt;5)|(1&lt;&lt;3);</code><code class="comments">//PWM mode 1</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>332</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER1_BASE-&gt;CCER=(1&lt;&lt;0)|(1&lt;&lt;2)|(pwm2_polar&lt;&lt;3);</code><code class="comments">//cc1e/cc1ne enable </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>333</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="comments">//насильно уменьшить шаг с ростом частоты</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>334</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(TIMER1_BASE-&gt;ARR&lt;1000 &amp;&amp; encstep &gt; 100) encstep=100; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>335</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(TIMER1_BASE-&gt;ARR&lt;100 &amp;&amp; encstep &gt; 10) encstep=10;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>336</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(TIMER1_BASE-&gt;ARR&lt;10 &amp;&amp; encstep &gt; 1) encstep=1;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>337</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">arr*=encstep;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>338</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="keyword">int</code> <code class="plain">icr= TIMER1_BASE-&gt;ARR-=arr;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>339</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(icr&lt;1) {icr=1;} </code><code class="keyword">if</code> <code class="plain">(icr&gt;65535) {icr=65535;}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>340</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="plain">TIMER1_BASE-&gt;ARR=icr;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>341</code></td><td class="content"><code class="plain">__asm volatile( </code><code class="string">"cpsie i"</code> <code class="plain">);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>342</code></td><td class="content"><code class="plain">set_duty();</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>343</code></td><td class="content"><code class="plain">calc_freq();</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>344</code></td><td class="content"><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>345</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>346</code></td><td class="content"><code class="comments">// РАСЧЁТ ЧАСТОТЫ И ТАЙМИНГОВ В РЕЖИМАХ PWM</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>347</code></td><td class="content"><code class="keyword">void</code> <code class="plain">calc_freq(){</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>348</code></td><td class="content"><code class="plain">uint32_t imp_long, imp_hi;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>349</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="plain">freq= 72E6/((TIMER1_BASE-&gt;ARR+1)*divider);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>350</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">duty_out=&nbsp; (</code><code class="keyword">float</code><code class="plain">) TIMER1_BASE-&gt;CCR1 / ((TIMER1_BASE-&gt;ARR+1) / 100.0) ;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>351</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain">duty_out= floorf(duty_out);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>352</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">imp_long=(uint32_t) ((TIMER1_BASE-&gt;ARR+1)*divider);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>353</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">imp_hi=(uint32_t)&nbsp; ((TIMER1_BASE-&gt;CCR1)*divider);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>354</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain">t_low= (imp_long-imp_hi) /72.0 ;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>355</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">t_hi=&nbsp; imp_hi /72.0;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>356</code></td><td class="content"><code class="plain">mon_flag=1;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>357</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>358</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>359</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>360</code></td><td class="content"><code class="comments">// КОНФИГУРАЦИЯ DDS РЕЖИМОВ</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>361</code></td><td class="content"><code class="keyword">void</code> <code class="plain">dds_set(){</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>362</code></td><td class="content"><code class="keyword">static</code> <code class="plain">uint32_t akkum;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>363</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="keyword">static</code> <code class="keyword">byte</code> <code class="plain">oldmode=255;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>364</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER1_BASE-&gt;CCER=0; </code><code class="comments">//timer output pins disable &amp;&amp; перечитать регистры. </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>365</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">GPIOA_BASE-&gt;CRL = 0x33333333;</code><code class="comments">// pa0-pa7&nbsp; выход</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>366</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">GPIOA_BASE-&gt;CRH =0x44444444; </code><code class="comments">//pa8-pa15 вход</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>367</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(oldmode !=mode) {</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>368</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(mode==2) {</code><code class="keyword">for</code><code class="plain">(uint16_t n=0; n&lt;512; n++){wave[n]=255*(sin(TWO_PI*</code><code class="keyword">float</code><code class="plain">(n)/512)+1)/2 ;}}</code><code class="comments">// синус</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>369</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">else</code> <code class="keyword">if</code> <code class="plain">(mode==3){ </code><code class="keyword">for</code><code class="plain">(uint16_t n=0; n&lt;512; n++){</code><code class="keyword">if</code> <code class="plain">(n&lt;256){ wave[n]=n;} </code><code class="keyword">else</code> <code class="plain">{wave[n]=(511-n);}}}</code><code class="comments">//треугол</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>370</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">else</code> <code class="keyword">if</code> <code class="plain">(mode==4){ </code><code class="keyword">for</code><code class="plain">(uint16_t n=0; n&lt;512; n++){ wave[n]=(n&gt;&gt;1);}}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="comments">//пила1</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>371</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">else</code> <code class="keyword">if</code> <code class="plain">(mode==5){ </code><code class="keyword">for</code><code class="plain">(uint16_t n=0; n&lt;512; n++){ wave[n]=((~n)&gt;&gt;1);}}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="comments">//пила2</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>372</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">else</code> <code class="keyword">if</code> <code class="plain">(mode==6){ </code><code class="keyword">for</code><code class="plain">(uint16_t n=0; n&lt;512; n++){</code><code class="keyword">if</code> <code class="plain">(n&lt;256){ wave[n]=0;} </code><code class="keyword">else</code> <code class="plain">{wave[n]=255;}}}&nbsp;&nbsp;&nbsp; </code><code class="comments">//меандр</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>373</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">oldmode=mode; } </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>374</code></td><td class="content"><code class="comments">//для пересчёта коэффициента вручную: частоту на экране * текущий множитель и разделить на фактически измеренную частоту</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>375</code></td><td class="content"><code class="plain">uint32_t dds_shag= (</code><code class="keyword">double</code><code class="plain">)freq * 1670.1100841768461768461768461768;</code><code class="comments">//&nbsp; шаг= частота*коэффициент</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>376</code></td><td class="content"><code class="keyword">while</code><code class="plain">(!mon_flag){GPIOA_BASE-&gt;ODR=wave[(akkum+=dds_shag)&gt;&gt;23];} </code><code class="comments">//генерация DDS</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>377</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">GPIOA_BASE-&gt;CRL=0x44444444;</code><code class="comments">// все пины в Z</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>378</code></td><td class="content"><code class="plain">}</code><code class="comments">//END DDS set()</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>379</code></td><td class="content"><code class="comments">//</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>380</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>381</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="keyword">void</code> <code class="plain">mytone(</code><code class="keyword">int</code> <code class="plain">frq, </code><code class="keyword">int</code> <code class="plain">ms ){</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>382</code></td><td class="content"><code class="keyword">if</code> <code class="plain">(mode==7){</code><code class="keyword">return</code><code class="plain">;} </code><code class="comments">//таймер в режиме частотометра занят</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>383</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="plain">uint16_t psc=1; uint32_t tim_arr;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>384</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="comments">// настройка генератора звука на таймере3</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>385</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">tim_arr = 36E6/frq;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>386</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="keyword">while</code> <code class="plain">( (tim_arr/psc) &gt; 65535) {psc++;} </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>387</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">__asm volatile( </code><code class="string">"cpsid i"</code> <code class="plain">); </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>388</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER2_BASE-&gt;SMCR=0;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>389</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER3_BASE-&gt;CCR3=0; </code><code class="comments">//обнулить регистр соответсвующий используемому выходу</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>390</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER3_BASE-&gt;PSC=psc-1;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>391</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER3_BASE-&gt;ARR=(tim_arr/psc)-1;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>392</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER3_BASE-&gt;CCMR2=(1&lt;&lt;5)|(1&lt;&lt;4);</code><code class="comments">// OC3M:011</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>393</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER3_BASE-&gt;CCER=1&lt;&lt;8;</code><code class="comments">//cc3e&nbsp; подключить аппаратную ногу</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>394</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER3_BASE-&gt;SMCR=(1&lt;&lt;2)|(1&lt;&lt;0)|(1&lt;&lt;4);</code><code class="comments">//SMS:101 &amp;&amp; TS:001&nbsp; строб от 2-го таймера&nbsp; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>395</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER3_BASE-&gt;EGR=1; </code><code class="comments">//перечитать регистры.</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>396</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER3_BASE-&gt;CR1=1;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>397</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="color1">/// настройка выдержки времени на таймере2</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>398</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">psc=1;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>399</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tim_arr = 72E3 * ms;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>400</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">while</code> <code class="plain">( (tim_arr/psc) &gt; 65536) {psc++;} </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>401</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER2_BASE-&gt;CCMR2=0;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>402</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER2_BASE-&gt;CR2=0;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>403</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER2_BASE-&gt;CR1=(1&lt;&lt;3)|(1&lt;&lt;2);</code><code class="comments">//один импульс, без прероываний</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>404</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER2_BASE-&gt;CNT=0;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>405</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">TIMER2_BASE-&gt;CR2=(1&lt;&lt;4);&nbsp; </code><code class="comments">//MMS:001 сигнал разрешения работы другим таймерам</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>406</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="plain">TIMER2_BASE-&gt;PSC=psc-1;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>407</code></td><td class="content"><code class="plain">TIMER2_BASE-&gt;ARR=(tim_arr/psc)-1;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>408</code></td><td class="content"><code class="plain">TIMER2_BASE-&gt;EGR=1; </code><code class="comments">//перечитать регистры.</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>409</code></td><td class="content"><code class="plain">TIMER2_BASE-&gt;CR1|=(1&lt;&lt;0);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>410</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">__asm volatile( </code><code class="string">"cpsie i"</code> <code class="plain">);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>411</code></td><td class="content"><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>412</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>413</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>414</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>415</code></td><td class="content"><code class="plain">[/code]</code></td></tr></tbody></table></div></div></div>

<p>Дребезг убрал аппаратно.</p>
      </div>

          </div>
  </div>

  <div class="forum-post-footer clear-block">
    <div class="forum-jump-links">
      <a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#top" title="Jump to top of page">Верх</a>
    </div>

          <div class="forum-post-links">
        <ul class="links forum-links"><li class="comment_forbidden first"><span><a href="http://arduino.ru/user/login?destination=node%2F11357%23comment-form">Войдите</a> или <a href="http://arduino.ru/user/register?destination=node%2F11357%23comment-form">зарегистрируйтесь</a>, чтобы получить возможность отправлять комментарии</span></li>
<li class="vud_comment_votes_count last"></li>
</ul>      </div>
      </div>
</div><a id="comment-318834"></a>

    <div class="forum-post  clear-block">

  <div class="post-info clear-block">
    <div class="posted-on">
      Пнд, 06/11/2017 - 00:46
          </div>

          <span class="post-num"><a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#comment-318834" class="active">#26</a> </span>
      </div>

  <div class="forum-post-wrapper">

    <div class="forum-post-panel-sub">
      

<div class="author-pane">
 <div class="author-pane-inner">
        <div class="author-pane-section author-pane-general">
            <div class="author-pane-line author-name">
        Тед      </div>

                    
      
                    <div class="author-pane-line author-offline">
           Offline        </div>
      
            
            
            
                    <div class="author-pane-line author-joined">
          <span class="author-pane-label">Зарегистрирован:</span> 06.11.2017        </div>
      
            
                </div>

        <div class="author-pane-section author-pane-contact">
            
            
            
                </div>

        <div class="author-pane-section author-pane-admin">
            
          
               </div>
  </div>
</div>
    </div>

    <div class="forum-post-panel-main clear-block">
      
      <div class="content">
        <div>
	Здравствуйте</div>
<div>
	Терминальная" версия генератора. Запустить терминалку, послать требуемую частоту в герцах. В ответ напишется та частота, которую смог сделать МК.</div>
<div>
	Есть ли у вас такая программа для стм32f103 ?</div>
      </div>

          </div>
  </div>

  <div class="forum-post-footer clear-block">
    <div class="forum-jump-links">
      <a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#top" title="Jump to top of page">Верх</a>
    </div>

          <div class="forum-post-links">
        <ul class="links forum-links"><li class="comment_forbidden first"><span><a href="http://arduino.ru/user/login?destination=node%2F11357%23comment-form">Войдите</a> или <a href="http://arduino.ru/user/register?destination=node%2F11357%23comment-form">зарегистрируйтесь</a>, чтобы получить возможность отправлять комментарии</span></li>
<li class="vud_comment_votes_count last"></li>
</ul>      </div>
      </div>
</div><a id="comment-318857"></a>

    <div class="forum-post  clear-block">

  <div class="post-info clear-block">
    <div class="posted-on">
      Пнд, 06/11/2017 - 06:53
          </div>

          <span class="post-num"><a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#comment-318857" class="active">#27</a> </span>
      </div>

  <div class="forum-post-wrapper">

    <div class="forum-post-panel-sub">
      

<div class="author-pane">
 <div class="author-pane-inner">
        <div class="author-pane-section author-pane-general">
            <div class="author-pane-line author-name">
        dimax      </div>

                    
  <div class="picture">
          <img src="./Генератор с регулируемоей частотой на ардуино. _ Аппаратная платформа Arduino_files/picture-6856.jpg" alt="dimax аватар" title="dimax аватар">      </div>
      
                    <div class="author-pane-line author-offline">
           Offline        </div>
      
            
            
            
                    <div class="author-pane-line author-joined">
          <span class="author-pane-label">Зарегистрирован:</span> 25.12.2013        </div>
      
            
                </div>

        <div class="author-pane-section author-pane-contact">
            
            
            
                </div>

        <div class="author-pane-section author-pane-admin">
            
          
               </div>
  </div>
</div>
    </div>

    <div class="forum-post-panel-main clear-block">
      
      <div class="content">
        <p>Тед, в начале изучения&nbsp; stm32 делал что-то похожее, проверять в лом:</p>
<div id="highlighter_75693" class="syntaxhighlighter collapsed  "><div class="bar"><div class="toolbar"><a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#expandSource" title="показать код" class="item expandSource" style="width: 16px; height: 16px;">показать код</a><a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#viewSource" title="код" class="item viewSource" style="width: 16px; height: 16px;">код</a><div class="item copyToClipboard"><embed width="16" height="16" id="highlighter_75693_clipboard" type="application/x-shockwave-flash" title="скопировать" allowscriptaccess="always" wmode="transparent" flashvars="highlighterId=highlighter_75693" menu="false" src="/sites/all/libraries/syntaxhighlighter/scripts/clipboard.swf"></div><a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#printSource" title="расечатать" class="item printSource" style="width: 16px; height: 16px;">расечатать</a><a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#about" title="?" class="item about" style="width: 16px; height: 16px;">?</a></div></div><div class="lines"><div class="line alt1"><table><tbody><tr><td class="number"><code>01</code></td><td class="content"><code class="comments">//Выход таймера PA8 (T1C1)</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>02</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>03</code></td><td class="content"><code class="preprocessor">#define GPIOA_CRH&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (*(volatile unsigned int*)0x40010804)</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>04</code></td><td class="content"><code class="preprocessor">#define RCC_APB2ENR&nbsp;&nbsp;&nbsp; (*(volatile unsigned int*)0x40021018)</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>05</code></td><td class="content"><code class="preprocessor">#define TIM1_CR1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (*(volatile unsigned int*)0x40012c00)</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>06</code></td><td class="content"><code class="preprocessor">#define TIM1_CCMR1&nbsp;&nbsp;&nbsp;&nbsp; (*(volatile unsigned int*)0x40012c18)</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>07</code></td><td class="content"><code class="preprocessor">#define TIM1_CCER&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (*(volatile unsigned int*)0x40012c20)</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>08</code></td><td class="content"><code class="preprocessor">#define TIM1_PSC&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (*(volatile unsigned int*)0x40012c28)</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>09</code></td><td class="content"><code class="preprocessor">#define TIM1_ARR&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (*(volatile unsigned int*)0x40012c2c)</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>10</code></td><td class="content"><code class="preprocessor">#define TIM1_CCR1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (*(volatile unsigned int*)0x40012c34)</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>11</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>12</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>13</code></td><td class="content"><code class="keyword">void</code> <code class="keyword">setup</code><code class="plain">(){</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>14</code></td><td class="content"><code class="plain">GPIOA_CRH |= (1&lt;&lt;1)|(1&lt;&lt;0)|(1&lt;&lt;3);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>15</code></td><td class="content"><code class="plain">GPIOA_CRH &amp;= ~(1&lt;&lt;2); </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>16</code></td><td class="content"><code class="plain">RCC_APB2ENR|= 1&lt;&lt;11; </code><code class="comments">//включить тактирование tim1</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>17</code></td><td class="content"><code class="plain">TIM1_CCER|=1&lt;&lt;0;</code><code class="comments">//cc1e enable </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>18</code></td><td class="content"><code class="plain">TIM1_CCMR1=(1&lt;&lt;6)|(1&lt;&lt;5)|(1&lt;&lt;3);</code><code class="comments">//PWM mode 1</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>19</code></td><td class="content"><code class="plain">TIM1_PSC=0;</code><code class="comments">//prescaler&nbsp;&nbsp; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>20</code></td><td class="content"><code class="plain">TIM1_CCR1=&nbsp; 0;</code><code class="comments">// скважность по умолчанию в тактах</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>21</code></td><td class="content"><code class="plain">TIM1_ARR= 1; </code><code class="comments">//&nbsp; частота по умолчанию в тактах</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>22</code></td><td class="content"><code class="plain">TIM1_CR1=1;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>23</code></td><td class="content"><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>24</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>25</code></td><td class="content"><code class="keyword">void</code> <code class="keyword">loop</code><code class="plain">() {</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>26</code></td><td class="content"><code class="keyword">if</code> <code class="plain">(</code><code class="keyword">Serial</code><code class="plain">.available()) { </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>27</code></td><td class="content"><code class="keyword">int</code> <code class="plain">divider=1;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>28</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="keyword">int</code> <code class="plain">freq = 72E6/ </code><code class="keyword">Serial</code><code class="plain">.parseInt();</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>29</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="keyword">int</code> <code class="plain">duty = </code><code class="keyword">Serial</code><code class="plain">.parseInt();</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>30</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="keyword">while</code> <code class="plain">( (freq/divider) &gt; 65535) {divider++;} </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>31</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIM1_PSC=divider-1;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>32</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIM1_ARR=(freq/divider)-1;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>33</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(!duty){ TIM1_CCR1= freq/divider/2;}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>34</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">else</code> <code class="plain">{ TIM1_CCR1=(freq/divider)*duty/100; }</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>35</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">freq= 72E6/((TIM1_ARR+1)*divider);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>36</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">Serial</code><code class="plain">.print(freq); </code><code class="keyword">Serial</code><code class="plain">.print(</code><code class="string">"Hz"</code><code class="plain">);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>37</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">float</code> <code class="plain">duty2=&nbsp; (</code><code class="keyword">float</code><code class="plain">) TIM1_CCR1 / ((TIM1_ARR+1) / 100.0) ;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>38</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="keyword">Serial</code><code class="plain">.print(</code><code class="string">"&nbsp; Duty="</code> <code class="plain">); </code><code class="keyword">Serial</code><code class="plain">.println(duty2,0);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>39</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>40</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>41</code></td><td class="content"><code class="plain">}</code></td></tr></tbody></table></div></div></div>

<p>терминал принимает два числа через пробел. Частоту и дьюти в процентах. Если дьюти не задать, то он по умолчанию 50%</p>
      </div>

          </div>
  </div>

  <div class="forum-post-footer clear-block">
    <div class="forum-jump-links">
      <a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#top" title="Jump to top of page">Верх</a>
    </div>

          <div class="forum-post-links">
        <ul class="links forum-links"><li class="comment_forbidden first"><span><a href="http://arduino.ru/user/login?destination=node%2F11357%23comment-form">Войдите</a> или <a href="http://arduino.ru/user/register?destination=node%2F11357%23comment-form">зарегистрируйтесь</a>, чтобы получить возможность отправлять комментарии</span></li>
<li class="vud_comment_votes_count last"></li>
</ul>      </div>
      </div>
</div><a id="comment-328807"></a>

    <div class="forum-post  clear-block">

  <div class="post-info clear-block">
    <div class="posted-on">
      Сб, 16/12/2017 - 20:20
          </div>

          <span class="post-num"><a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#comment-328807" class="active">#28</a> </span>
      </div>

  <div class="forum-post-wrapper">

    <div class="forum-post-panel-sub">
      

<div class="author-pane">
 <div class="author-pane-inner">
        <div class="author-pane-section author-pane-general">
            <div class="author-pane-line author-name">
        vismajor      </div>

                    
      
                    <div class="author-pane-line author-offline">
           Offline        </div>
      
            
            
            
                    <div class="author-pane-line author-joined">
          <span class="author-pane-label">Зарегистрирован:</span> 16.12.2017        </div>
      
            
                </div>

        <div class="author-pane-section author-pane-contact">
            
            
            
                </div>

        <div class="author-pane-section author-pane-admin">
            
          
               </div>
  </div>
</div>
    </div>

    <div class="forum-post-panel-main clear-block">
      
      <div class="content">
        <p>Спасибо автору за проделанную работу и великолепно поданный материал!</p>
<p>Развел в Sprint Layout 6.0 для односторонки. Первый опыт для данной программы... но если кому полезно могу сбросить... не понял пока как прикрепить к сообщению.</p>
<p>Для "OLED I2C"&nbsp; - Необходимо заменить библиотеку и инициализацию, а также добавить update в конце отрабатки процедуры вывода.</p>
<p>На повторение, версии - 2.3, ушло 5 часов.<a href="http://arduino.ru/sites/default/files/u34035/sam_0257.jpg" class="lb lightbox-processed" rel="lightbox"><img alt="" src="./Генератор с регулируемоей частотой на ардуино. _ Аппаратная платформа Arduino_files/sam_0257-550x413.jpg" style="width:550px;height:413px;" width="550" height="413"></a></p>
<p>&nbsp;</p>
      </div>

          </div>
  </div>

  <div class="forum-post-footer clear-block">
    <div class="forum-jump-links">
      <a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#top" title="Jump to top of page">Верх</a>
    </div>

          <div class="forum-post-links">
        <ul class="links forum-links"><li class="comment_forbidden first"><span><a href="http://arduino.ru/user/login?destination=node%2F11357%23comment-form">Войдите</a> или <a href="http://arduino.ru/user/register?destination=node%2F11357%23comment-form">зарегистрируйтесь</a>, чтобы получить возможность отправлять комментарии</span></li>
<li class="vud_comment_votes_count last"></li>
</ul>      </div>
      </div>
</div><a id="comment-341782"></a>

    <div class="forum-post  clear-block">

  <div class="post-info clear-block">
    <div class="posted-on">
      Пт, 09/02/2018 - 21:34
          </div>

          <span class="post-num"><a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#comment-341782" class="active">#29</a> </span>
      </div>

  <div class="forum-post-wrapper">

    <div class="forum-post-panel-sub">
      

<div class="author-pane">
 <div class="author-pane-inner">
        <div class="author-pane-section author-pane-general">
            <div class="author-pane-line author-name">
        Ihor      </div>

                    
      
                    <div class="author-pane-line author-offline">
           Offline        </div>
      
            
            
            
                    <div class="author-pane-line author-joined">
          <span class="author-pane-label">Зарегистрирован:</span> 10.11.2017        </div>
      
            
                </div>

        <div class="author-pane-section author-pane-contact">
            
            
            
                </div>

        <div class="author-pane-section author-pane-admin">
            
          
               </div>
  </div>
</div>
    </div>

    <div class="forum-post-panel-main clear-block">
      
      <div class="content">
        <p>Вот так выглядит первое включение осциллографа с генератором V2.4. До 25 кГц работает. Хорошая игрушка.</p>
<p><img alt="" src="./Генератор с регулируемоей частотой на ардуино. _ Аппаратная платформа Arduino_files/gen_v_2_4dso138.jpg" style="width:780px;height:439px;" width="780" height="439"></p>
<p>Конечно можно смотреть и более высокие частоты, но с 25 кГц завал частотной характеристики. Экран неплохой. Применения не вижу. К приборам это отношения не имеет. Я планирую использовать как макет. Поиграться с выводом на экран, попробовать АЦП .</p>
      </div>

          </div>
  </div>

  <div class="forum-post-footer clear-block">
    <div class="forum-jump-links">
      <a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#top" title="Jump to top of page">Верх</a>
    </div>

          <div class="forum-post-links">
        <ul class="links forum-links"><li class="comment_forbidden first"><span><a href="http://arduino.ru/user/login?destination=node%2F11357%23comment-form">Войдите</a> или <a href="http://arduino.ru/user/register?destination=node%2F11357%23comment-form">зарегистрируйтесь</a>, чтобы получить возможность отправлять комментарии</span></li>
<li class="vud_comment_votes_count last"></li>
</ul>      </div>
      </div>
</div><a id="comment-342494"></a>

    <div class="forum-post  clear-block">

  <div class="post-info clear-block">
    <div class="posted-on">
      Пт, 09/02/2018 - 20:11
          </div>

          <span class="post-num"><a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#comment-342494" class="active">#30</a> </span>
      </div>

  <div class="forum-post-wrapper">

    <div class="forum-post-panel-sub">
      

<div class="author-pane">
 <div class="author-pane-inner">
        <div class="author-pane-section author-pane-general">
            <div class="author-pane-line author-name">
        svm      </div>

                    
      
                    <div class="author-pane-line author-offline">
           Offline        </div>
      
            
            
            
                    <div class="author-pane-line author-joined">
          <span class="author-pane-label">Зарегистрирован:</span> 06.11.2016        </div>
      
            
                </div>

        <div class="author-pane-section author-pane-contact">
            
            
            
                </div>

        <div class="author-pane-section author-pane-admin">
            
          
               </div>
  </div>
</div>
    </div>

    <div class="forum-post-panel-main clear-block">
      
      <div class="content">
        <p>Информация на всякий пожарный:</p>
<p>Загрузил скетч на чистую 328 . Чтобы запустить приходится неско раз жать ресет. Заменил дисплей все Ок!</p>
<p>С другими библиотеками дисплей работает без проблем.&nbsp;</p>
      </div>

          </div>
  </div>

  <div class="forum-post-footer clear-block">
    <div class="forum-jump-links">
      <a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#top" title="Jump to top of page">Верх</a>
    </div>

          <div class="forum-post-links">
        <ul class="links forum-links"><li class="comment_forbidden first"><span><a href="http://arduino.ru/user/login?destination=node%2F11357%23comment-form">Войдите</a> или <a href="http://arduino.ru/user/register?destination=node%2F11357%23comment-form">зарегистрируйтесь</a>, чтобы получить возможность отправлять комментарии</span></li>
<li class="vud_comment_votes_count last"></li>
</ul>      </div>
      </div>
</div><a id="comment-342938"></a>

    <div class="forum-post  clear-block">

  <div class="post-info clear-block">
    <div class="posted-on">
      Вс, 11/02/2018 - 00:03
          </div>

          <span class="post-num"><a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#comment-342938" class="active">#31</a> </span>
      </div>

  <div class="forum-post-wrapper">

    <div class="forum-post-panel-sub">
      

<div class="author-pane">
 <div class="author-pane-inner">
        <div class="author-pane-section author-pane-general">
            <div class="author-pane-line author-name">
        svm      </div>

                    
      
                    <div class="author-pane-line author-offline">
           Offline        </div>
      
            
            
            
                    <div class="author-pane-line author-joined">
          <span class="author-pane-label">Зарегистрирован:</span> 06.11.2016        </div>
      
            
                </div>

        <div class="author-pane-section author-pane-contact">
            
            
            
                </div>

        <div class="author-pane-section author-pane-admin">
            
          
               </div>
  </div>
</div>
    </div>

    <div class="forum-post-panel-main clear-block">
      
      <div class="content">
        <p>Решил тоже собратьгенератор, но не заморачиваться с печаткой. Взял голую 328, приложил к плате дисплея, исходя из наиболее выгодного расположения подкорректировал скетч и дальше вспомнил радиолюбительскую молодость и начал лепиь навесухой. В принципе на все ушло около четырех часов. Работает неплохо. Правда пила немного не идеальна, но я еще немного грешу на матрицу резисторов. В наличии были только 1,2&nbsp; и&nbsp; 2,2 кОм. На них и собрал. Конструкция получилась достаточно компактная и жесткая. Максимальная высота монтажа не превышает толщину энкодера. Осталось корпус, но это уже не сегодня.&nbsp;</p>
<p>Вид спереди и сзади.<img alt="" src="./Генератор с регулируемоей частотой на ардуино. _ Аппаратная платформа Arduino_files/dds.jpg" style="width:780px;height:446px;" width="780" height="446"></p>
<p>&nbsp;</p>
<p>Осциллограма</p>
<p><img alt="" src="./Генератор с регулируемоей частотой на ардуино. _ Аппаратная платформа Arduino_files/osc.jpg" style="width:780px;height:585px;" width="780" height="585"></p>
      </div>

          </div>
  </div>

  <div class="forum-post-footer clear-block">
    <div class="forum-jump-links">
      <a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#top" title="Jump to top of page">Верх</a>
    </div>

          <div class="forum-post-links">
        <ul class="links forum-links"><li class="comment_forbidden first"><span><a href="http://arduino.ru/user/login?destination=node%2F11357%23comment-form">Войдите</a> или <a href="http://arduino.ru/user/register?destination=node%2F11357%23comment-form">зарегистрируйтесь</a>, чтобы получить возможность отправлять комментарии</span></li>
<li class="vud_comment_votes_count last"></li>
</ul>      </div>
      </div>
</div><a id="comment-354392"></a>

    <div class="forum-post  clear-block">

  <div class="post-info clear-block">
    <div class="posted-on">
      Ср, 21/03/2018 - 16:49
          </div>

          <span class="post-num"><a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#comment-354392" class="active">#32</a> </span>
      </div>

  <div class="forum-post-wrapper">

    <div class="forum-post-panel-sub">
      

<div class="author-pane">
 <div class="author-pane-inner">
        <div class="author-pane-section author-pane-general">
            <div class="author-pane-line author-name">
        apeks1      </div>

                    
  <div class="picture">
          <img src="./Генератор с регулируемоей частотой на ардуино. _ Аппаратная платформа Arduino_files/picture-20480.jpg" alt="apeks1 аватар" title="apeks1 аватар">      </div>
      
                    <div class="author-pane-line author-offline">
           Offline        </div>
      
            
            
            
                    <div class="author-pane-line author-joined">
          <span class="author-pane-label">Зарегистрирован:</span> 19.05.2016        </div>
      
            
                </div>

        <div class="author-pane-section author-pane-contact">
            
            
            
                </div>

        <div class="author-pane-section author-pane-admin">
            
          
               </div>
  </div>
</div>
    </div>

    <div class="forum-post-panel-main clear-block">
      
      <div class="content">
        <p>есть у кого осцилограммы с данного генератора 1МГц-4МГц</p>
<p>нужна визуальная привязка для настройки входного уся цыфрового осцилографа</p>
<p>зараннее благодарен!</p>
      </div>

          </div>
  </div>

  <div class="forum-post-footer clear-block">
    <div class="forum-jump-links">
      <a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#top" title="Jump to top of page">Верх</a>
    </div>

          <div class="forum-post-links">
        <ul class="links forum-links"><li class="comment_forbidden first"><span><a href="http://arduino.ru/user/login?destination=node%2F11357%23comment-form">Войдите</a> или <a href="http://arduino.ru/user/register?destination=node%2F11357%23comment-form">зарегистрируйтесь</a>, чтобы получить возможность отправлять комментарии</span></li>
<li class="vud_comment_votes_count last"></li>
</ul>      </div>
      </div>
</div><a id="comment-354489"></a>

    <div class="forum-post  clear-block">

  <div class="post-info clear-block">
    <div class="posted-on">
      Ср, 21/03/2018 - 21:09
          </div>

          <span class="post-num"><a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#comment-354489" class="active">#33</a> </span>
      </div>

  <div class="forum-post-wrapper">

    <div class="forum-post-panel-sub">
      

<div class="author-pane">
 <div class="author-pane-inner">
        <div class="author-pane-section author-pane-general">
            <div class="author-pane-line author-name">
        dimax      </div>

                    
  <div class="picture">
          <img src="./Генератор с регулируемоей частотой на ардуино. _ Аппаратная платформа Arduino_files/picture-6856.jpg" alt="dimax аватар" title="dimax аватар">      </div>
      
                    <div class="author-pane-line author-offline">
           Offline        </div>
      
            
            
            
                    <div class="author-pane-line author-joined">
          <span class="author-pane-label">Зарегистрирован:</span> 25.12.2013        </div>
      
            
                </div>

        <div class="author-pane-section author-pane-contact">
            
            
            
                </div>

        <div class="author-pane-section author-pane-admin">
            
          
               </div>
  </div>
</div>
    </div>

    <div class="forum-post-panel-main clear-block">
      
      <div class="content">
        <p>apeks1, да не жалко, вот вам 4МГц, с моего генератора версии 2.3.</p>
<p><a href="http://out.arduino.ru/?redirect=https%3A%2F%2Fimg-fotki.yandex.ru%2Fget%2F940967%2F118551841.a%2F0_e23fd_12eeb0f7_orig.png&amp;baseU=http%3A%2F%2Farduino.ru%2Fforum%2Fproekty%2Fgenerator-s-reguliruemoei-chastotoi-na-arduino" rel="nofollow" target="_blank"><img alt="" src="./Генератор с регулируемоей частотой на ардуино. _ Аппаратная платформа Arduino_files/4MHz.png" style="width:800px;height:480px;"></a></p>
      </div>

          </div>
  </div>

  <div class="forum-post-footer clear-block">
    <div class="forum-jump-links">
      <a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#top" title="Jump to top of page">Верх</a>
    </div>

          <div class="forum-post-links">
        <ul class="links forum-links"><li class="comment_forbidden first"><span><a href="http://arduino.ru/user/login?destination=node%2F11357%23comment-form">Войдите</a> или <a href="http://arduino.ru/user/register?destination=node%2F11357%23comment-form">зарегистрируйтесь</a>, чтобы получить возможность отправлять комментарии</span></li>
<li class="vud_comment_votes_count last"></li>
</ul>      </div>
      </div>
</div><a id="comment-365948"></a>

    <div class="forum-post  clear-block">

  <div class="post-info clear-block">
    <div class="posted-on">
      Пт, 11/05/2018 - 23:56
          </div>

          <span class="post-num"><a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#comment-365948" class="active">#34</a> </span>
      </div>

  <div class="forum-post-wrapper">

    <div class="forum-post-panel-sub">
      

<div class="author-pane">
 <div class="author-pane-inner">
        <div class="author-pane-section author-pane-general">
            <div class="author-pane-line author-name">
        Focus      </div>

                    
      
                    <div class="author-pane-line author-offline">
           Offline        </div>
      
            
            
            
                    <div class="author-pane-line author-joined">
          <span class="author-pane-label">Зарегистрирован:</span> 05.04.2015        </div>
      
            
                </div>

        <div class="author-pane-section author-pane-contact">
            
            
            
                </div>

        <div class="author-pane-section author-pane-admin">
            
          
               </div>
  </div>
</div>
    </div>

    <div class="forum-post-panel-main clear-block">
      
      <div class="content">
        <p></p><div class="quote-msg"><div class="quote-author"><em>dimax</em> пишет:</div><p></p>
<p><code class="plain">ADMUX = (1&lt;&lt;REFS0)|(1&lt;&lt;MUX2)<code class="plain">|(1&lt;&lt;MUX1)</code>; </code><code class="comments">//ADC6 measure</code></p>
<p><code class="plain">ADMUX = (1&lt;&lt;REFS0)|(1&lt;&lt;MUX2)<code class="plain">|(1&lt;&lt;MUX1)</code><code class="plain"><code class="plain">|(1&lt;&lt;MUX0)</code>;</code> </code><code class="comments">//ADC7 measure</code></p>
<p></p></div><p></p>
<p>Спасибо! Вроде всё работает.</p>
<p>Версия 2.4 под экранчик&nbsp;ssd1306 128х32 I2C, вдруг кому надо :) На A4 и A5 вешается экран, A6 и A7 входы вольтометра. Библиотеку ставил через стандартный менеджер библиотек ардуино IDE, на всякий случай в коде указал ссылку на гитхаб либы. Думаю экранчик ssd1306 128х64 I2C тоже заведётся, нужно будет только поменять координаты строк ну и увеличить шрифт где нужно. А, ещё тут указать что 64 пиксела высота:&nbsp;ssd1306_128x64_i2c_init();</p>
<p><img alt="" src="./Генератор с регулируемоей частотой на ардуино. _ Аппаратная платформа Arduino_files/generator_1.jpg" style="width:300px;height:116px;" width="300" height="116"><img alt="" src="./Генератор с регулируемоей частотой на ардуино. _ Аппаратная платформа Arduino_files/generator_2.jpg" style="width:300px;height:115px;" width="300" height="115"></p>
<p><img alt="" src="./Генератор с регулируемоей частотой на ардуино. _ Аппаратная платформа Arduino_files/generator_3.jpg" style="width:300px;height:119px;" width="300" height="119"><img alt="" src="./Генератор с регулируемоей частотой на ардуино. _ Аппаратная платформа Arduino_files/generator_4.jpg" style="width:300px;height:135px;" width="300" height="135"></p>
<div id="highlighter_212755" class="syntaxhighlighter collapsed  "><div class="bar"><div class="toolbar"><a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#expandSource" title="показать код" class="item expandSource" style="width: 16px; height: 16px;">показать код</a><a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#viewSource" title="код" class="item viewSource" style="width: 16px; height: 16px;">код</a><div class="item copyToClipboard"><embed width="16" height="16" id="highlighter_212755_clipboard" type="application/x-shockwave-flash" title="скопировать" allowscriptaccess="always" wmode="transparent" flashvars="highlighterId=highlighter_212755" menu="false" src="/sites/all/libraries/syntaxhighlighter/scripts/clipboard.swf"></div><a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#printSource" title="расечатать" class="item printSource" style="width: 16px; height: 16px;">расечатать</a><a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#about" title="?" class="item about" style="width: 16px; height: 16px;">?</a></div></div><div class="lines"><div class="line alt1"><table><tbody><tr><td class="number"><code>001</code></td><td class="content"><code class="comments">/* Генератор, частотометр, вольтметр на Ардуино Уно v 2.4</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>002</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="comments">* Распиновка: Энкодер A0,A1 (in)</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>003</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="comments">* Кнопка энкодера A2 (in)</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>004</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="comments">* Кнопка "режим" A3 (in)</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>005</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="comments">* Подсветка 8 (out) (вывод BL дисплея)</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>006</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="comments">* Дисплей ssd1306 128х32 I2C - A4, A5&nbsp; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>007</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="comments">* Выход генератора 0..7 + 9 (out)</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>008</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="comments">* Вход частотометра - 5 (in)</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>009</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="comments">* Входы вольтметра -А6,А7 (in)</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>010</code></td><td class="content"><code class="comments">*/</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>011</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>012</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>013</code></td><td class="content"><code class="keyword">const</code> <code class="plain">PROGMEM uint8_t&nbsp; sinewave[]= </code><code class="comments">// массив синуса</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>014</code></td><td class="content"><code class="plain">{</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>015</code></td><td class="content"><code class="plain">0x80,0x83,0x86,0x89,0x8c,0x8f,0x92,0x95,0x98,0x9c,0x9f,0xa2,0xa5,0xa8,0xab,0xae,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>016</code></td><td class="content"><code class="plain">0xb0,0xb3,0xb6,0xb9,0xbc,0xbf,0xc1,0xc4,0xc7,0xc9,0xcc,0xce,0xd1,0xd3,0xd5,0xd8,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>017</code></td><td class="content"><code class="plain">0xda,0xdc,0xde,0xe0,0xe2,0xe4,0xe6,0xe8,0xea,0xec,0xed,0xef,0xf0,0xf2,0xf3,0xf5,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>018</code></td><td class="content"><code class="plain">0xf6,0xf7,0xf8,0xf9,0xfa,0xfb,0xfc,0xfc,0xfd,0xfe,0xfe,0xff,0xff,0xff,0xff,0xff,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>019</code></td><td class="content"><code class="plain">0xff,0xff,0xff,0xff,0xff,0xff,0xfe,0xfe,0xfd,0xfc,0xfc,0xfb,0xfa,0xf9,0xf8,0xf7,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>020</code></td><td class="content"><code class="plain">0xf6,0xf5,0xf3,0xf2,0xf0,0xef,0xed,0xec,0xea,0xe8,0xe6,0xe4,0xe2,0xe0,0xde,0xdc,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>021</code></td><td class="content"><code class="plain">0xda,0xd8,0xd5,0xd3,0xd1,0xce,0xcc,0xc9,0xc7,0xc4,0xc1,0xbf,0xbc,0xb9,0xb6,0xb3,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>022</code></td><td class="content"><code class="plain">0xb0,0xae,0xab,0xa8,0xa5,0xa2,0x9f,0x9c,0x98,0x95,0x92,0x8f,0x8c,0x89,0x86,0x83,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>023</code></td><td class="content"><code class="plain">0x80,0x7c,0x79,0x76,0x73,0x70,0x6d,0x6a,0x67,0x63,0x60,0x5d,0x5a,0x57,0x54,0x51,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>024</code></td><td class="content"><code class="plain">0x4f,0x4c,0x49,0x46,0x43,0x40,0x3e,0x3b,0x38,0x36,0x33,0x31,0x2e,0x2c,0x2a,0x27,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>025</code></td><td class="content"><code class="plain">0x25,0x23,0x21,0x1f,0x1d,0x1b,0x19,0x17,0x15,0x13,0x12,0x10,0x0f,0x0d,0x0c,0x0a,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>026</code></td><td class="content"><code class="plain">0x09,0x08,0x07,0x06,0x05,0x04,0x03,0x03,0x02,0x01,0x01,0x00,0x00,0x00,0x00,0x00,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>027</code></td><td class="content"><code class="plain">0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x01,0x02,0x03,0x03,0x04,0x05,0x06,0x07,0x08,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>028</code></td><td class="content"><code class="plain">0x09,0x0a,0x0c,0x0d,0x0f,0x10,0x12,0x13,0x15,0x17,0x19,0x1b,0x1d,0x1f,0x21,0x23,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>029</code></td><td class="content"><code class="plain">0x25,0x27,0x2a,0x2c,0x2e,0x31,0x33,0x36,0x38,0x3b,0x3e,0x40,0x43,0x46,0x49,0x4c,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>030</code></td><td class="content"><code class="plain">0x4f,0x51,0x54,0x57,0x5a,0x5d,0x60,0x63,0x67,0x6a,0x6d,0x70,0x73,0x76,0x79,0x7c</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>031</code></td><td class="content"><code class="plain">};</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>032</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>033</code></td><td class="content"><code class="keyword">const</code> <code class="plain">PROGMEM uint8_t squarewave[]= </code><code class="comments">//массив меандра</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>034</code></td><td class="content"><code class="plain">{</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>035</code></td><td class="content"><code class="plain">0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>036</code></td><td class="content"><code class="plain">0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>037</code></td><td class="content"><code class="plain">0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>038</code></td><td class="content"><code class="plain">0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>039</code></td><td class="content"><code class="plain">0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>040</code></td><td class="content"><code class="plain">0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>041</code></td><td class="content"><code class="plain">0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>042</code></td><td class="content"><code class="plain">0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>043</code></td><td class="content"><code class="plain">0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>044</code></td><td class="content"><code class="plain">0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>045</code></td><td class="content"><code class="plain">0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>046</code></td><td class="content"><code class="plain">0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>047</code></td><td class="content"><code class="plain">0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>048</code></td><td class="content"><code class="plain">0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>049</code></td><td class="content"><code class="plain">0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>050</code></td><td class="content"><code class="plain">0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>051</code></td><td class="content"><code class="plain">};</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>052</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>053</code></td><td class="content"><code class="keyword">const</code> <code class="plain">PROGMEM uint8_t trianglewave[]= </code><code class="comments">//массив треугольника</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>054</code></td><td class="content"><code class="plain">{</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>055</code></td><td class="content"><code class="plain">0x00,0x02,0x04,0x06,0x08,0x0a,0x0c,0x0e,0x10,0x12,0x14,0x16,0x18,0x1a,0x1c,0x1e,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>056</code></td><td class="content"><code class="plain">0x20,0x22,0x24,0x26,0x28,0x2a,0x2c,0x2e,0x30,0x32,0x34,0x36,0x38,0x3a,0x3c,0x3e,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>057</code></td><td class="content"><code class="plain">0x40,0x42,0x44,0x46,0x48,0x4a,0x4c,0x4e,0x50,0x52,0x54,0x56,0x58,0x5a,0x5c,0x5e,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>058</code></td><td class="content"><code class="plain">0x60,0x62,0x64,0x66,0x68,0x6a,0x6c,0x6e,0x70,0x72,0x74,0x76,0x78,0x7a,0x7c,0x7e,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>059</code></td><td class="content"><code class="plain">0x80,0x82,0x84,0x86,0x88,0x8a,0x8c,0x8e,0x90,0x92,0x94,0x96,0x98,0x9a,0x9c,0x9e,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>060</code></td><td class="content"><code class="plain">0xa0,0xa2,0xa4,0xa6,0xa8,0xaa,0xac,0xae,0xb0,0xb2,0xb4,0xb6,0xb8,0xba,0xbc,0xbe,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>061</code></td><td class="content"><code class="plain">0xc0,0xc2,0xc4,0xc6,0xc8,0xca,0xcc,0xce,0xd0,0xd2,0xd4,0xd6,0xd8,0xda,0xdc,0xde,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>062</code></td><td class="content"><code class="plain">0xe0,0xe2,0xe4,0xe6,0xe8,0xea,0xec,0xee,0xf0,0xf2,0xf4,0xf6,0xf8,0xfa,0xfc,0xfe,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>063</code></td><td class="content"><code class="plain">0xff,0xfd,0xfb,0xf9,0xf7,0xf5,0xf3,0xf1,0xef,0xef,0xeb,0xe9,0xe7,0xe5,0xe3,0xe1,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>064</code></td><td class="content"><code class="plain">0xdf,0xdd,0xdb,0xd9,0xd7,0xd5,0xd3,0xd1,0xcf,0xcf,0xcb,0xc9,0xc7,0xc5,0xc3,0xc1,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>065</code></td><td class="content"><code class="plain">0xbf,0xbd,0xbb,0xb9,0xb7,0xb5,0xb3,0xb1,0xaf,0xaf,0xab,0xa9,0xa7,0xa5,0xa3,0xa1,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>066</code></td><td class="content"><code class="plain">0x9f,0x9d,0x9b,0x99,0x97,0x95,0x93,0x91,0x8f,0x8f,0x8b,0x89,0x87,0x85,0x83,0x81,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>067</code></td><td class="content"><code class="plain">0x7f,0x7d,0x7b,0x79,0x77,0x75,0x73,0x71,0x6f,0x6f,0x6b,0x69,0x67,0x65,0x63,0x61,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>068</code></td><td class="content"><code class="plain">0x5f,0x5d,0x5b,0x59,0x57,0x55,0x53,0x51,0x4f,0x4f,0x4b,0x49,0x47,0x45,0x43,0x41,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>069</code></td><td class="content"><code class="plain">0x3f,0x3d,0x3b,0x39,0x37,0x35,0x33,0x31,0x2f,0x2f,0x2b,0x29,0x27,0x25,0x23,0x21,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>070</code></td><td class="content"><code class="plain">0x1f,0x1d,0x1b,0x19,0x17,0x15,0x13,0x11,0x0f,0x0f,0x0b,0x09,0x07,0x05,0x03,0x01</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>071</code></td><td class="content"><code class="plain">};</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>072</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>073</code></td><td class="content"><code class="keyword">const</code> <code class="plain">PROGMEM uint8_t sawtoothwave[]= </code><code class="comments">//массив пила1</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>074</code></td><td class="content"><code class="plain">{</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>075</code></td><td class="content"><code class="plain">0x00,0x01,0x02,0x03,0x04,0x05,0x06,0x07,0x08,0x09,0x0a,0x0b,0x0c,0x0d,0x0e,0x0f,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>076</code></td><td class="content"><code class="plain">0x10,0x11,0x12,0x13,0x14,0x15,0x16,0x17,0x18,0x19,0x1a,0x1b,0x1c,0x1d,0x1e,0x1f,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>077</code></td><td class="content"><code class="plain">0x20,0x21,0x22,0x23,0x24,0x25,0x26,0x27,0x28,0x29,0x2a,0x2b,0x2c,0x2d,0x2e,0x2f,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>078</code></td><td class="content"><code class="plain">0x30,0x31,0x32,0x33,0x34,0x35,0x36,0x37,0x38,0x39,0x3a,0x3b,0x3c,0x3d,0x3e,0x3f,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>079</code></td><td class="content"><code class="plain">0x40,0x41,0x42,0x43,0x44,0x45,0x46,0x47,0x48,0x49,0x4a,0x4b,0x4c,0x4d,0x4e,0x4f,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>080</code></td><td class="content"><code class="plain">0x50,0x51,0x52,0x53,0x54,0x55,0x56,0x57,0x58,0x59,0x5a,0x5b,0x5c,0x5d,0x5e,0x5f,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>081</code></td><td class="content"><code class="plain">0x60,0x61,0x62,0x63,0x64,0x65,0x66,0x67,0x68,0x69,0x6a,0x6b,0x6c,0x6d,0x6e,0x6f,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>082</code></td><td class="content"><code class="plain">0x70,0x71,0x72,0x73,0x74,0x75,0x76,0x77,0x78,0x79,0x7a,0x7b,0x7c,0x7d,0x7e,0x7f,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>083</code></td><td class="content"><code class="plain">0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8a,0x8b,0x8c,0x8d,0x8e,0x8f,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>084</code></td><td class="content"><code class="plain">0x90,0x91,0x92,0x93,0x94,0x95,0x96,0x97,0x98,0x99,0x9a,0x9b,0x9c,0x9d,0x9e,0x9f,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>085</code></td><td class="content"><code class="plain">0xa0,0xa1,0xa2,0xa3,0xa4,0xa5,0xa6,0xa7,0xa8,0xa9,0xaa,0xab,0xac,0xad,0xae,0xaf,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>086</code></td><td class="content"><code class="plain">0xb0,0xb1,0xb2,0xb3,0xb4,0xb5,0xb6,0xb7,0xb8,0xb9,0xba,0xbb,0xbc,0xbd,0xbe,0xbf,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>087</code></td><td class="content"><code class="plain">0xc0,0xc1,0xc2,0xc3,0xc4,0xc5,0xc6,0xc7,0xc8,0xc9,0xca,0xcb,0xcc,0xcd,0xce,0xcf,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>088</code></td><td class="content"><code class="plain">0xd0,0xd1,0xd2,0xd3,0xd4,0xd5,0xd6,0xd7,0xd8,0xd9,0xda,0xdb,0xdc,0xdd,0xde,0xdf,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>089</code></td><td class="content"><code class="plain">0xe0,0xe1,0xe2,0xe3,0xe4,0xe5,0xe6,0xe7,0xe8,0xe9,0xea,0xeb,0xec,0xed,0xee,0xef,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>090</code></td><td class="content"><code class="plain">0xf0,0xf1,0xf2,0xf3,0xf4,0xf5,0xf6,0xf7,0xf8,0xf9,0xfa,0xfb,0xfc,0xfd,0xfe,0xff</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>091</code></td><td class="content"><code class="plain">};</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>092</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>093</code></td><td class="content"><code class="keyword">const</code> <code class="plain">PROGMEM uint8_t rewsawtoothwave[]= </code><code class="comments">//массив пила2</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>094</code></td><td class="content"><code class="plain">{</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>095</code></td><td class="content"><code class="plain">0xff,0xfe,0xfd,0xfc,0xfb,0xfa,0xf9,0xf8,0xf7,0xf6,0xf5,0xf4,0xf3,0xf2,0xf1,0xf0,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>096</code></td><td class="content"><code class="plain">0xef,0xee,0xed,0xec,0xeb,0xea,0xe9,0xe8,0xe7,0xe6,0xe5,0xe4,0xe3,0xe2,0xe1,0xe0,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>097</code></td><td class="content"><code class="plain">0xdf,0xde,0xdd,0xdc,0xdb,0xda,0xd9,0xd8,0xd7,0xd6,0xd5,0xd4,0xd3,0xd2,0xd1,0xd0,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>098</code></td><td class="content"><code class="plain">0xcf,0xce,0xcd,0xcc,0xcb,0xca,0xc9,0xc8,0xc7,0xc6,0xc5,0xc4,0xc3,0xc2,0xc1,0xc0,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>099</code></td><td class="content"><code class="plain">0xbf,0xbe,0xbd,0xbc,0xbb,0xba,0xb9,0xb8,0xb7,0xb6,0xb5,0xb4,0xb3,0xb2,0xb1,0xb0,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>100</code></td><td class="content"><code class="plain">0xaf,0xae,0xad,0xac,0xab,0xaa,0xa9,0xa8,0xa7,0xa6,0xa5,0xa4,0xa3,0xa2,0xa1,0xa0,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>101</code></td><td class="content"><code class="plain">0x9f,0x9e,0x9d,0x9c,0x9b,0x9a,0x99,0x98,0x97,0x96,0x95,0x94,0x93,0x92,0x91,0x90,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>102</code></td><td class="content"><code class="plain">0x8f,0x8e,0x8d,0x8c,0x8b,0x8a,0x89,0x88,0x87,0x86,0x85,0x84,0x83,0x82,0x81,0x80,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>103</code></td><td class="content"><code class="plain">0x7f,0x7e,0x7d,0x7c,0x7b,0x7a,0x79,0x78,0x77,0x76,0x75,0x74,0x73,0x72,0x71,0x70,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>104</code></td><td class="content"><code class="plain">0x6f,0x6e,0x6d,0x6c,0x6b,0x6a,0x69,0x68,0x67,0x66,0x65,0x64,0x63,0x62,0x61,0x60,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>105</code></td><td class="content"><code class="plain">0x5f,0x5e,0x5d,0x5c,0x5b,0x5a,0x59,0x58,0x57,0x56,0x55,0x54,0x53,0x52,0x51,0x50,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>106</code></td><td class="content"><code class="plain">0x4f,0x4e,0x4d,0x4c,0x4b,0x4a,0x49,0x48,0x47,0x46,0x45,0x44,0x43,0x42,0x41,0x40,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>107</code></td><td class="content"><code class="plain">0x3f,0x3e,0x3d,0x3c,0x3b,0x3a,0x39,0x38,0x37,0x36,0x35,0x34,0x33,0x32,0x31,0x30,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>108</code></td><td class="content"><code class="plain">0x2f,0x2e,0x2d,0x2c,0x2b,0x2a,0x29,0x28,0x27,0x26,0x25,0x24,0x23,0x22,0x21,0x20,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>109</code></td><td class="content"><code class="plain">0x1f,0x1e,0x1d,0x1c,0x1b,0x1a,0x19,0x18,0x17,0x16,0x15,0x14,0x13,0x12,0x11,0x10,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>110</code></td><td class="content"><code class="plain">0x0f,0x0e,0x0d,0x0c,0x0b,0x0a,0x09,0x08,0x07,0x06,0x05,0x04,0x03,0x02,0x01,0x00,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>111</code></td><td class="content"><code class="plain">};</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>112</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>113</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>114</code></td><td class="content"><code class="keyword">const</code> <code class="plain">PROGMEM </code><code class="keyword">char</code> <code class="plain">musor_mass[]= </code><code class="comments">//массив для подгонки адреса в флэш-памяти</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>115</code></td><td class="content"><code class="plain">{</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>116</code></td><td class="content"><code class="plain">0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>117</code></td><td class="content"><code class="plain">0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>118</code></td><td class="content"><code class="plain">0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>119</code></td><td class="content"><code class="plain">0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>120</code></td><td class="content"><code class="plain">0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>121</code></td><td class="content"><code class="plain">0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>122</code></td><td class="content"><code class="plain">0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>123</code></td><td class="content"><code class="plain">0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>124</code></td><td class="content"><code class="plain">0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>125</code></td><td class="content"><code class="plain">};</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>126</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>127</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>128</code></td><td class="content"><code class="plain">volatile int32_t freq=1000;</code><code class="comments">// частота по умолчанию</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>129</code></td><td class="content"><code class="plain">volatile uint32_t icr=0;&nbsp; </code><code class="comments">//переменная для управления регистром сравнения таймера1</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>130</code></td><td class="content"><code class="plain">volatile uint16_t shag=100; </code><code class="comments">//шаг энкодера по умолчанию</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>131</code></td><td class="content"><code class="plain">volatile uint16_t int_tic=0; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>132</code></td><td class="content"><code class="plain">volatile uint8_t regim=5; </code><code class="comments">//режим генератора по умолчанию</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>133</code></td><td class="content"><code class="plain">volatile uint8_t monitor_flag; </code><code class="comments">// флаг для вывода на дисплей</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>134</code></td><td class="content"><code class="plain">volatile uint8_t ad2,ad1,ad0; </code><code class="comments">//служебные байты для функции на ассемблере</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>135</code></td><td class="content"><code class="plain">volatile uint8_t duty=50; </code><code class="comments">//скважность</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>136</code></td><td class="content"><code class="plain">volatile uint8_t main_flag=0;</code><code class="comments">//флаг работа в режиме генератора или нет</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>137</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>138</code></td><td class="content"><code class="preprocessor">#define int_on() PCMSK1=(1&lt;&lt;PCINT9)|(1&lt;&lt;PCINT10)|(1&lt;&lt;PCINT11); PCICR=(1&lt;&lt;PCIE1);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>139</code></td><td class="content"><code class="comments">//включить прерывание PCINT1, выбор пинов прерывания A1,A2,A3</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>140</code></td><td class="content"><code class="preprocessor">#define int_off() PCMSK1=0; PCICR=0; //отключить PCINT1</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>141</code></td><td class="content"><code class="preprocessor">#include "ssd1306.h" // &lt;a href="<a href="http://out.arduino.ru/?redirect=https%3A%2F%2Fgithub.com%2Flexus2k%2Fssd1306&amp;baseU=http%3A%2F%2Farduino.ru%2Fforum%2Fproekty%2Fgenerator-s-reguliruemoei-chastotoi-na-arduino" target="_blank" rel="nofollow">https://github.com/lexus2k/ssd1306</a>" rel="nofollow"&gt;<a href="http://out.arduino.ru/?redirect=https%3A%2F%2Fgithub.com%2Flexus2k%2Fssd1306%253C%2Fa&amp;baseU=http%3A%2F%2Farduino.ru%2Fforum%2Fproekty%2Fgenerator-s-reguliruemoei-chastotoi-na-arduino" target="_blank" rel="nofollow">https://github.com/lexus2k/ssd1306&lt;/a</a>&gt; Можно установить через штатный менеджер библиотек</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>142</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>143</code></td><td class="content"><code class="comments">// DDS algorithm </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>144</code></td><td class="content"><code class="keyword">static</code> <code class="plain">inline </code><code class="keyword">void</code> <code class="plain">signalOUT(</code><code class="keyword">const</code> <code class="plain">uint8_t *signal){ </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>145</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain">asm volatile(&nbsp; </code><code class="string">"eor r18, r18&nbsp;&nbsp; ;r18&lt;-0"</code>&nbsp; <code class="string">"\n\t"</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>146</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="string">"eor r19, r19&nbsp;&nbsp; ;r19&lt;-0"</code>&nbsp; <code class="string">"\n\t"</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>147</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="string">"1:"</code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <code class="string">"\n\t"</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>148</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="string">"add r18, %0&nbsp; ;1 cycle"</code>&nbsp;&nbsp;&nbsp;&nbsp; <code class="string">"\n\t"</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>149</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="string">"adc r19, %1&nbsp; ;1 cycle"</code>&nbsp;&nbsp;&nbsp;&nbsp; <code class="string">"\n\t"</code>&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>150</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="string">"adc %A3, %2&nbsp; ;1 cycle"</code>&nbsp;&nbsp;&nbsp;&nbsp; <code class="string">"\n\t"</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>151</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="string">"lpm&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ;3 cycles"</code>&nbsp; <code class="string">"\n\t"</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>152</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="string">"out %4, __tmp_reg__&nbsp; ;1 cycle"</code> <code class="string">"\n\t"</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>153</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="string">"sbis %5, 7&nbsp;&nbsp; ;1 cycle if no skip"</code> <code class="string">"\n\t"</code>&nbsp;&nbsp;&nbsp;&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>154</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="string">"rjmp 1b&nbsp;&nbsp;&nbsp; ;2 cycles. Total 10 cycles"</code> <code class="string">"\n\t"</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>155</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">:</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>156</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">:</code><code class="string">"r"</code> <code class="plain">(ad0),</code><code class="string">"r"</code> <code class="plain">(ad1),</code><code class="string">"r"</code> <code class="plain">(ad2),</code><code class="string">"e"</code> <code class="plain">(signal),</code><code class="string">"I"</code> <code class="plain">(_SFR_IO_ADDR(PORTD)), </code><code class="string">"I"</code> <code class="plain">(_SFR_IO_ADDR(PORTB))</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>157</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">:</code><code class="string">"r18"</code><code class="plain">, </code><code class="string">"r19"</code> <code class="plain">);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>158</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>159</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>160</code></td><td class="content"><code class="keyword">void</code> <code class="keyword">setup</code><code class="plain">(){</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>161</code></td><td class="content"><code class="plain">ssd1306_setFixedFont(ssd1306xled_font6x8);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>162</code></td><td class="content"><code class="plain">ssd1306_128x32_i2c_init();</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>163</code></td><td class="content"><code class="plain">ssd1306_setContrast(255);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>164</code></td><td class="content"><code class="plain">ssd1306_fillScreen( 0x00 );</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>165</code></td><td class="content"><code class="keyword">for</code> <code class="plain">(</code><code class="keyword">int</code> <code class="plain">n=0; n &lt;</code><code class="keyword">sizeof</code><code class="plain">(musor_mass); n++ ) {PORTD=musor_mass[n]; }&nbsp;&nbsp; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>166</code></td><td class="content"><code class="plain">PORTD=0; DDRD=0; TCCR1A=0; TCCR1B=0; TIMSK1=0; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>167</code></td><td class="content"><code class="plain">PORTC|=(1&lt;&lt;PC2)|(1&lt;&lt;PC3); </code><code class="comments">//подтяжка кнопок на A2 A3</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>168</code></td><td class="content"><code class="plain">DDRB|=1&lt;&lt;PB0; </code><code class="comments">// 8 пин -включение подсветки дисплея = выход</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>169</code></td><td class="content"><code class="plain">main_screen(); </code><code class="comments">//стартовое сообщение и выбор задач</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>170</code></td><td class="content"><code class="comments">//далее загрузка генератора по умолчанию</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>171</code></td><td class="content"><code class="plain">TCCR0B=0;&nbsp; check_regim(); </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>172</code></td><td class="content"><code class="plain">int_on();</code><code class="comments">//включить прерывание PCINT1</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>173</code></td><td class="content"><code class="plain">main_flag=1;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>174</code></td><td class="content"><code class="plain">} </code><code class="comments">//end setup</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>175</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>176</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>177</code></td><td class="content"><code class="keyword">void</code> <code class="plain">up_down(boolean x){ </code><code class="comments">// управление регулировками</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>178</code></td><td class="content"><code class="comments">// static boolean n=0;&nbsp; if (n=!n){return;} // снять ремарку для энкодеров с двойным щелчком</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>179</code></td><td class="content"><code class="keyword">if</code> <code class="plain">(TCCR1B==17 &amp;&amp; ICR1&lt;2800 &amp;&amp; regim==5){ </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>180</code></td><td class="content"><code class="keyword">if</code><code class="plain">(x) {</code><code class="keyword">if</code> <code class="plain">(icr&lt;1000 &amp;&amp; shag &gt; 100) shag=100; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>181</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(icr&lt;100 &amp;&amp; shag &gt; 10) shag=10;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>182</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(icr&lt;10 &amp;&amp; shag &gt; 1) shag=1;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>183</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">icr-=shag;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>184</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(icr&lt;2) icr=2;&nbsp;&nbsp;&nbsp; }</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>185</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">else</code> <code class="plain">{&nbsp; </code><code class="keyword">if</code> <code class="plain">(icr &gt; 1800 &amp;&amp; shag &gt;100) shag =100; icr+=shag ;&nbsp; } </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>186</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="keyword">return</code><code class="plain">;&nbsp;&nbsp; }</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>187</code></td><td class="content"><code class="keyword">if</code> <code class="plain">(regim==6){</code><code class="keyword">if</code> <code class="plain">(ICR1&gt;100){ </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>188</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(x){</code><code class="keyword">if</code><code class="plain">(duty&lt;100) {duty++; }&nbsp; }</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>189</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(!x){ </code><code class="keyword">if</code><code class="plain">(duty&gt;0) {duty--; }} }</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>190</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">else</code><code class="plain">{ </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>191</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(x){</code><code class="keyword">if</code><code class="plain">(OCR1A&lt;ICR1) {OCR1A++; }&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>192</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">else</code> <code class="plain">{</code><code class="keyword">if</code><code class="plain">(OCR1A&gt;0) {OCR1A--; }&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>193</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code><code class="plain">(OCR1A&gt;ICR1) OCR1A=ICR1-1;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>194</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">duty=(uint32_t)100*OCR1A/ICR1;&nbsp; }</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>195</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">return</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>196</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">} </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>197</code></td><td class="content"><code class="plain">x? freq+=shag : freq-=shag ;&nbsp; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>198</code></td><td class="content"><code class="keyword">if</code> <code class="plain">(freq &lt; 1) freq=1;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>199</code></td><td class="content"><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>200</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>201</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>202</code></td><td class="content"><code class="color1">////////////////////////////////////////////////////////////////&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>203</code></td><td class="content"><code class="comments">//****** ПРЕРЫВАНИЕ от кнопок и энкодера*******/////////////////&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>204</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="plain">ISR (PCINT1_vect){ </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>205</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="plain">int_off();&nbsp; PORTD=0;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>206</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="color1">///блок для обработки событий не в режиме генератора///</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>207</code></td><td class="content"><code class="keyword">if</code> <code class="plain">(main_flag==0) { </code><code class="keyword">if</code> <code class="plain">((PINC&amp;(1&lt;&lt;3))==0){ </code><code class="keyword">while</code> <code class="plain">((PINC&amp;(1&lt;&lt;3))==0); </code><code class="comments">//вкл. подсветки</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>208</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">((PINC&amp;(1&lt;&lt;2))==0){ PINB|=1&lt;&lt;PB0; </code><code class="keyword">while</code> <code class="plain">((PINC&amp;(1&lt;&lt;2))==0);}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>209</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">int_on(); </code><code class="keyword">return</code><code class="plain">; </code><code class="comments">//выходить если не в режиме генератора </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>210</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>211</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="comments">//далее всё в режиме генаратора</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>212</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="comments">// если нажата кнопка энкодера&nbsp;&nbsp;&nbsp;&nbsp; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>213</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="keyword">if</code> <code class="plain">((PINC&amp;(1&lt;&lt;3))==0){ </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>214</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">while</code> <code class="plain">((PINC&amp;(1&lt;&lt;3))==0);</code><code class="comments">// подождать до тех пор, когда кнопку отпустят</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>215</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="comments">//блок вкл/отк подсветки дисплея (8 пин ардуино)</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>216</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">((PINC&amp;(1&lt;&lt;2))==0){ </code><code class="comments">//если после этого нажата кнопка режимов,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>217</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">PINB|=1&lt;&lt;PB0; </code><code class="comments">//менять состояние 8 пина</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>218</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">while</code> <code class="plain">((PINC&amp;(1&lt;&lt;2))==0);</code><code class="comments">// теперь подождать пока отпустят кнопку режим </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>219</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">int_on(); </code><code class="keyword">return</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>220</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>221</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(regim==6) { regim=5; check_regim(); int_on(); </code><code class="keyword">return</code><code class="plain">; }</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>222</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">switch</code> <code class="plain">(shag){ </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>223</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">1: shag=10;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>224</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">10: shag=100;&nbsp;&nbsp;&nbsp; </code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>225</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">100: shag=1000;&nbsp;&nbsp; </code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>226</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">1000: shag=1; </code><code class="keyword">break</code><code class="plain">; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>227</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">} check_regim(); int_on(); </code><code class="keyword">return</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>228</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">} </code><code class="comments">//конец блока *если нажата кнопка энкодера*</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>229</code></td><td class="content"><code class="keyword">if</code> <code class="plain">((PINC&amp;(1&lt;&lt;2))==0){ </code><code class="comments">// если нажата кнопка режимов</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>230</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain">PORTD=0;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>231</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">while</code> <code class="plain">((PINC&amp;(1&lt;&lt;2))==0);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>232</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">regim++; </code><code class="keyword">if</code> <code class="plain">(regim==7) regim=0; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>233</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">check_regim(); int_on();&nbsp; </code><code class="keyword">return</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>234</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">} </code><code class="comments">//конец блока *если нажата кнопка режимов*</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>235</code></td><td class="content"><code class="comments">// если кнопки не нажимались -значит крутили энкодер:</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>236</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">up_down( ! (PINC&amp;1)^((PINC&amp;2)&gt;&gt;1) ); </code><code class="comments">//отправить считанное энкодеров в другую функцию</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>237</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="comments">// если при вращении счёт идёт не в нужную сторону, то (вставить/убрать) символ '!'&nbsp;&nbsp; up_down(! </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>238</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">check_regim(); int_on();</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>239</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">} </code><code class="comments">//конец функции обработки прерываний от кнопок PCINT1_vect </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>240</code></td><td class="content"><code class="color1">////////////////////КОНЕЦ_ПРЕРЫВАНИЕ_от_кнопок_и_энкодера///////////////////////////////</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>241</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>242</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>243</code></td><td class="content"><code class="keyword">void</code> <code class="plain">pwm_gen(){ </code><code class="comments">//настройка таймера1</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>244</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="plain">uint16_t divider=1; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>245</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">icr = (16000000ul / freq /2 /divider); </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>246</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="keyword">byte</code> <code class="plain">shifts[] = {3,3,2,2};</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>247</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">for</code><code class="plain">(</code><code class="keyword">byte</code> <code class="plain">i = 0; i &lt; 4; i++){</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>248</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(icr &gt; 65536) {</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>249</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">divider &lt;&lt;= shifts[i];</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>250</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">icr = 16000000ul / freq /2 /divider; }</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>251</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">else</code> <code class="plain">{&nbsp; TCCR1B = (i+1)|(1&lt;&lt;WGM13);&nbsp; </code><code class="keyword">break</code><code class="plain">;&nbsp; } }</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>252</code></td><td class="content"><code class="plain">ICR1=icr-1; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>253</code></td><td class="content"><code class="plain">set_duty();</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>254</code></td><td class="content"><code class="plain">} </code><code class="comments">//end pwm_gen</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>255</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>256</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>257</code></td><td class="content"><code class="keyword">void</code> <code class="keyword">loop</code><code class="plain">() {</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>258</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(monitor_flag) { monitor_flag=0; monitor_out(); }</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>259</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(regim &lt;5){ PORTB&amp;= ~(1&lt;&lt;7);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>260</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">DDRD=0xFF;</code><code class="comments">//set D port as output</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>261</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">uint32_t temp=(</code><code class="keyword">float</code><code class="plain">)freq /0.095367431640625; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>262</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">ad2=temp&gt;&gt;16; ad1=temp&gt;&gt;8; ad0=temp;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>263</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">switch</code> <code class="plain">(regim){ </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>264</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">0: signalOUT(sinewave); </code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>265</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">1: signalOUT(trianglewave); </code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>266</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">2: signalOUT(squarewave); </code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>267</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">3: signalOUT(sawtoothwave); </code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>268</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">4: signalOUT(rewsawtoothwave);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>269</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">} </code><code class="comments">//end switch</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>270</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">DDRD=0; PORTD=0;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>271</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>272</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">} </code><code class="comments">//end if (regim&lt;5)</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>273</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">}</code><code class="comments">//end loop</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>274</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>275</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>276</code></td><td class="content"><code class="keyword">void</code> <code class="plain">monitor_out(){</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>277</code></td><td class="content"><code class="plain">String dutystr,stepstr;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>278</code></td><td class="content"><code class="plain">dutystr= String(</code><code class="string">"Duty:"</code><code class="plain">+ String(duty)+ </code><code class="string">"%"</code><code class="plain">);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>279</code></td><td class="content"><code class="plain">stepstr=String(</code><code class="string">"Step:"</code><code class="plain">+String(shag));</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>280</code></td><td class="content"><code class="plain">ssd1306_clearScreen();</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>281</code></td><td class="content"><code class="comments">//Вывод первой строчки</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>282</code></td><td class="content"><code class="comments">//ssd1306_setFixedFont(ssd1306xled_font6x8);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>283</code></td><td class="content"><code class="keyword">if</code> <code class="plain">(freq &lt;10000) {ssd1306_printFixed(0, 0, </code><code class="string">"Frequency, Hz"</code><code class="plain">, STYLE_NORMAL);&nbsp; }</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>284</code></td><td class="content"><code class="keyword">if</code> <code class="plain">(freq &gt;=10000) {ssd1306_printFixed(0, 0, </code><code class="string">"Frequency, kHz"</code><code class="plain">, STYLE_NORMAL);&nbsp; }</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>285</code></td><td class="content"><code class="comments">//Вывод второй строчки</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>286</code></td><td class="content"><code class="keyword">if</code> <code class="plain">(freq &lt;10000) {</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>287</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">String sfreq((</code><code class="keyword">float</code><code class="plain">)freq, 0);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>288</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">sfreq.trim();</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>289</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="keyword">const</code> <code class="keyword">char</code> <code class="plain">* szfreq = sfreq.c_str();</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>290</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">ssd1306_printFixedN(0, 8,szfreq, STYLE_NORMAL, FONT_SIZE_2X);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>291</code></td><td class="content"><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>292</code></td><td class="content"><code class="keyword">if</code> <code class="plain">(freq &gt;=10000u &amp;&amp; freq &lt; 1000000ul ) {</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>293</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">String sfreq((</code><code class="keyword">float</code><code class="plain">)freq/1000, 3);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>294</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="keyword">const</code> <code class="keyword">char</code> <code class="plain">* szfreq = sfreq.c_str();</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>295</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">ssd1306_printFixedN(0, 8, szfreq, STYLE_NORMAL, FONT_SIZE_2X);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>296</code></td><td class="content"><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>297</code></td><td class="content"><code class="keyword">if</code> <code class="plain">(freq &gt;=1000000ul ) {</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>298</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">String sfreq((</code><code class="keyword">float</code><code class="plain">)freq/1000, 2);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>299</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="keyword">const</code> <code class="keyword">char</code> <code class="plain">* szfreq = sfreq.c_str();</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>300</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">ssd1306_printFixedN(0, 8, szfreq, STYLE_NORMAL, FONT_SIZE_2X);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>301</code></td><td class="content"><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>302</code></td><td class="content"><code class="comments">//Вывод третьей строчки</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>303</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">switch</code><code class="plain">(regim){ </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>304</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">0: ssd1306_printFixed(0, 24, </code><code class="string">"Sinus.DDS"</code><code class="plain">, STYLE_NORMAL); </code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>305</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">1: ssd1306_printFixed(0, 24, </code><code class="string">"Triangl.DDS"</code><code class="plain">, STYLE_NORMAL); </code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>306</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">2: ssd1306_printFixed(0, 24, </code><code class="string">"Meandr.DDS"</code><code class="plain">, STYLE_NORMAL); </code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>307</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">3: ssd1306_printFixed(0, 24, </code><code class="string">"Pila1.DDS"</code><code class="plain">, STYLE_NORMAL); </code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>308</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">4: ssd1306_printFixed(0, 24, </code><code class="string">"Pila2.DDS"</code><code class="plain">, STYLE_NORMAL); </code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>309</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">5: ssd1306_printFixed(0, 24, </code><code class="string">"PWM Mode"</code><code class="plain">, STYLE_NORMAL); </code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>310</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">6: ssd1306_printFixed(0, 24, </code><code class="string">"Duty Mode"</code><code class="plain">, STYLE_NORMAL);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>311</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>312</code></td><td class="content"><code class="comments">//Вывод четвёртой строчки</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>313</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="keyword">if</code> <code class="plain">(regim==6) ssd1306_printFixed(68, 24, dutystr.c_str(), STYLE_NORMAL);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>314</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">else</code> <code class="plain">ssd1306_printFixed(68, 24, stepstr.c_str(), STYLE_NORMAL);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>315</code></td><td class="content"><code class="plain">}</code><code class="comments">//end monitor out</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>316</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>317</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>318</code></td><td class="content"><code class="keyword">void</code> <code class="plain">set_duty(){</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>319</code></td><td class="content"><code class="keyword">if</code> <code class="plain">(regim==6&amp;&amp;ICR1&lt;100) </code><code class="keyword">return</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>320</code></td><td class="content"><code class="keyword">if</code> <code class="plain">(regim==5 &amp;&amp; ICR1&lt;100){</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>321</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">OCR1A=ICR1/2; duty=50; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>322</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">return</code><code class="plain">;&nbsp;&nbsp; }</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>323</code></td><td class="content"><code class="keyword">static</code> <code class="plain">uint16_t ocr;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>324</code></td><td class="content"><code class="plain">ocr=(uint32_t)ICR1*duty/100;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>325</code></td><td class="content"><code class="plain">OCR1A=ocr;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>326</code></td><td class="content"><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>327</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>328</code></td><td class="content"><code class="keyword">void</code> <code class="plain">check_regim(){</code><code class="comments">// проверка и установка режимов генератора</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>329</code></td><td class="content"><code class="keyword">if</code> <code class="plain">(regim &lt;5){ </code><code class="keyword">if</code> <code class="plain">(freq &gt; 100000) freq=100000;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>330</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TCCR1B=0;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>331</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TCCR1A=0;&nbsp; DDRB&amp;=~(1&lt;&lt;DDB1); </code><code class="comments">// 9 pin arduino set Z-mode </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>332</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code><code class="comments">// end if regim &lt;5</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>333</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(regim &gt; 4) { </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>334</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TCCR1A=1&lt;&lt;COM1A1; DDRB|=1&lt;&lt;DDB1; </code><code class="comments">// 9 pin set output (pwm out)</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>335</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(TCCR1B==17 &amp;&amp; ICR1&lt;2800){ </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>336</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">ICR1=icr; freq= (</code><code class="keyword">float</code><code class="plain">) 8000000UL/ICR1;&nbsp; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>337</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">set_duty();&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>338</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">else</code> <code class="plain">{ pwm_gen(); } </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>339</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>340</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain">PORTB|= 1&lt;&lt;7; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>341</code></td><td class="content"><code class="plain">monitor_flag=1;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>342</code></td><td class="content"><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>343</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>344</code></td><td class="content"><code class="plain">ISR (TIMER1_OVF_vect){ int_tic++; } </code><code class="comments">// прерывание частотомера</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>345</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>346</code></td><td class="content"><code class="keyword">void</code> <code class="plain">freq_meter(){</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>347</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="comments">//ssd1306_setFixedFont(ssd1306xled_font6x8);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>348</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">ssd1306_clearScreen();</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>349</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">ssd1306_printFixed(0,&nbsp; 0, </code><code class="string">"Freq.counter"</code><code class="plain">, STYLE_NORMAL);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>350</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">int_on();</code><code class="comments">//включить прерывание PCINT1</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>351</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">TIMSK1 = 1&lt;&lt;TOIE1;</code><code class="comments">// подключить прерывание</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>352</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">uint32_t freqm=0;</code><code class="comments">// Переменная измерения частоты</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>353</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">int_tic=0; TCNT1=0; TIFR1=0;</code><code class="comments">//всё обнулить</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>354</code></td><td class="content"><code class="keyword">while</code><code class="plain">(1){</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>355</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain">TCCR1B=7;</code><code class="comments">//тактировани от входа Т1</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>356</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain">delay(2000); TCCR1B=0;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>357</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain">freqm= (((uint32_t)int_tic&lt;&lt;16) | TCNT1)/2; </code><code class="comments">//сложить что натикало</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>358</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain">int_tic=0; TCNT1 = 0; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>359</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="comments">//ssd1306_setFixedFont(ssd1306xled_font6x8);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>360</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain">ssd1306_clearScreen();</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>361</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain">ssd1306_printFixed(0,&nbsp; 0, </code><code class="string">"Freq.counter"</code><code class="plain">, STYLE_NORMAL);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>362</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(freqm &lt;10000) {</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>363</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">String sfreqm((</code><code class="keyword">float</code><code class="plain">)freqm, 0);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>364</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">sfreqm.trim();</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>365</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">const</code> <code class="keyword">char</code> <code class="plain">* szfreqm = sfreqm.c_str();</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>366</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">ssd1306_printFixedN(0, 8, szfreqm, STYLE_NORMAL, FONT_SIZE_2X);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>367</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">ssd1306_printFixed(0,&nbsp; 24, </code><code class="string">"Herz"</code><code class="plain">, STYLE_NORMAL);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>368</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>369</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(freqm &gt;=10000u &amp;&amp; freqm &lt; 1000000ul ) {</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>370</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">String sfreqm((</code><code class="keyword">float</code><code class="plain">)freqm/1000, 3);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>371</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">const</code> <code class="keyword">char</code> <code class="plain">* szfreqm = sfreqm.c_str();</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>372</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">ssd1306_printFixedN(0, 8, szfreqm, STYLE_NORMAL, FONT_SIZE_2X);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>373</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">ssd1306_printFixed(0,&nbsp; 24, </code><code class="string">"KiloHerz"</code><code class="plain">, STYLE_NORMAL);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>374</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>375</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(freqm &gt;=1000000ul ) {</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>376</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">String sfreqm((</code><code class="keyword">float</code><code class="plain">)freqm/1000000ul, 3);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>377</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">const</code> <code class="keyword">char</code> <code class="plain">* szfreqm = sfreqm.c_str();</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>378</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">ssd1306_printFixedN(0, 8, szfreqm, STYLE_NORMAL, FONT_SIZE_2X);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>379</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">ssd1306_printFixed(0,&nbsp; 24, </code><code class="string">"MegaHerz"</code><code class="plain">, STYLE_NORMAL);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>380</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain">}&nbsp;&nbsp;&nbsp; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>381</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">}&nbsp; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>382</code></td><td class="content"><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>383</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>384</code></td><td class="content"><code class="color1">//////////////////////////////////////////////////////////////////////</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>385</code></td><td class="content"><code class="keyword">void</code> <code class="plain">volt_meter() {</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>386</code></td><td class="content"><code class="plain">ADCSRA=(1&lt;&lt;ADEN)|(1&lt;&lt;ADPS2)|(1&lt;&lt;ADPS1)|(1&lt;&lt;ADPS0);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>387</code></td><td class="content"><code class="plain">ADCSRB=0; DIDR0=48; int_on();</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>388</code></td><td class="content"><code class="keyword">float</code> <code class="plain">ain,vcc;&nbsp; String ainstr,vccstr;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>389</code></td><td class="content"><code class="comments">//ssd1306_setFixedFont(ssd1306xled_font6x8);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>390</code></td><td class="content"><code class="plain">ssd1306_clearScreen();</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>391</code></td><td class="content"><code class="plain">ssd1306_printFixed(0,&nbsp; 0, </code><code class="string">"Volt meter"</code><code class="plain">, STYLE_NORMAL);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>392</code></td><td class="content"><code class="keyword">while</code><code class="plain">(1){</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>393</code></td><td class="content"><code class="plain">ADMUX = (1&lt;&lt;REFS0)|(1&lt;&lt;MUX3)|(1&lt;&lt;MUX2)|(1&lt;&lt;MUX1); </code><code class="comments">//Vcc measure</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>394</code></td><td class="content"><code class="plain">delay(1); vcc=(</code><code class="keyword">float</code><code class="plain">)(1.1*65472) / analog_func();</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>395</code></td><td class="content"><code class="plain">vccstr=String(</code><code class="string">"Vcc= "</code><code class="plain">+String(vcc,3)+</code><code class="string">" v&nbsp; "</code><code class="plain">);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>396</code></td><td class="content"><code class="plain">ssd1306_printFixed(0, 24, vccstr.c_str(), STYLE_NORMAL);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>397</code></td><td class="content"><code class="plain">ADMUX = (1&lt;&lt;REFS0)|(1&lt;&lt;MUX2)|(1&lt;&lt;MUX1); </code><code class="comments">//ADC6 measure</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>398</code></td><td class="content"><code class="plain">delay(1); ain= analog_func()*vcc /65472 ; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>399</code></td><td class="content"><code class="plain">ainstr=String(</code><code class="string">"Ain6= "</code><code class="plain">+String(ain,3)+</code><code class="string">" v&nbsp; "</code><code class="plain">);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>400</code></td><td class="content"><code class="plain">ssd1306_printFixed(0, 8, ainstr.c_str(), STYLE_NORMAL);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>401</code></td><td class="content"><code class="plain">ADMUX = (1&lt;&lt;REFS0)|(1&lt;&lt;MUX2)|(1&lt;&lt;MUX1)|(1&lt;&lt;MUX0); </code><code class="comments">//ADC7 measure</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>402</code></td><td class="content"><code class="plain">delay(1); ain= analog_func() *vcc /65472 ; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>403</code></td><td class="content"><code class="plain">ainstr=String(</code><code class="string">"Ain7= "</code><code class="plain">+String(ain,3)+</code><code class="string">" v&nbsp; "</code><code class="plain">);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>404</code></td><td class="content"><code class="plain">ssd1306_printFixed(0, 16, ainstr.c_str(), STYLE_NORMAL);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>405</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">};</code><code class="comments">//end while</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>406</code></td><td class="content"><code class="plain">}</code><code class="comments">//end volt meter</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>407</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>408</code></td><td class="content"><code class="plain">uint32_t analog_func(){</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>409</code></td><td class="content"><code class="plain">uint32_t adc_buff=0;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>410</code></td><td class="content"><code class="keyword">for</code> <code class="plain">(</code><code class="keyword">int</code> <code class="plain">n=0; n&lt;=4095; n++ ) {</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>411</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">ADCSRA |= (1&lt;&lt;ADSC);&nbsp; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>412</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">while</code> <code class="plain">(bit_is_set(ADCSRA,ADSC));</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>413</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">adc_buff += ADC;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>414</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain">} </code><code class="keyword">return</code> <code class="plain">adc_buff&gt;&gt;=6;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>415</code></td><td class="content"><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>416</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>417</code></td><td class="content"><code class="color1">/////////////////////////////////////////////////////////////////</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>418</code></td><td class="content"><code class="keyword">void</code> <code class="plain">main_screen(){</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>419</code></td><td class="content"><code class="keyword">static</code> <code class="plain">boolean flag_exit =0; uint8_t n=84;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>420</code></td><td class="content"><code class="comments">//ssd1306_setFixedFont(ssd1306xled_font6x8);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>421</code></td><td class="content"><code class="plain">ssd1306_printFixed(0,&nbsp; 0, </code><code class="string">"Freq.counter &gt;"</code><code class="plain">, STYLE_NORMAL);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>422</code></td><td class="content"><code class="plain">ssd1306_printFixed(0,&nbsp; 8, </code><code class="string">"**************"</code><code class="plain">, STYLE_NORMAL);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>423</code></td><td class="content"><code class="plain">ssd1306_printFixed(0,&nbsp; 16, </code><code class="string">"&nbsp; Volt meter &gt;"</code><code class="plain">, STYLE_NORMAL);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>424</code></td><td class="content"><code class="keyword">while</code><code class="plain">(flag_exit==0) { </code><code class="comments">//ждать нажатия кнопки режимов.</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>425</code></td><td class="content"><code class="plain">delay(350); ssd1306_printFixed(n-12,&nbsp; 8, </code><code class="string">"&nbsp; "</code><code class="plain">, STYLE_NORMAL); n-=6;&nbsp; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>426</code></td><td class="content"><code class="keyword">if</code> <code class="plain">(n==0) flag_exit=1;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>427</code></td><td class="content"><code class="keyword">if</code> <code class="plain">((PINC&amp;(1&lt;&lt;2))==0){ </code><code class="comments">// если нажата кнопка режимов</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>428</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">while</code> <code class="plain">((PINC&amp;(1&lt;&lt;2))==0);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>429</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">freq_meter();&nbsp;&nbsp; }</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>430</code></td><td class="content"><code class="keyword">if</code> <code class="plain">((PINC&amp;(1&lt;&lt;3))==0){ </code><code class="comments">// если нажата кнопка энкодера</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>431</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">while</code> <code class="plain">((PINC&amp;(1&lt;&lt;3))==0);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>432</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">volt_meter();&nbsp;&nbsp; }</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>433</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code><code class="comments">// end while</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>434</code></td><td class="content"><code class="plain">}</code><code class="comments">// end main_screen</code></td></tr></tbody></table></div></div></div>

<p>&nbsp;</p>
      </div>

          </div>
  </div>

  <div class="forum-post-footer clear-block">
    <div class="forum-jump-links">
      <a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#top" title="Jump to top of page">Верх</a>
    </div>

          <div class="forum-post-links">
        <ul class="links forum-links"><li class="comment_forbidden first"><span><a href="http://arduino.ru/user/login?destination=node%2F11357%23comment-form">Войдите</a> или <a href="http://arduino.ru/user/register?destination=node%2F11357%23comment-form">зарегистрируйтесь</a>, чтобы получить возможность отправлять комментарии</span></li>
<li class="vud_comment_votes_count last"></li>
</ul>      </div>
      </div>
</div><a id="comment-371284"></a>

    <div class="forum-post  clear-block">

  <div class="post-info clear-block">
    <div class="posted-on">
      Пнд, 04/06/2018 - 18:13
          </div>

          <span class="post-num"><a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#comment-371284" class="active">#35</a> </span>
      </div>

  <div class="forum-post-wrapper">

    <div class="forum-post-panel-sub">
      

<div class="author-pane">
 <div class="author-pane-inner">
        <div class="author-pane-section author-pane-general">
            <div class="author-pane-line author-name">
        АндрейS      </div>

                    
      
                    <div class="author-pane-line author-offline">
           Offline        </div>
      
            
            
            
                    <div class="author-pane-line author-joined">
          <span class="author-pane-label">Зарегистрирован:</span> 13.04.2018        </div>
      
            
                </div>

        <div class="author-pane-section author-pane-contact">
            
            
            
                </div>

        <div class="author-pane-section author-pane-admin">
            
          
               </div>
  </div>
</div>
    </div>

    <div class="forum-post-panel-main clear-block">
      
      <div class="content">
        <p></p><div class="quote-msg"><div class="quote-author">Цитата:</div><p></p>
<p>Очевидно, что вместо 2E5 какое-то другое число :)</p>
<p></p></div><br>
	Мне было не очевидно :) Я делал перистальтический насос на ардуине там было ограничение на кол-во оборотов простой цифрой, вот там мне было очевидно, а тут мой проц завис :)&nbsp; Оказалось что 2E5 это число)))) Погуглил, хоть и не понял что это за числа, методом научного тыка написал то что мне надо. Спасибо за помощь.<p></p>
<p>	Генератор на ардуине собирал на макетной плате проводами 1,5 дня, замучился. Решил что надо осваивать изготовление печатных плат. Выбрал KiCad, на осваивание программы и создание платы ушло 3 дня. Травил час, собирал около 3. Вот что получилось:</p>
<p><a href="http://arduino.ru/sites/default/files/u37382/gen1.jpg" class="lb lightbox-processed" rel="lightbox"><img alt="" src="./Генератор с регулируемоей частотой на ардуино. _ Аппаратная платформа Arduino_files/gen1-250x195.jpg" style="width:250px;height:195px;" width="250" height="195"></a><a href="http://arduino.ru/sites/default/files/u37382/gen2.jpg" class="lb lightbox-processed" rel="lightbox"><img alt="" src="./Генератор с регулируемоей частотой на ардуино. _ Аппаратная платформа Arduino_files/gen2-250x195.jpg" style="width:250px;height:195px;" width="250" height="195"></a><a href="http://arduino.ru/sites/default/files/u37382/gen3.jpg" class="lb lightbox-processed" rel="lightbox"><img alt="" src="./Генератор с регулируемоей частотой на ардуино. _ Аппаратная платформа Arduino_files/gen3-250x195.jpg" style="width:250px;height:195px;" width="250" height="195"></a></p>
<p>	Не без косяков конечно :) Считал считал, но почему то у энкодера посадочные места по длине растянулись, но он все равно встал, не сделал переходные отверстия для питания экрана и энкодера, решил просто, припаял кусок провода. Не стал лудить, думал покрою лаком, но пока паял все заляпал. Придется теперь лудить. Ну вот вроде бы все.</p>
<p>Файлы KiCad <a href="http://out.arduino.ru/?redirect=https%3A%2F%2Fyadi.sk%2Fd%2F9IRSuFxi3X578E&amp;baseU=http%3A%2F%2Farduino.ru%2Fforum%2Fproekty%2Fgenerator-s-reguliruemoei-chastotoi-na-arduino" rel="nofollow" target="_blank">https://yadi.sk/d/9IRSuFxi3X578E</a> посадочные места под энкодер поправил, а вот с переходным отверстия так и не разобрался, наверно надо посадочные отверстия поставить, и не нашел у себя пищалку, соответственно ее не мерил и посадочные места под не из библиотеки.<br><strong>dimax</strong>, еще раз спасибо за проект и поддержку :)</p>
      </div>

          </div>
  </div>

  <div class="forum-post-footer clear-block">
    <div class="forum-jump-links">
      <a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#top" title="Jump to top of page">Верх</a>
    </div>

          <div class="forum-post-links">
        <ul class="links forum-links"><li class="comment_forbidden first"><span><a href="http://arduino.ru/user/login?destination=node%2F11357%23comment-form">Войдите</a> или <a href="http://arduino.ru/user/register?destination=node%2F11357%23comment-form">зарегистрируйтесь</a>, чтобы получить возможность отправлять комментарии</span></li>
<li class="vud_comment_votes_count last"></li>
</ul>      </div>
      </div>
</div><a id="comment-374750"></a>

    <div class="forum-post  clear-block">

  <div class="post-info clear-block">
    <div class="posted-on">
      Втр, 19/06/2018 - 13:38
          </div>

          <span class="post-num"><a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#comment-374750" class="active">#36</a> </span>
      </div>

  <div class="forum-post-wrapper">

    <div class="forum-post-panel-sub">
      

<div class="author-pane">
 <div class="author-pane-inner">
        <div class="author-pane-section author-pane-general">
            <div class="author-pane-line author-name">
        step64      </div>

                    
      
                    <div class="author-pane-line author-offline">
           Offline        </div>
      
            
            
            
                    <div class="author-pane-line author-joined">
          <span class="author-pane-label">Зарегистрирован:</span> 01.04.2013        </div>
      
            
                </div>

        <div class="author-pane-section author-pane-contact">
            
            
            
                </div>

        <div class="author-pane-section author-pane-admin">
            
          
               </div>
  </div>
</div>
    </div>

    <div class="forum-post-panel-main clear-block">
      
      <div class="content">
        <p>Респект автору за генератор, работает стабильно, правда частоту врёт на доли Герца, но это уж придирки)) Не могу понять чем отличается PWM и Duty режимы, в обои регулируется и частота и длительность, зачем их дублировать было?) Кстати у stm32f103&nbsp; очень крутые фронты выходных сигналов, около 5 нс.<a href="./Генератор с регулируемоей частотой на ардуино. _ Аппаратная платформа Arduino_files/20180619_152358.jpg"><img alt="" src="./Генератор с регулируемоей частотой на ардуино. _ Аппаратная платформа Arduino_files/20180619_152358.jpg" width="780" height="585"></a><a href="./Генератор с регулируемоей частотой на ардуино. _ Аппаратная платформа Arduino_files/1.jpg"><img alt="" src="./Генератор с регулируемоей частотой на ардуино. _ Аппаратная платформа Arduino_files/1.jpg" style="width:780px;height:585px;" width="780" height="585"></a></p>
      </div>

          </div>
  </div>

  <div class="forum-post-footer clear-block">
    <div class="forum-jump-links">
      <a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#top" title="Jump to top of page">Верх</a>
    </div>

          <div class="forum-post-links">
        <ul class="links forum-links"><li class="comment_forbidden first"><span><a href="http://arduino.ru/user/login?destination=node%2F11357%23comment-form">Войдите</a> или <a href="http://arduino.ru/user/register?destination=node%2F11357%23comment-form">зарегистрируйтесь</a>, чтобы получить возможность отправлять комментарии</span></li>
<li class="vud_comment_votes_count last"></li>
</ul>      </div>
      </div>
</div><a id="comment-376759"></a>

    <div class="forum-post  clear-block">

  <div class="post-info clear-block">
    <div class="posted-on">
      Ср, 27/06/2018 - 22:11
          </div>

          <span class="post-num"><a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#comment-376759" class="active">#37</a> </span>
      </div>

  <div class="forum-post-wrapper">

    <div class="forum-post-panel-sub">
      

<div class="author-pane">
 <div class="author-pane-inner">
        <div class="author-pane-section author-pane-general">
            <div class="author-pane-line author-name">
        Focus      </div>

                    
      
                    <div class="author-pane-line author-offline">
           Offline        </div>
      
            
            
            
                    <div class="author-pane-line author-joined">
          <span class="author-pane-label">Зарегистрирован:</span> 05.04.2015        </div>
      
            
                </div>

        <div class="author-pane-section author-pane-contact">
            
            
            
                </div>

        <div class="author-pane-section author-pane-admin">
            
          
               </div>
  </div>
</div>
    </div>

    <div class="forum-post-panel-main clear-block">
      
      <div class="content">
        <p>Добрый вечер! Сделал платку под голую Atmega328 TQFP32 по схеме v2.4, спаял, плата как бы запускается, шим норм идёт, а вот синус получил такой:</p>
<p>&nbsp;<img alt="" src="./Генератор с регулируемоей частотой на ардуино. _ Аппаратная платформа Arduino_files/sinus.jpg" style="width:400px;height:225px;" width="400" height="225"></p>
<p>Проверил схему на 2 раза, вроде всё верно, помыл от канифоли - не помогает. сейчас заметил, что в версии 2.0 нижний резистор в делителе, который идёт на массу, номиналом 1к, а в версиях 2.3, 2.4 номинал 2к, не думаю что это так сильно бы изуродовало синус, но может я просто не знаю физику процесса? Голую атмегу первый раз шил (до этого только тиньки), фьюзы никакие не выставлял, просто загрузчик сперва записал, потом скеч (говорят загрузчик ставить фьюзы как надо) шил USBASP через Arduino IDE.&nbsp;</p>
<p>Может картинка кому то подскажет чего я накосячил? :)</p>
<p>Плата в формате Sprint Layout 5:&nbsp;<a href="http://out.arduino.ru/?redirect=https%3A%2F%2Fyadi.sk%2Fd%2FK0Lq2Inu3YVVkQ&amp;baseU=http%3A%2F%2Farduino.ru%2Fforum%2Fproekty%2Fgenerator-s-reguliruemoei-chastotoi-na-arduino" rel="nofollow" target="_blank">https://yadi.sk/d/K0Lq2Inu3YVVkQ</a></p>
<p>Фотовид (картинка кликабельна):&nbsp;</p>
<p><a href="http://arduino.ru/sites/default/files/u12209/plata_generatora.jpg"><img alt="" src="./Генератор с регулируемоей частотой на ардуино. _ Аппаратная платформа Arduino_files/plata_generatora-400x220.jpg" style="width:400px;height:220px;" width="400" height="220"></a></p>
      </div>

          </div>
  </div>

  <div class="forum-post-footer clear-block">
    <div class="forum-jump-links">
      <a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#top" title="Jump to top of page">Верх</a>
    </div>

          <div class="forum-post-links">
        <ul class="links forum-links"><li class="comment_forbidden first"><span><a href="http://arduino.ru/user/login?destination=node%2F11357%23comment-form">Войдите</a> или <a href="http://arduino.ru/user/register?destination=node%2F11357%23comment-form">зарегистрируйтесь</a>, чтобы получить возможность отправлять комментарии</span></li>
<li class="vud_comment_votes_count last"></li>
</ul>      </div>
      </div>
</div><a id="comment-376767"></a>

    <div class="forum-post  clear-block">

  <div class="post-info clear-block">
    <div class="posted-on">
      Ср, 27/06/2018 - 22:32
          </div>

          <span class="post-num"><a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#comment-376767" class="active">#38</a> </span>
      </div>

  <div class="forum-post-wrapper">

    <div class="forum-post-panel-sub">
      

<div class="author-pane">
 <div class="author-pane-inner">
        <div class="author-pane-section author-pane-general">
            <div class="author-pane-line author-name">
        dimax      </div>

                    
  <div class="picture">
          <img src="./Генератор с регулируемоей частотой на ардуино. _ Аппаратная платформа Arduino_files/picture-6856.jpg" alt="dimax аватар" title="dimax аватар">      </div>
      
                    <div class="author-pane-line author-offline">
           Offline        </div>
      
            
            
            
                    <div class="author-pane-line author-joined">
          <span class="author-pane-label">Зарегистрирован:</span> 25.12.2013        </div>
      
            
                </div>

        <div class="author-pane-section author-pane-contact">
            
            
            
                </div>

        <div class="author-pane-section author-pane-admin">
            
          
               </div>
  </div>
</div>
    </div>

    <div class="forum-post-panel-main clear-block">
      
      <div class="content">
        <p>Focus,&nbsp; Похоже на сдвиг массива, почитайте внимательнее параграф "Особенности" в описании версии 2.0</p>
      </div>

          </div>
  </div>

  <div class="forum-post-footer clear-block">
    <div class="forum-jump-links">
      <a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#top" title="Jump to top of page">Верх</a>
    </div>

          <div class="forum-post-links">
        <ul class="links forum-links"><li class="comment_forbidden first"><span><a href="http://arduino.ru/user/login?destination=node%2F11357%23comment-form">Войдите</a> или <a href="http://arduino.ru/user/register?destination=node%2F11357%23comment-form">зарегистрируйтесь</a>, чтобы получить возможность отправлять комментарии</span></li>
<li class="vud_comment_votes_count last"></li>
</ul>      </div>
      </div>
</div><a id="comment-376775"></a>

    <div class="forum-post  clear-block">

  <div class="post-info clear-block">
    <div class="posted-on">
      Чт, 28/06/2018 - 00:01
          </div>

          <span class="post-num"><a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#comment-376775" class="active">#39</a> </span>
      </div>

  <div class="forum-post-wrapper">

    <div class="forum-post-panel-sub">
      

<div class="author-pane">
 <div class="author-pane-inner">
        <div class="author-pane-section author-pane-general">
            <div class="author-pane-line author-name">
        Focus      </div>

                    
      
                    <div class="author-pane-line author-offline">
           Offline        </div>
      
            
            
            
                    <div class="author-pane-line author-joined">
          <span class="author-pane-label">Зарегистрирован:</span> 05.04.2015        </div>
      
            
                </div>

        <div class="author-pane-section author-pane-contact">
            
            
            
                </div>

        <div class="author-pane-section author-pane-admin">
            
          
               </div>
  </div>
</div>
    </div>

    <div class="forum-post-panel-main clear-block">
      
      <div class="content">
        <p>Поперемещал архив туда-сюда,даже адрес начала у него всегда больше сотни, потом добавил в него нулей х2, синус почти стал походить на синус. Убрал по чуть чуть пару строк нулей - теперь синус как синус. Но адрес помоему получился не кратный 100... Массив пила2 начинается со 100500</p>
<p><img alt="" src="./Генератор с регулируемоей частотой на ардуино. _ Аппаратная платформа Arduino_files/sinus-norm.jpg" style="width:400px;height:225px;" width="400" height="225"></p>
<p><img alt="" src="./Генератор с регулируемоей частотой на ардуино. _ Аппаратная платформа Arduino_files/hex.jpg" style="width:394px;height:600px;" width="394" height="600"></p>
<p>Все остальные формы так же пришли в форму :) .&nbsp;</p>
<p>А резистор нижний в делителе всётаки 2к должен быть? или 1к?</p>
<p>&nbsp;</p>
      </div>

          </div>
  </div>

  <div class="forum-post-footer clear-block">
    <div class="forum-jump-links">
      <a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#top" title="Jump to top of page">Верх</a>
    </div>

          <div class="forum-post-links">
        <ul class="links forum-links"><li class="comment_forbidden first"><span><a href="http://arduino.ru/user/login?destination=node%2F11357%23comment-form">Войдите</a> или <a href="http://arduino.ru/user/register?destination=node%2F11357%23comment-form">зарегистрируйтесь</a>, чтобы получить возможность отправлять комментарии</span></li>
<li class="vud_comment_votes_count last"></li>
</ul>      </div>
      </div>
</div><a id="comment-387569"></a>

    <div class="forum-post  clear-block">

  <div class="post-info clear-block">
    <div class="posted-on">
      Пт, 24/08/2018 - 18:38
          </div>

          <span class="post-num"><a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#comment-387569" class="active">#40</a> </span>
      </div>

  <div class="forum-post-wrapper">

    <div class="forum-post-panel-sub">
      

<div class="author-pane">
 <div class="author-pane-inner">
        <div class="author-pane-section author-pane-general">
            <div class="author-pane-line author-name">
        Rashen      </div>

                    
      
                    <div class="author-pane-line author-offline">
           Offline        </div>
      
            
            
            
                    <div class="author-pane-line author-joined">
          <span class="author-pane-label">Зарегистрирован:</span> 24.08.2018        </div>
      
            
                </div>

        <div class="author-pane-section author-pane-contact">
            
            
            
                </div>

        <div class="author-pane-section author-pane-admin">
            
          
               </div>
  </div>
</div>
    </div>

    <div class="forum-post-panel-main clear-block">
      
      <div class="content">
        <p>Повторил конструкцию.</p>
<p>2 выход через полевой транзистор дл управления нагрузкой</p>
<p><a href="http://out.arduino.ru/?redirect=https%3A%2F%2Fmega.nz%2F%23!zR9T3Rib!G8u6PgksZBSvkkWdyijTcffjNB3y4wmQEGyeMM3EKgs&amp;baseU=http%3A%2F%2Farduino.ru%2Fforum%2Fproekty%2Fgenerator-s-reguliruemoei-chastotoi-na-arduino" rel="nofollow" target="_blank">https://mega.nz/#!zR9T3Rib!G8u6PgksZBSvkkWdyijTcffjNB3y4wmQEGyeMM3EKgs</a></p>
<p>Спасибо.</p>
      </div>

          </div>
  </div>

  <div class="forum-post-footer clear-block">
    <div class="forum-jump-links">
      <a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#top" title="Jump to top of page">Верх</a>
    </div>

          <div class="forum-post-links">
        <ul class="links forum-links"><li class="comment_forbidden first"><span><a href="http://arduino.ru/user/login?destination=node%2F11357%23comment-form">Войдите</a> или <a href="http://arduino.ru/user/register?destination=node%2F11357%23comment-form">зарегистрируйтесь</a>, чтобы получить возможность отправлять комментарии</span></li>
<li class="vud_comment_votes_count last"></li>
</ul>      </div>
      </div>
</div><a id="comment-394331"></a>

    <div class="forum-post  clear-block">

  <div class="post-info clear-block">
    <div class="posted-on">
      Вс, 30/09/2018 - 17:05
          </div>

          <span class="post-num"><a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#comment-394331" class="active">#41</a> </span>
      </div>

  <div class="forum-post-wrapper">

    <div class="forum-post-panel-sub">
      

<div class="author-pane">
 <div class="author-pane-inner">
        <div class="author-pane-section author-pane-general">
            <div class="author-pane-line author-name">
        dimax      </div>

                    
  <div class="picture">
          <img src="./Генератор с регулируемоей частотой на ардуино. _ Аппаратная платформа Arduino_files/picture-6856.jpg" alt="dimax аватар" title="dimax аватар">      </div>
      
                    <div class="author-pane-line author-offline">
           Offline        </div>
      
            
            
            
                    <div class="author-pane-line author-joined">
          <span class="author-pane-label">Зарегистрирован:</span> 25.12.2013        </div>
      
            
                </div>

        <div class="author-pane-section author-pane-contact">
            
            
            
                </div>

        <div class="author-pane-section author-pane-admin">
            
          
               </div>
  </div>
</div>
    </div>

    <div class="forum-post-panel-main clear-block">
      
      <div class="content">
        <p>Версия 2.5 написана под микроконтроллер LGT8F328P, который обозревался недавно <a href="http://arduino.ru/forum/apparatnye-voprosy/obzor-klona-megi328-lgt8f328p" rel="nofollow">тут</a>.&nbsp;&nbsp; Функционально представляет из себя немного окультуренную версию <a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#comment-204507" rel="nofollow">2.4</a>.&nbsp; Так-же может потребовать подгонки массивов (подробно описано в <a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#comment-193422" rel="nofollow">2.0</a>) Отличия от 2.4 :&nbsp; убрана дополнительная кнопка, всё управление производится одним энкодером. Вращение энкодера не нажимая его кнопки -меняет частоту. Вращение энкодера с нажатой кнопкой -меняет режимы. Однократное нажатие/отпускание кнопки меняет шаг. Вольтметр и частотометр перенесены в общее меню. Частотометр нормально измеряет примерно до 12МГц (при тактовой МК 32МГц). Вольтметр улучшен, умеет автоматически выбирать нужный референс. (1,024/2,048/4,096 или Vcc)&nbsp; Адаптирована под этот МК функция DDS-синтеза (<a href="http://out.arduino.ru/?redirect=https%3A%2F%2Fscienceprog.com%2Favr-dds-signal-generator-in-line-asm-explained%2F&amp;baseU=http%3A%2F%2Farduino.ru%2Fforum%2Fproekty%2Fgenerator-s-reguliruemoei-chastotoi-na-arduino" rel="nofollow" target="_blank">линк</a> на автора метода). Скорострельность DDS синтеза достигла очень высокого значения -4MS/sec, (в версии 2.4 -1,6MS/Sec)&nbsp; это даже существенно быстрее чем в версии 3.0 на stm32 (2,6MS/Sec) Однако же вкусить плоды такой скорости не представляется возможным, т.к. ЦАП на этом МК сделали с высокоомным выходом, поэтому на высоких частотах он начинает образовывать фильтр, который заметно ухудшает характеристики. Это надо смотреть визуально, что бы понять.&nbsp; На осциллограмме слева -синус на 100кГц с этого ЦАПа сильно перекошён , но не изломанный как был на версии 2.0 (осцилограмма справа).</p>
<p><a href="http://out.arduino.ru/?redirect=https%3A%2F%2Ffarm2.staticflickr.com%2F1920%2F31134468298_b0b4ccb30d_o.png&amp;baseU=http%3A%2F%2Farduino.ru%2Fforum%2Fproekty%2Fgenerator-s-reguliruemoei-chastotoi-na-arduino" rel="nofollow" target="_blank"><img alt="" src="./Генератор с регулируемоей частотой на ардуино. _ Аппаратная платформа Arduino_files/31134468298_b0b4ccb30d_o.png" style="width:300px;height:180px;"></a><a href="http://out.arduino.ru/?redirect=https%3A%2F%2Fimg-fotki.yandex.ru%2Fget%2F51592%2F118551841.8%2F0_db17c_d13d6e3a_orig.png&amp;baseU=http%3A%2F%2Farduino.ru%2Fforum%2Fproekty%2Fgenerator-s-reguliruemoei-chastotoi-na-arduino" rel="nofollow" target="_blank"><img alt="" src="./Генератор с регулируемоей частотой на ардуино. _ Аппаратная платформа Arduino_files/gen_sinus100kHz.png" style="width:300px;height:180px;"></a></p>
<p>В связи с этим желательно поставить на выход ЦАПа опер. усилитель, что б ещё сильнее не ухудшить сигнал при подключении нагрузки.&nbsp; Уровень сигнала с ЦАП можно сделать фиксированным с референсом от одного из внутренних опорных напряжений, либо регулируемым, для этого на вход AREF нужно подать напряжение от 0 до Vcc например с переменного резистора.</p>
<p>Схема:</p>
<p><a href="http://out.arduino.ru/?redirect=https%3A%2F%2Ffarm2.staticflickr.com%2F1980%2F31134468188_e57cccb06e_o.jpg&amp;baseU=http%3A%2F%2Farduino.ru%2Fforum%2Fproekty%2Fgenerator-s-reguliruemoei-chastotoi-na-arduino" rel="nofollow" target="_blank"><img alt="" src="./Генератор с регулируемоей частотой на ардуино. _ Аппаратная платформа Arduino_files/31134468188_e57cccb06e_o.jpg" style="width:500px;height:361px;"></a></p>
<p>Скетч:</p>
<div id="highlighter_244894" class="syntaxhighlighter collapsed  "><div class="bar"><div class="toolbar"><a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#expandSource" title="показать код" class="item expandSource" style="width: 16px; height: 16px;">показать код</a><a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#viewSource" title="код" class="item viewSource" style="width: 16px; height: 16px;">код</a><div class="item copyToClipboard"><embed width="16" height="16" id="highlighter_244894_clipboard" type="application/x-shockwave-flash" title="скопировать" allowscriptaccess="always" wmode="transparent" flashvars="highlighterId=highlighter_244894" menu="false" src="/sites/all/libraries/syntaxhighlighter/scripts/clipboard.swf"></div><a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#printSource" title="расечатать" class="item printSource" style="width: 16px; height: 16px;">расечатать</a><a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#about" title="?" class="item about" style="width: 16px; height: 16px;">?</a></div></div><div class="lines"><div class="line alt1"><table><tbody><tr><td class="number"><code>001</code></td><td class="content"><code class="comments">/* Генератор с регулируемой частотой и скважностью&nbsp; v 2.5</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>002</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="comments">*&nbsp; предназначен только для МК lgt8f328p </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>003</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="comments">* Распиновка: Энкодер пин A0,A1&nbsp; (PC0,PC1)</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>004</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="comments">* Кнопка энкодера пин 2 (PD2) </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>005</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="comments">* Дисплей nokia 5110 - 13,12,11,10 (PB5,PB4,PB3,PB2)</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>006</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="comments">*&nbsp; Выход генератора DDS пин 4 (PD4)&nbsp;&nbsp;&nbsp;&nbsp; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>007</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="comments">*&nbsp; Выход генератора PWM пин 9 (PB1)&nbsp; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>008</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="comments">*&nbsp; Вход вольтметра&nbsp; пин A3 (ADC3)</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>009</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="comments">*&nbsp; Вход частотометра пин 5 (PD5) </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>010</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="comments">*/</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>011</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>012</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>013</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>014</code></td><td class="content"><code class="keyword">const</code> <code class="plain">PROGMEM uint8_t&nbsp; sinewave[]= </code><code class="comments">// массив синуса</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>015</code></td><td class="content"><code class="plain">{</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>016</code></td><td class="content"><code class="plain">0x80,0x83,0x86,0x89,0x8c,0x8f,0x92,0x95,0x98,0x9c,0x9f,0xa2,0xa5,0xa8,0xab,0xae,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>017</code></td><td class="content"><code class="plain">0xb0,0xb3,0xb6,0xb9,0xbc,0xbf,0xc1,0xc4,0xc7,0xc9,0xcc,0xce,0xd1,0xd3,0xd5,0xd8,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>018</code></td><td class="content"><code class="plain">0xda,0xdc,0xde,0xe0,0xe2,0xe4,0xe6,0xe8,0xea,0xec,0xed,0xef,0xf0,0xf2,0xf3,0xf5,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>019</code></td><td class="content"><code class="plain">0xf6,0xf7,0xf8,0xf9,0xfa,0xfb,0xfc,0xfc,0xfd,0xfe,0xfe,0xff,0xff,0xff,0xff,0xff,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>020</code></td><td class="content"><code class="plain">0xff,0xff,0xff,0xff,0xff,0xff,0xfe,0xfe,0xfd,0xfc,0xfc,0xfb,0xfa,0xf9,0xf8,0xf7,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>021</code></td><td class="content"><code class="plain">0xf6,0xf5,0xf3,0xf2,0xf0,0xef,0xed,0xec,0xea,0xe8,0xe6,0xe4,0xe2,0xe0,0xde,0xdc,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>022</code></td><td class="content"><code class="plain">0xda,0xd8,0xd5,0xd3,0xd1,0xce,0xcc,0xc9,0xc7,0xc4,0xc1,0xbf,0xbc,0xb9,0xb6,0xb3,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>023</code></td><td class="content"><code class="plain">0xb0,0xae,0xab,0xa8,0xa5,0xa2,0x9f,0x9c,0x98,0x95,0x92,0x8f,0x8c,0x89,0x86,0x83,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>024</code></td><td class="content"><code class="plain">0x80,0x7c,0x79,0x76,0x73,0x70,0x6d,0x6a,0x67,0x63,0x60,0x5d,0x5a,0x57,0x54,0x51,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>025</code></td><td class="content"><code class="plain">0x4f,0x4c,0x49,0x46,0x43,0x40,0x3e,0x3b,0x38,0x36,0x33,0x31,0x2e,0x2c,0x2a,0x27,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>026</code></td><td class="content"><code class="plain">0x25,0x23,0x21,0x1f,0x1d,0x1b,0x19,0x17,0x15,0x13,0x12,0x10,0x0f,0x0d,0x0c,0x0a,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>027</code></td><td class="content"><code class="plain">0x09,0x08,0x07,0x06,0x05,0x04,0x03,0x03,0x02,0x01,0x01,0x00,0x00,0x00,0x00,0x00,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>028</code></td><td class="content"><code class="plain">0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x01,0x02,0x03,0x03,0x04,0x05,0x06,0x07,0x08,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>029</code></td><td class="content"><code class="plain">0x09,0x0a,0x0c,0x0d,0x0f,0x10,0x12,0x13,0x15,0x17,0x19,0x1b,0x1d,0x1f,0x21,0x23,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>030</code></td><td class="content"><code class="plain">0x25,0x27,0x2a,0x2c,0x2e,0x31,0x33,0x36,0x38,0x3b,0x3e,0x40,0x43,0x46,0x49,0x4c,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>031</code></td><td class="content"><code class="plain">0x4f,0x51,0x54,0x57,0x5a,0x5d,0x60,0x63,0x67,0x6a,0x6d,0x70,0x73,0x76,0x79,0x7c</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>032</code></td><td class="content"><code class="plain">};</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>033</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>034</code></td><td class="content"><code class="keyword">const</code> <code class="plain">PROGMEM uint8_t squarewave[]= </code><code class="comments">//массив меандра</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>035</code></td><td class="content"><code class="plain">{</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>036</code></td><td class="content"><code class="plain">0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>037</code></td><td class="content"><code class="plain">0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>038</code></td><td class="content"><code class="plain">0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>039</code></td><td class="content"><code class="plain">0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>040</code></td><td class="content"><code class="plain">0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>041</code></td><td class="content"><code class="plain">0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>042</code></td><td class="content"><code class="plain">0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>043</code></td><td class="content"><code class="plain">0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>044</code></td><td class="content"><code class="plain">0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>045</code></td><td class="content"><code class="plain">0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>046</code></td><td class="content"><code class="plain">0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>047</code></td><td class="content"><code class="plain">0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>048</code></td><td class="content"><code class="plain">0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>049</code></td><td class="content"><code class="plain">0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>050</code></td><td class="content"><code class="plain">0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>051</code></td><td class="content"><code class="plain">0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>052</code></td><td class="content"><code class="plain">};</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>053</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>054</code></td><td class="content"><code class="keyword">const</code> <code class="plain">PROGMEM uint8_t trianglewave[]= </code><code class="comments">//массив треугольника</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>055</code></td><td class="content"><code class="plain">{</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>056</code></td><td class="content"><code class="plain">0x00,0x02,0x04,0x06,0x08,0x0a,0x0c,0x0e,0x10,0x12,0x14,0x16,0x18,0x1a,0x1c,0x1e,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>057</code></td><td class="content"><code class="plain">0x20,0x22,0x24,0x26,0x28,0x2a,0x2c,0x2e,0x30,0x32,0x34,0x36,0x38,0x3a,0x3c,0x3e,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>058</code></td><td class="content"><code class="plain">0x40,0x42,0x44,0x46,0x48,0x4a,0x4c,0x4e,0x50,0x52,0x54,0x56,0x58,0x5a,0x5c,0x5e,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>059</code></td><td class="content"><code class="plain">0x60,0x62,0x64,0x66,0x68,0x6a,0x6c,0x6e,0x70,0x72,0x74,0x76,0x78,0x7a,0x7c,0x7e,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>060</code></td><td class="content"><code class="plain">0x80,0x82,0x84,0x86,0x88,0x8a,0x8c,0x8e,0x90,0x92,0x94,0x96,0x98,0x9a,0x9c,0x9e,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>061</code></td><td class="content"><code class="plain">0xa0,0xa2,0xa4,0xa6,0xa8,0xaa,0xac,0xae,0xb0,0xb2,0xb4,0xb6,0xb8,0xba,0xbc,0xbe,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>062</code></td><td class="content"><code class="plain">0xc0,0xc2,0xc4,0xc6,0xc8,0xca,0xcc,0xce,0xd0,0xd2,0xd4,0xd6,0xd8,0xda,0xdc,0xde,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>063</code></td><td class="content"><code class="plain">0xe0,0xe2,0xe4,0xe6,0xe8,0xea,0xec,0xee,0xf0,0xf2,0xf4,0xf6,0xf8,0xfa,0xfc,0xfe,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>064</code></td><td class="content"><code class="plain">0xff,0xfd,0xfb,0xf9,0xf7,0xf5,0xf3,0xf1,0xef,0xef,0xeb,0xe9,0xe7,0xe5,0xe3,0xe1,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>065</code></td><td class="content"><code class="plain">0xdf,0xdd,0xdb,0xd9,0xd7,0xd5,0xd3,0xd1,0xcf,0xcf,0xcb,0xc9,0xc7,0xc5,0xc3,0xc1,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>066</code></td><td class="content"><code class="plain">0xbf,0xbd,0xbb,0xb9,0xb7,0xb5,0xb3,0xb1,0xaf,0xaf,0xab,0xa9,0xa7,0xa5,0xa3,0xa1,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>067</code></td><td class="content"><code class="plain">0x9f,0x9d,0x9b,0x99,0x97,0x95,0x93,0x91,0x8f,0x8f,0x8b,0x89,0x87,0x85,0x83,0x81,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>068</code></td><td class="content"><code class="plain">0x7f,0x7d,0x7b,0x79,0x77,0x75,0x73,0x71,0x6f,0x6f,0x6b,0x69,0x67,0x65,0x63,0x61,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>069</code></td><td class="content"><code class="plain">0x5f,0x5d,0x5b,0x59,0x57,0x55,0x53,0x51,0x4f,0x4f,0x4b,0x49,0x47,0x45,0x43,0x41,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>070</code></td><td class="content"><code class="plain">0x3f,0x3d,0x3b,0x39,0x37,0x35,0x33,0x31,0x2f,0x2f,0x2b,0x29,0x27,0x25,0x23,0x21,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>071</code></td><td class="content"><code class="plain">0x1f,0x1d,0x1b,0x19,0x17,0x15,0x13,0x11,0x0f,0x0f,0x0b,0x09,0x07,0x05,0x03,0x01</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>072</code></td><td class="content"><code class="plain">};</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>073</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>074</code></td><td class="content"><code class="keyword">const</code> <code class="plain">PROGMEM uint8_t sawtoothwave[]= </code><code class="comments">//массив пила1</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>075</code></td><td class="content"><code class="plain">{</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>076</code></td><td class="content"><code class="plain">0x00,0x01,0x02,0x03,0x04,0x05,0x06,0x07,0x08,0x09,0x0a,0x0b,0x0c,0x0d,0x0e,0x0f,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>077</code></td><td class="content"><code class="plain">0x10,0x11,0x12,0x13,0x14,0x15,0x16,0x17,0x18,0x19,0x1a,0x1b,0x1c,0x1d,0x1e,0x1f,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>078</code></td><td class="content"><code class="plain">0x20,0x21,0x22,0x23,0x24,0x25,0x26,0x27,0x28,0x29,0x2a,0x2b,0x2c,0x2d,0x2e,0x2f,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>079</code></td><td class="content"><code class="plain">0x30,0x31,0x32,0x33,0x34,0x35,0x36,0x37,0x38,0x39,0x3a,0x3b,0x3c,0x3d,0x3e,0x3f,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>080</code></td><td class="content"><code class="plain">0x40,0x41,0x42,0x43,0x44,0x45,0x46,0x47,0x48,0x49,0x4a,0x4b,0x4c,0x4d,0x4e,0x4f,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>081</code></td><td class="content"><code class="plain">0x50,0x51,0x52,0x53,0x54,0x55,0x56,0x57,0x58,0x59,0x5a,0x5b,0x5c,0x5d,0x5e,0x5f,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>082</code></td><td class="content"><code class="plain">0x60,0x61,0x62,0x63,0x64,0x65,0x66,0x67,0x68,0x69,0x6a,0x6b,0x6c,0x6d,0x6e,0x6f,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>083</code></td><td class="content"><code class="plain">0x70,0x71,0x72,0x73,0x74,0x75,0x76,0x77,0x78,0x79,0x7a,0x7b,0x7c,0x7d,0x7e,0x7f,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>084</code></td><td class="content"><code class="plain">0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8a,0x8b,0x8c,0x8d,0x8e,0x8f,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>085</code></td><td class="content"><code class="plain">0x90,0x91,0x92,0x93,0x94,0x95,0x96,0x97,0x98,0x99,0x9a,0x9b,0x9c,0x9d,0x9e,0x9f,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>086</code></td><td class="content"><code class="plain">0xa0,0xa1,0xa2,0xa3,0xa4,0xa5,0xa6,0xa7,0xa8,0xa9,0xaa,0xab,0xac,0xad,0xae,0xaf,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>087</code></td><td class="content"><code class="plain">0xb0,0xb1,0xb2,0xb3,0xb4,0xb5,0xb6,0xb7,0xb8,0xb9,0xba,0xbb,0xbc,0xbd,0xbe,0xbf,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>088</code></td><td class="content"><code class="plain">0xc0,0xc1,0xc2,0xc3,0xc4,0xc5,0xc6,0xc7,0xc8,0xc9,0xca,0xcb,0xcc,0xcd,0xce,0xcf,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>089</code></td><td class="content"><code class="plain">0xd0,0xd1,0xd2,0xd3,0xd4,0xd5,0xd6,0xd7,0xd8,0xd9,0xda,0xdb,0xdc,0xdd,0xde,0xdf,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>090</code></td><td class="content"><code class="plain">0xe0,0xe1,0xe2,0xe3,0xe4,0xe5,0xe6,0xe7,0xe8,0xe9,0xea,0xeb,0xec,0xed,0xee,0xef,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>091</code></td><td class="content"><code class="plain">0xf0,0xf1,0xf2,0xf3,0xf4,0xf5,0xf6,0xf7,0xf8,0xf9,0xfa,0xfb,0xfc,0xfd,0xfe,0xff</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>092</code></td><td class="content"><code class="plain">};</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>093</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>094</code></td><td class="content"><code class="keyword">const</code> <code class="plain">PROGMEM uint8_t rewsawtoothwave[]= </code><code class="comments">//массив пила2</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>095</code></td><td class="content"><code class="plain">{</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>096</code></td><td class="content"><code class="plain">0xff,0xfe,0xfd,0xfc,0xfb,0xfa,0xf9,0xf8,0xf7,0xf6,0xf5,0xf4,0xf3,0xf2,0xf1,0xf0,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>097</code></td><td class="content"><code class="plain">0xef,0xee,0xed,0xec,0xeb,0xea,0xe9,0xe8,0xe7,0xe6,0xe5,0xe4,0xe3,0xe2,0xe1,0xe0,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>098</code></td><td class="content"><code class="plain">0xdf,0xde,0xdd,0xdc,0xdb,0xda,0xd9,0xd8,0xd7,0xd6,0xd5,0xd4,0xd3,0xd2,0xd1,0xd0,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>099</code></td><td class="content"><code class="plain">0xcf,0xce,0xcd,0xcc,0xcb,0xca,0xc9,0xc8,0xc7,0xc6,0xc5,0xc4,0xc3,0xc2,0xc1,0xc0,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>100</code></td><td class="content"><code class="plain">0xbf,0xbe,0xbd,0xbc,0xbb,0xba,0xb9,0xb8,0xb7,0xb6,0xb5,0xb4,0xb3,0xb2,0xb1,0xb0,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>101</code></td><td class="content"><code class="plain">0xaf,0xae,0xad,0xac,0xab,0xaa,0xa9,0xa8,0xa7,0xa6,0xa5,0xa4,0xa3,0xa2,0xa1,0xa0,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>102</code></td><td class="content"><code class="plain">0x9f,0x9e,0x9d,0x9c,0x9b,0x9a,0x99,0x98,0x97,0x96,0x95,0x94,0x93,0x92,0x91,0x90,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>103</code></td><td class="content"><code class="plain">0x8f,0x8e,0x8d,0x8c,0x8b,0x8a,0x89,0x88,0x87,0x86,0x85,0x84,0x83,0x82,0x81,0x80,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>104</code></td><td class="content"><code class="plain">0x7f,0x7e,0x7d,0x7c,0x7b,0x7a,0x79,0x78,0x77,0x76,0x75,0x74,0x73,0x72,0x71,0x70,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>105</code></td><td class="content"><code class="plain">0x6f,0x6e,0x6d,0x6c,0x6b,0x6a,0x69,0x68,0x67,0x66,0x65,0x64,0x63,0x62,0x61,0x60,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>106</code></td><td class="content"><code class="plain">0x5f,0x5e,0x5d,0x5c,0x5b,0x5a,0x59,0x58,0x57,0x56,0x55,0x54,0x53,0x52,0x51,0x50,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>107</code></td><td class="content"><code class="plain">0x4f,0x4e,0x4d,0x4c,0x4b,0x4a,0x49,0x48,0x47,0x46,0x45,0x44,0x43,0x42,0x41,0x40,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>108</code></td><td class="content"><code class="plain">0x3f,0x3e,0x3d,0x3c,0x3b,0x3a,0x39,0x38,0x37,0x36,0x35,0x34,0x33,0x32,0x31,0x30,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>109</code></td><td class="content"><code class="plain">0x2f,0x2e,0x2d,0x2c,0x2b,0x2a,0x29,0x28,0x27,0x26,0x25,0x24,0x23,0x22,0x21,0x20,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>110</code></td><td class="content"><code class="plain">0x1f,0x1e,0x1d,0x1c,0x1b,0x1a,0x19,0x18,0x17,0x16,0x15,0x14,0x13,0x12,0x11,0x10,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>111</code></td><td class="content"><code class="plain">0x0f,0x0e,0x0d,0x0c,0x0b,0x0a,0x09,0x08,0x07,0x06,0x05,0x04,0x03,0x02,0x01,0x00,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>112</code></td><td class="content"><code class="plain">};</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>113</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>114</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>115</code></td><td class="content"><code class="keyword">const</code> <code class="plain">PROGMEM </code><code class="keyword">char</code> <code class="plain">musor_mass[]= </code><code class="comments">//массив для подгонки адреса в флэш-памяти</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>116</code></td><td class="content"><code class="plain">{</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>117</code></td><td class="content"><code class="plain">0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>118</code></td><td class="content"><code class="plain">0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>119</code></td><td class="content"><code class="plain">0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>120</code></td><td class="content"><code class="plain">0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>121</code></td><td class="content"><code class="plain">0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>122</code></td><td class="content"><code class="plain">0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>123</code></td><td class="content"><code class="plain">0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>124</code></td><td class="content"><code class="plain">0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>125</code></td><td class="content"><code class="plain">0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>126</code></td><td class="content"><code class="plain">};</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>127</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>128</code></td><td class="content"><code class="comments">// пользовательские настройки переменных по умолчанию</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>129</code></td><td class="content"><code class="comments">//режимы 0-синус dds, 1-треугольник dds, 2-меандр dds, 3 пила1 dds, 4 пила2 dds</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>130</code></td><td class="content"><code class="comments">//5- гегулировка частоты pwm, 6- Duty pwm, 7-частотометр, 8 -вольтметр</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>131</code></td><td class="content"><code class="plain">volatile uint8_t regim=5; </code><code class="comments">//выбор режима генератора по умолчанию </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>132</code></td><td class="content"><code class="plain">volatile int32_t freq=1000;</code><code class="comments">// частота по умолчанию</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>133</code></td><td class="content"><code class="plain">volatile uint16_t shag=100; </code><code class="comments">//шаг энкодера по умолчанию</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>134</code></td><td class="content"><code class="preprocessor">#define dac_trim 5 //&nbsp; настройка выходного уровня ЦАП</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>135</code></td><td class="content"><code class="comments">// 0 -переменный резистор на пине aref, 1 -1.024V; 2-2.048v; 4-4.096V; 5-Vcc</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>136</code></td><td class="content"><code class="preprocessor">#define F_CPU 32E6 //нужно указать фактическую частоту МК </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>137</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>138</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>139</code></td><td class="content"><code class="plain">volatile uint16_t int_tic=0;</code><code class="comments">//переменная частотометра (переполнение таймера) </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>140</code></td><td class="content"><code class="plain">uint16_t Vbg, involt;</code><code class="comments">//переменные вольтметра</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>141</code></td><td class="content"><code class="plain">volatile uint32_t icr=0;&nbsp; </code><code class="comments">//переменная для управления регистром сравнения таймера1</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>142</code></td><td class="content"><code class="plain">volatile uint8_t monitor_flag; </code><code class="comments">// флаг для вывода на дисплей</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>143</code></td><td class="content"><code class="plain">volatile uint8_t duty=50; </code><code class="comments">//скважность по умолчанию</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>144</code></td><td class="content"><code class="comments">//volatile uint8_t main_flag=0;//флаг работа в режиме генератора или нет</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>145</code></td><td class="content"><code class="plain">volatile uint8_t modebit=1;</code><code class="comments">//флаг смены режимов.(для анализа действия энкодера)</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>146</code></td><td class="content"><code class="preprocessor">#include "lgtx8p.h"</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>147</code></td><td class="content"><code class="preprocessor">#define int_on() PCMSK1=(1&lt;&lt;PCINT9); PCICR=(1&lt;&lt;PCIE1); EIMSK=1&lt;&lt;INT0; //прерывание на А1</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>148</code></td><td class="content"><code class="comments">//включить прерывание PCINT1, выбор пинов прерывания A1,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>149</code></td><td class="content"><code class="preprocessor">#define int_off() PCMSK1=0; PCICR=0; EIMSK=0; ///отключить прерывания энкодера и кнопки</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>150</code></td><td class="content"><code class="preprocessor">#include &lt;LCD5110_SSVS.h&gt;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>151</code></td><td class="content"><code class="preprocessor">#include &lt;avr/delay.h&gt;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>152</code></td><td class="content"><code class="keyword">extern</code> <code class="plain">uint8_t SmallFont[];</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>153</code></td><td class="content"><code class="keyword">extern</code> <code class="plain">uint8_t MediumNumbers[];</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>154</code></td><td class="content"><code class="plain">LCD5110 lcd(10,11,12,13);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>155</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>156</code></td><td class="content"><code class="comments">// DDS algorithm </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>157</code></td><td class="content"><code class="keyword">static</code> <code class="plain">inline </code><code class="keyword">void</code> <code class="plain">signalOUT(uint16_t ad01,uint8_t ad2, </code><code class="keyword">const</code> <code class="plain">uint8_t *wvt){ </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>158</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="plain">asm volatile(&nbsp; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>159</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="string">"ldi r28,0xA1; "</code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <code class="string">"\n\t"</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>160</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="string">"clr r29;"</code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <code class="string">"\n\t"</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>161</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="string">"eor r18, r18;"</code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <code class="string">"\n\t"</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>162</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="string">"eor r19, r19;"</code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <code class="string">"\n\t"</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>163</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="string">"1:"</code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <code class="string">"\n\t"</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>164</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="string">"add r18, %A0;"</code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <code class="string">"\n\t"</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>165</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="string">"adc r19, %B0;"</code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <code class="string">"\n\t"</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>166</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="string">"adc %A2, %1;"</code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <code class="string">"\n\t"</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>167</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="string">"lpm&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ;"</code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <code class="string">"\n\t"</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>168</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="string">"st Y, __tmp_reg__&nbsp; ;"</code> <code class="string">"\n\t"</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>169</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="string">"sbis %3, 7&nbsp;&nbsp; ;"</code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <code class="string">"\n\t"</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>170</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="string">"rjmp 1b;"</code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <code class="string">"\n\t"</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>171</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="plain">::</code><code class="string">"r"</code> <code class="plain">(ad01),</code><code class="string">"r"</code> <code class="plain">(ad2),</code><code class="string">"e"</code> <code class="plain">(wvt), </code><code class="string">"I"</code> <code class="plain">(_SFR_IO_ADDR(PORTF))</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>172</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="plain">:</code><code class="string">"r18"</code><code class="plain">, </code><code class="string">"r19"</code><code class="plain">,</code><code class="string">"r28"</code><code class="plain">, </code><code class="string">"r29"</code> <code class="plain">);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>173</code></td><td class="content"><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>174</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>175</code></td><td class="content"><code class="keyword">void</code> <code class="keyword">setup</code><code class="plain">(){</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>176</code></td><td class="content"><code class="plain">lcd.InitLCD();</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>177</code></td><td class="content"><code class="keyword">for</code> <code class="plain">(</code><code class="keyword">int</code> <code class="plain">n=0; n &lt;</code><code class="keyword">sizeof</code><code class="plain">(musor_mass); n++ ) {PORTF=musor_mass[n]&amp;0xFC; }&nbsp;&nbsp; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>178</code></td><td class="content"><code class="plain">pinMode(A0,INPUT_PULLUP); </code><code class="comments">//encoder</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>179</code></td><td class="content"><code class="plain">pinMode(A1,INPUT_PULLUP); </code><code class="comments">// encoder</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>180</code></td><td class="content"><code class="plain">pinMode(2,INPUT_PULLUP); </code><code class="comments">//encoder key</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>181</code></td><td class="content"><code class="plain">pinMode(3,OUTPUT);</code><code class="comments">// buzzer</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>182</code></td><td class="content"><code class="plain">TCCR1A=0; TCCR1B=0; TIMSK1=0; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>183</code></td><td class="content"><code class="plain">EICRA=3; </code><code class="comments">//INT0 -RISING+FALLING </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>184</code></td><td class="content"><code class="plain">EIFR==EIFR; </code><code class="comments">//flag clear</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>185</code></td><td class="content"><code class="plain">TCCR0B=0;&nbsp; check_regim(); </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>186</code></td><td class="content"><code class="comments">//разгон до 32 МГц от внутреннего RC генератора</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>187</code></td><td class="content"><code class="plain">CLKPR = 1&lt;&lt;PMCE;</code><code class="comments">//разрешить изменение</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>188</code></td><td class="content"><code class="plain">CLKPR = 0; </code><code class="comments">//делитель =1</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>189</code></td><td class="content"><code class="plain">} </code><code class="comments">//end setup</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>190</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>191</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>192</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>193</code></td><td class="content"><code class="color1">/////////////// ПРЕРЫВАНИЕ от кн0пки//////////////////////////&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>194</code></td><td class="content"><code class="plain">ISR (INT0_vect){ </code><code class="comments">// прерывание от кнопки энкодера </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>195</code></td><td class="content"><code class="plain">int_off();</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>196</code></td><td class="content"><code class="keyword">if</code> <code class="plain">( (TIFR3&amp;(1&lt;&lt;0))==0 ){TIFR3|=1&lt;&lt;0;} </code><code class="comments">// флаг выходы из режима частотометра</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>197</code></td><td class="content"><code class="keyword">if</code> <code class="plain">(!modebit) { modebit=1; int_on(); </code><code class="keyword">return</code><code class="plain">;} </code><code class="comments">//меняли режим, просто выйти</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>198</code></td><td class="content"><code class="keyword">if</code> <code class="plain">(regim==6) { regim=5; check_regim();&nbsp; </code><code class="keyword">return</code><code class="plain">; }</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>199</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">switch</code> <code class="plain">(shag){ </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>200</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">1: shag=10;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>201</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">10: shag=100;&nbsp;&nbsp;&nbsp; </code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>202</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">100: shag=1000;&nbsp;&nbsp; </code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>203</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">1000: shag=1; </code><code class="keyword">break</code><code class="plain">; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>204</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">} check_regim(); </code><code class="keyword">return</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>205</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">} </code><code class="comments">//конец прерывания *если нажата кнопка энкодера*</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>206</code></td><td class="content"><code class="color1">////////////////////////////////////////////////////////////</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>207</code></td><td class="content"><code class="spaces">&nbsp;</code>&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>208</code></td><td class="content"><code class="spaces">&nbsp;</code>&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>209</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="plain">ISR (PCINT1_vect){ </code><code class="comments">//прерывание при вращении энкодера</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>210</code></td><td class="content"><code class="comments">// static boolean n=0;&nbsp; if (n=!n){return;} // снять ремарку для энкодеров с двойным щелчком</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>211</code></td><td class="content"><code class="plain">int_off();</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>212</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="keyword">bool</code> <code class="plain">x = (PINC&amp;1)^((PINC&amp;2)&gt;&gt;1);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>213</code></td><td class="content"><code class="keyword">if</code> <code class="plain">( (TIFR3&amp;(1&lt;&lt;0))==0 ){TIFR3|=1&lt;&lt;0;} </code><code class="comments">// флаг выхода из режима частотометра</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>214</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="color1">//////////////////// переключение режимов при нажатой кнопке//////////////////////</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>215</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="plain">modebit= (PIND&amp;(1&lt;&lt;2)); </code><code class="comments">//0 -кнопка нажата. 1 -не нажата</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>216</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(!modebit) { </code><code class="comments">//если кнопка нажата</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>217</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="comments">//флаг что переключаю режимы</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>218</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(x) { regim++; </code><code class="keyword">if</code> <code class="plain">(regim&gt;8) {regim=0;} }</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>219</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">else</code> <code class="plain">{regim-- ; </code><code class="keyword">if</code> <code class="plain">(regim&gt;8) {regim=8;}}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>220</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">check_regim(); </code><code class="keyword">return</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>221</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>222</code></td><td class="content"><code class="color1">////////////////// переключение частоты/////////////////////////////////////////</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>223</code></td><td class="content"><code class="keyword">if</code> <code class="plain">(TCCR1B==17 &amp;&amp; ICR1&lt;2800 &amp;&amp; regim==5){ </code><code class="comments">//если &gt; 2800 герц</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>224</code></td><td class="content"><code class="keyword">if</code><code class="plain">(x) {</code><code class="keyword">if</code> <code class="plain">(icr&lt;1000 &amp;&amp; shag &gt; 100) shag=100; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>225</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(icr&lt;100 &amp;&amp; shag &gt; 10) shag=10;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>226</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(icr&lt;10 &amp;&amp; shag &gt; 1) shag=1;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>227</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">icr-=shag;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>228</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(icr&lt;2) icr=2;&nbsp;&nbsp;&nbsp; }</code><code class="comments">//ограничитель</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>229</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">else</code> <code class="plain">{&nbsp; </code><code class="keyword">if</code> <code class="plain">(icr &gt; 1800 &amp;&amp; shag &gt;100) shag =100; icr+=shag ;&nbsp; } </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>230</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">check_regim(); </code><code class="keyword">return</code><code class="plain">;&nbsp;&nbsp; }</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>231</code></td><td class="content"><code class="color1">///////////////////////////переключение Duty//////////////////////////////////</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>232</code></td><td class="content"><code class="keyword">if</code> <code class="plain">(regim==6){</code><code class="keyword">if</code> <code class="plain">(ICR1&gt;100){ </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>233</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(x){</code><code class="keyword">if</code><code class="plain">(duty&lt;100) {duty++; }&nbsp; }</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>234</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(!x){ </code><code class="keyword">if</code><code class="plain">(duty&gt;0) {duty--; }} }</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>235</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">else</code><code class="plain">{ </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>236</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(x){</code><code class="keyword">if</code><code class="plain">(OCR1A&lt;ICR1) {OCR1A++; }&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>237</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">else</code> <code class="plain">{</code><code class="keyword">if</code><code class="plain">(OCR1A&gt;0) {OCR1A--; }&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>238</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code><code class="plain">(OCR1A&gt;ICR1) OCR1A=ICR1-1;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>239</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>240</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">duty=(uint32_t)100*OCR1A/ICR1;&nbsp; }</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>241</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">check_regim(); </code><code class="keyword">return</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>242</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">} </code><code class="comments">// end перекл. duty</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>243</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain">x? freq+=shag : freq-=shag ;&nbsp; </code><code class="comments">//изменение частоты менее 2800 Герц</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>244</code></td><td class="content"><code class="keyword">if</code> <code class="plain">(freq &lt; 1) freq=1; check_regim();</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>245</code></td><td class="content"><code class="plain">} </code><code class="comments">// end isr pcint</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>246</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>247</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>248</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>249</code></td><td class="content"><code class="keyword">void</code> <code class="plain">pwm_gen(){ </code><code class="comments">//настройка таймера1</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>250</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="plain">uint16_t divider=1; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>251</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">icr = (uint32_t)(F_CPU / freq /2 /divider); </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>252</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="keyword">byte</code> <code class="plain">shifts[] = {3,3,2,2};</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>253</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">for</code><code class="plain">(</code><code class="keyword">byte</code> <code class="plain">i = 0; i &lt; 4; i++){</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>254</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(icr &gt; 65536) {</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>255</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">divider &lt;&lt;= shifts[i];</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>256</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">icr = (uint32_t)F_CPU / freq /2 /divider; }</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>257</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">else</code> <code class="plain">{&nbsp; TCCR1B = (i+1)|(1&lt;&lt;WGM13);&nbsp; </code><code class="keyword">break</code><code class="plain">;&nbsp; } }</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>258</code></td><td class="content"><code class="plain">ICR1=icr-1; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>259</code></td><td class="content"><code class="plain">set_duty();</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>260</code></td><td class="content"><code class="plain">} </code><code class="comments">//end pwm_gen</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>261</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>262</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>263</code></td><td class="content"><code class="keyword">void</code> <code class="keyword">loop</code><code class="plain">() {</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>264</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(regim &lt;5){ dds_set();} </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>265</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(regim==7) {freq_meter();}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>266</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(regim==8) {volt_meter();}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>267</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(monitor_flag) { monitor_flag=0; monitor_out(); }</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>268</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="plain">}</code><code class="comments">//end loop</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>269</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>270</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>271</code></td><td class="content"><code class="keyword">void</code> <code class="plain">monitor_out(){</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>272</code></td><td class="content"><code class="keyword">char</code> <code class="plain">mystr[14];</code><code class="comments">//массив для вывода строк на дисплей</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>273</code></td><td class="content"><code class="plain">lcd.clrScr();</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>274</code></td><td class="content"><code class="comments">//Вывод первой строчки</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>275</code></td><td class="content"><code class="plain">lcd.setFont(SmallFont);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>276</code></td><td class="content"><code class="keyword">if</code> <code class="plain">(regim&lt;8){</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>277</code></td><td class="content"><code class="keyword">if</code> <code class="plain">(freq &lt;1E4) {lcd.print(</code><code class="string">"Frequency, Hz"</code><code class="plain">,CENTER,0 );&nbsp; }</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>278</code></td><td class="content"><code class="keyword">if</code> <code class="plain">(freq &gt;=1E4) {lcd.print(</code><code class="string">"Frequency, kHz"</code><code class="plain">,CENTER,0 );&nbsp; }</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>279</code></td><td class="content"><code class="plain">} </code><code class="keyword">if</code> <code class="plain">(regim==8){lcd.print(</code><code class="string">"Voltage, Volt"</code><code class="plain">,CENTER,0 );&nbsp; }</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>280</code></td><td class="content"><code class="comments">//Вывод второй строчки</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>281</code></td><td class="content"><code class="plain">lcd.setFont(MediumNumbers);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>282</code></td><td class="content"><code class="keyword">if</code> <code class="plain">(regim&lt;8){</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>283</code></td><td class="content"><code class="keyword">if</code> <code class="plain">(freq &lt;10000) { lcd.printNumI(freq, CENTER, 8); }</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>284</code></td><td class="content"><code class="keyword">if</code> <code class="plain">(freq &gt;=10000u &amp;&amp; freq &lt; 1000000ul ) { lcd.printNumF( ((</code><code class="keyword">float</code><code class="plain">)freq/1000),3 ,CENTER, 8);&nbsp; }</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>285</code></td><td class="content"><code class="keyword">if</code> <code class="plain">(freq &gt;=1000000ul ) { lcd.printNumF( ((</code><code class="keyword">float</code><code class="plain">)freq/1000),2 ,CENTER, 8);&nbsp; }</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>286</code></td><td class="content"><code class="plain">} </code><code class="keyword">if</code> <code class="plain">(regim==8){ lcd.printNumF( ((</code><code class="keyword">float</code><code class="plain">)involt/1000),3 ,CENTER, 8);&nbsp; }</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>287</code></td><td class="content"><code class="comments">//Вывод третьей строчки</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>288</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain">lcd.setFont(SmallFont);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>289</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">switch</code><code class="plain">(regim){ </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>290</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">0: lcd.print(</code><code class="string">"Sinus DDS"</code><code class="plain">,CENTER, 32); </code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>291</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">1: lcd.print(</code><code class="string">"Triangle DDS"</code><code class="plain">,CENTER, 32); </code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>292</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">2: lcd.print(</code><code class="string">"Meandr DDS"</code><code class="plain">,CENTER, 32); </code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>293</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">3: lcd.print(</code><code class="string">"Pila1 DDS"</code><code class="plain">,CENTER, 32); </code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>294</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">4: lcd.print(</code><code class="string">"Pila2 DDS"</code><code class="plain">,CENTER, 32); </code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>295</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">5: lcd.print(</code><code class="string">"PWM Mode"</code><code class="plain">,CENTER,32); </code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>296</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">6: lcd.print(</code><code class="string">"Duty Mode"</code><code class="plain">, CENTER, 32);</code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>297</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">7: lcd.print(</code><code class="string">"Freq counter"</code><code class="plain">, CENTER, 32);</code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>298</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">8: lcd.print(</code><code class="string">"Volt meter"</code><code class="plain">, CENTER, 32);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>299</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>300</code></td><td class="content"><code class="comments">//Вывод четвёртой строчки&nbsp; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>301</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="keyword">if</code> <code class="plain">(regim==6) { sprintf(mystr, </code><code class="string">"Duty=%d %%"</code><code class="plain">, duty);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>302</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">lcd.print(mystr, CENTER, 40);}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>303</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">else</code> <code class="keyword">if</code> <code class="plain">(regim &lt; 6) {sprintf(mystr, </code><code class="string">"Step=%d"</code><code class="plain">, shag);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>304</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">lcd.print(mystr, CENTER, 40);}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>305</code></td><td class="content"><code class="keyword">if</code> <code class="plain">(regim==8){</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>306</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain">sprintf(mystr, </code><code class="string">"Vcc= %d.%02d v"</code><code class="plain">, (</code><code class="keyword">int</code><code class="plain">)(Vbg/1000), (</code><code class="keyword">int</code><code class="plain">)Vbg%1000&nbsp;&nbsp; );</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>307</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain">lcd.print(mystr, CENTER, 40);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>308</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code><code class="comments">//end if regim 8</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>309</code></td><td class="content"><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>310</code></td><td class="content"><code class="comments">//end monitor out</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>311</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>312</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>313</code></td><td class="content"><code class="keyword">void</code> <code class="plain">set_duty(){</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>314</code></td><td class="content"><code class="keyword">if</code> <code class="plain">(regim==6&amp;&amp;ICR1&lt;100) </code><code class="keyword">return</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>315</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(regim==5 &amp;&amp; ICR1&lt;100){</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>316</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">OCR1A=ICR1/2; duty=50; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>317</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">return</code><code class="plain">;&nbsp;&nbsp; }</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>318</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="keyword">static</code> <code class="plain">uint16_t ocr;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>319</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="plain">ocr=(uint32_t)ICR1*duty/100;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>320</code></td><td class="content"><code class="plain">OCR1A=ocr;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>321</code></td><td class="content"><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>322</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>323</code></td><td class="content"><code class="keyword">void</code> <code class="plain">check_regim(){</code><code class="comments">// проверка и установка режимов работы</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>324</code></td><td class="content"><code class="keyword">if</code> <code class="plain">(regim &lt;5){ </code><code class="comments">// если DDS режимы:</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>325</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(freq &gt; 100000) { freq=100000;}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>326</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TCCR1B=0; TCCR1A=0;&nbsp; DDRB&amp;=~(1&lt;&lt;DDB1); </code><code class="comments">// 9 pin arduino set Z-mode </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>327</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code><code class="comments">// end if regim &lt;5</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>328</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(regim==5 || regim==6) {</code><code class="comments">// если PWM или Duty </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>329</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TCCR1A=1&lt;&lt;COM1A1; DDRB|=1&lt;&lt;DDB1; </code><code class="comments">// 9 pin set output (pwm out)</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>330</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(TCCR1B==17 &amp;&amp; ICR1&lt;2800){ </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>331</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">ICR1=icr; freq= F_CPU/2/ICR1;&nbsp; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>332</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">set_duty();&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>333</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">else</code> <code class="plain">{ pwm_gen(); } </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>334</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>335</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain">PORTF|= 1&lt;&lt;7; </code><code class="comments">//поставить флаг что-б выйти из цикла DDS, если были в цикле</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>336</code></td><td class="content"><code class="keyword">if</code> <code class="plain">(regim==7){ freq=0;} </code><code class="comments">//если частотометр то обнулить частоту</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>337</code></td><td class="content"><code class="plain">monitor_flag=1;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>338</code></td><td class="content"><code class="plain">int_on()</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>339</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>340</code></td><td class="content"><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>341</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>342</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>343</code></td><td class="content"><code class="plain">ISR (TIMER1_OVF_vect){ int_tic++; } </code><code class="comments">// прерывание частотомера</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>344</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>345</code></td><td class="content"><code class="keyword">void</code> <code class="plain">freq_meter(){</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>346</code></td><td class="content"><code class="comments">//подготовка таймера1</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>347</code></td><td class="content"><code class="plain">TCCR1B=0; TCCR1A=0; TIMSK1 = 1&lt;&lt;TOIE1;</code><code class="comments">// подключить прерывание</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>348</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="plain">int_tic=0; TCNT1=0; TIFR1=TIFR1;</code><code class="comments">//всё обнулить</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>349</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="comments">//подготовка таймера3</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>350</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain">TCCR3B=0;TCCR3A=0; TIFR3=TIFR3; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>351</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="comments">//все 3 регистра стравнения что б удобнее смотреть регистр флагов</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>352</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">uint16_t ocr = ( (uint32_t)F_CPU/1024) -1;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>353</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">OCR3AH=ocr&gt;&gt;8; OCR3AL=ocr;</code><code class="comments">// -2 sec</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>354</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">OCR3BH=ocr&gt;&gt;8; OCR3BL=ocr;</code><code class="comments">// -2 sec</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>355</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">OCR3CH=ocr&gt;&gt;8; OCR3CL=ocr;</code><code class="comments">// -2 sec&nbsp; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>356</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TCCR3B=5&lt;&lt;CS30; </code><code class="comments">//старт счёта 2х секунд</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>357</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain">TCCR1B=7&lt;&lt;CS10;</code><code class="comments">//старт счёта таймера1 от тактового входа</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>358</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="keyword">while</code><code class="plain">(TIFR3==0);</code><code class="comments">// крутится пока не будет флагов конца счёта </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>359</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="plain">TCCR1B=0;</code><code class="comments">// стоп Тimer1</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>360</code></td><td class="content"><code class="plain">TIMSK1=0;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>361</code></td><td class="content"><code class="keyword">if</code> <code class="plain">( (TIFR3&amp;(1&lt;&lt;0))==0){</code><code class="comments">// если не было переполнения, то считаем</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>362</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="plain">freq= ((uint32_t)int_tic&lt;&lt;16) | TCNT1; </code><code class="comments">//сложить что натикало</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>363</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">int_tic=0; TCNT1 = 0; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>364</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">} monitor_flag=1;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>365</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>366</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>367</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>368</code></td><td class="content"><code class="color1">//////////////////////ВОЛЬТМЕТР/////////////////////////////////</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>369</code></td><td class="content"><code class="keyword">void</code> <code class="plain">volt_meter() {</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>370</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="plain">Vbg=Vbg_read();</code><code class="comments">//измерить напряжение на Vcc</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>371</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">involt=auto_range_read(3);</code><code class="comments">//измерить на входе А3</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>372</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="plain">monitor_flag=1;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>373</code></td><td class="content"><code class="plain">}</code><code class="comments">//end volt meter</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>374</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>375</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>376</code></td><td class="content"><code class="comments">// функция для измерения напряжения с автоматическим переключением референса</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>377</code></td><td class="content"><code class="plain">uint16_t auto_range_read(uint8_t </code><code class="keyword">in</code><code class="plain">){</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>378</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="plain">uint16_t an_in;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>379</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">an_in= _adc(</code><code class="keyword">in</code><code class="plain">,3);</code><code class="comments">//вкючение референса 1024</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>380</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(an_in &lt;=(800*4)) {</code><code class="keyword">return</code> <code class="plain">(an_in/4);} </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>381</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">an_in= _adc(</code><code class="keyword">in</code><code class="plain">,2); </code><code class="comments">//вкючение референса 2048</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>382</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(an_in &lt;=(1800*2)) {</code><code class="keyword">return</code> <code class="plain">(an_in/2); } </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>383</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">an_in=_adc(</code><code class="keyword">in</code><code class="plain">,4); </code><code class="comments">//вкючение референса 4096</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>384</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(an_in &lt;3800) {</code><code class="keyword">return</code> <code class="plain">an_in; }</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>385</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">an_in= _adc(</code><code class="keyword">in</code><code class="plain">,1);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>386</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="plain">an_in= (uint32_t)an_in * Vbg / 4096;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>387</code></td><td class="content"><code class="keyword">return</code> <code class="plain">an_in; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>388</code></td><td class="content"><code class="plain">} </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>389</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>390</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>391</code></td><td class="content"><code class="color1">//////&nbsp; analog Read (input, reference)</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>392</code></td><td class="content"><code class="plain">uint16_t _adc( uint8_t </code><code class="keyword">in</code><code class="plain">, uint8_t refs){ </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>393</code></td><td class="content"><code class="plain">uint16_t adc; ADCSRA=1&lt;&lt;ADEN | 1&lt;&lt;ADPS2 |0&lt;&lt;ADPS1 |1&lt;&lt;ADPS0; </code><code class="comments">// clk /32</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>394</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="plain">ADCSRB=0; ADCSRC=0; DIDR0=1&lt;&lt;</code><code class="keyword">in</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>395</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="keyword">switch</code><code class="plain">(refs) { </code><code class="comments">//0 -ext, 1-Vcc, 2-2048, 3-1024,&nbsp; 4-4096 </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>396</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">0: ADCSRD=0; </code><code class="keyword">break</code><code class="plain">; </code><code class="comments">// AREF ничего не меняется, REFS=0</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>397</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">1: ADCSRD=0;</code><code class="keyword">break</code><code class="plain">; </code><code class="comments">// VCC ничего не меняется, REFS=1</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>398</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">2: ADCSRD=0; VCAL=VCAL2; </code><code class="keyword">break</code><code class="plain">; </code><code class="comments">// 2v048</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>399</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">3: ADCSRD=0; VCAL=VCAL1; </code><code class="keyword">break</code><code class="plain">; </code><code class="comments">// 1v1024</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>400</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">4: refs=0;&nbsp; ADCSRD=1&lt;&lt;REFS2; VCAL=VCAL3; </code><code class="keyword">break</code><code class="plain">; </code><code class="comments">// 4v096&nbsp; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>401</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>402</code></td><td class="content"><code class="plain">ADMUX=</code><code class="keyword">in</code><code class="plain">&amp;0xF | refs&lt;&lt;6;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>403</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="plain">uint32_t akkum=0;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>404</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="keyword">for</code> <code class="plain">(</code><code class="keyword">int</code> <code class="plain">n=0x0; n&lt;=0xff; n++ ) {</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>405</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">ADCSRA |= (1&lt;&lt;ADSC);&nbsp;&nbsp; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>406</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="keyword">while</code> <code class="plain">(ADCSRA&amp;(1&lt;&lt;ADSC));</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>407</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="plain">akkum += ADC; }</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>408</code></td><td class="content"><code class="plain">akkum&gt;&gt;=8; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>409</code></td><td class="content"><code class="keyword">return</code> <code class="plain">(uint16_t)akkum;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>410</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>411</code></td><td class="content"><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>412</code></td><td class="content"><code class="comments">//функция для измерения напряжения на Vcc</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>413</code></td><td class="content"><code class="plain">uint16_t Vbg_read(){</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>414</code></td><td class="content"><code class="plain">ADCSRB=0; ADCSRC=0;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>415</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="plain">ADCSRA=1&lt;&lt;ADEN | 1&lt;&lt;ADPS2 |0&lt;&lt;ADPS1 |1&lt;&lt;ADPS0; </code><code class="comments">// adc enable , clk/32</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>416</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">ADMUX=1&lt;&lt;REFS0 | 1&lt;&lt;3 | 1&lt;&lt;2 | 1&lt;&lt;0; </code><code class="comments">//ref=avcc, input= ivref </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>417</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain">ADCSRD=1&lt;&lt;BGEN ; </code><code class="comments">//ivref=1v024</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>418</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">VCAL=VCAL1;</code><code class="comments">//load 1v024 calibrate byte</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>419</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">uint32_t bgaread=0;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>420</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="comments">//собрать 256 семплов для усреднения</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>421</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">for</code> <code class="plain">(</code><code class="keyword">int</code> <code class="plain">n=0x0; n&lt;=0xff; n++ ) {</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>422</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">ADCSRA |= (1&lt;&lt;ADSC);&nbsp;&nbsp; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>423</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">while</code> <code class="plain">(bit_is_set(ADCSRA,ADSC));</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>424</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">bgaread += ADC;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>425</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>426</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">bgaread&gt;&gt;=8; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>427</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="plain">bgaread= ((uint32_t)1024&lt;&lt;12) / bgaread;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>428</code></td><td class="content"><code class="keyword">return</code> <code class="plain">(uint16_t)bgaread;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>429</code></td><td class="content"><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>430</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>431</code></td><td class="content"><code class="keyword">void</code> <code class="plain">dds_set(){</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>432</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">PORTF&amp;= ~(1&lt;&lt;7); </code><code class="comments">//флаг DDS</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>433</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">switch</code> <code class="plain">(dac_trim) {</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>434</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">0:&nbsp; DACON=1&lt;&lt;DACEN|1&lt;&lt;DAOE|1&lt;&lt;DAVS0; </code><code class="keyword">break</code><code class="plain">; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>435</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">1:&nbsp; DACON=1&lt;&lt;DACEN|1&lt;&lt;DAOE|1&lt;&lt;DAVS1; ADCSRD= 1&lt;BGEN; </code><code class="keyword">break</code><code class="plain">; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>436</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">2:&nbsp; DACON=1&lt;&lt;DACEN|1&lt;&lt;DAOE|1&lt;&lt;DAVS1; ADCSRD= 1&lt;BGEN|1&lt;&lt;IVSEL0; </code><code class="keyword">break</code><code class="plain">; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>437</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">4:&nbsp; DACON=1&lt;&lt;DACEN|1&lt;&lt;DAOE|1&lt;&lt;DAVS1; ADCSRD= 1&lt;BGEN|1&lt;&lt;IVSEL1; </code><code class="keyword">break</code><code class="plain">; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>438</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">5:&nbsp; DACON= 1&lt;&lt;DACEN | 1&lt;&lt;DAOE; </code><code class="keyword">break</code><code class="plain">; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>439</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">} uint32_t temp=&nbsp; (</code><code class="keyword">float</code><code class="plain">)0x1000000ul / (F_CPU/8ul) * freq;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>440</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">switch</code> <code class="plain">(regim){ </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>441</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">0: signalOUT(temp, temp&gt;&gt;16,sinewave); </code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>442</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">1: signalOUT(temp, temp&gt;&gt;16,trianglewave); </code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>443</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">2: signalOUT(temp, temp&gt;&gt;16,squarewave); </code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>444</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">3: signalOUT(temp, temp&gt;&gt;16,sawtoothwave); </code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>445</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">4: signalOUT(temp, temp&gt;&gt;16,rewsawtoothwave);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>446</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">} </code><code class="comments">//end switch&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>447</code></td><td class="content"><code class="plain">}</code></td></tr></tbody></table></div></div></div>

<p>&nbsp;</p>
      </div>

          </div>
  </div>

  <div class="forum-post-footer clear-block">
    <div class="forum-jump-links">
      <a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#top" title="Jump to top of page">Верх</a>
    </div>

          <div class="forum-post-links">
        <ul class="links forum-links"><li class="comment_forbidden first"><span><a href="http://arduino.ru/user/login?destination=node%2F11357%23comment-form">Войдите</a> или <a href="http://arduino.ru/user/register?destination=node%2F11357%23comment-form">зарегистрируйтесь</a>, чтобы получить возможность отправлять комментарии</span></li>
<li class="vud_comment_votes_count last"></li>
</ul>      </div>
      </div>
</div><a id="comment-395540"></a>

    <div class="forum-post  clear-block">

  <div class="post-info clear-block">
    <div class="posted-on">
      Вс, 23/12/2018 - 09:51
          </div>

          <span class="post-num"><a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#comment-395540" class="active">#42</a> </span>
      </div>

  <div class="forum-post-wrapper">

    <div class="forum-post-panel-sub">
      

<div class="author-pane">
 <div class="author-pane-inner">
        <div class="author-pane-section author-pane-general">
            <div class="author-pane-line author-name">
        dimax      </div>

                    
  <div class="picture">
          <img src="./Генератор с регулируемоей частотой на ардуино. _ Аппаратная платформа Arduino_files/picture-6856.jpg" alt="dimax аватар" title="dimax аватар">      </div>
      
                    <div class="author-pane-line author-offline">
           Offline        </div>
      
            
            
            
                    <div class="author-pane-line author-joined">
          <span class="author-pane-label">Зарегистрирован:</span> 25.12.2013        </div>
      
            
                </div>

        <div class="author-pane-section author-pane-contact">
            
            
            
                </div>

        <div class="author-pane-section author-pane-admin">
            
          
               </div>
  </div>
</div>
    </div>

    <div class="forum-post-panel-main clear-block">
      
      <div class="content">
        <p>Генератор V3.1 (для МК STM32F103C8T6)<br>
	-добавил в программу поддержку тактовой частоты <strong>128МГц</strong>, которая появилась в последних <a href="http://out.arduino.ru/?redirect=https%3A%2F%2Fgithub.com%2Frogerclarkmelbourne%2FArduino_STM32&amp;baseU=http%3A%2F%2Farduino.ru%2Fforum%2Fproekty%2Fgenerator-s-reguliruemoei-chastotoi-na-arduino" rel="nofollow" target="_blank">аддонах</a>.</p>
<p><a href="http://out.arduino.ru/?redirect=https%3A%2F%2Ffarm2.staticflickr.com%2F1954%2F45110574002_4ed2e7bded_o.jpg&amp;baseU=http%3A%2F%2Farduino.ru%2Fforum%2Fproekty%2Fgenerator-s-reguliruemoei-chastotoi-na-arduino" rel="nofollow" target="_blank"><img alt="" src="./Генератор с регулируемоей частотой на ардуино. _ Аппаратная платформа Arduino_files/45110574002_4ed2e7bded_o.jpg" style="width:500px;height:104px;"></a><br>
	-программный <strong>DDS синтезатор</strong> переписал <strong>на ассемблере</strong>, скорость работы в сравнении с версией 3.0 выросла примерно в 2 раза, и стала 5 и 9 MSamples/Sec соответственно для тактовых 72 и 128 МГц. Это существенно расширило качественный диапазон. Теперь синус 500кГц вполне прилично выглядит. Пила на той же частоте правда уже не очень.</p>
<p><a href="http://out.arduino.ru/?redirect=https%3A%2F%2Ffarm2.staticflickr.com%2F1904%2F44437681974_695659de94_o.png&amp;baseU=http%3A%2F%2Farduino.ru%2Fforum%2Fproekty%2Fgenerator-s-reguliruemoei-chastotoi-na-arduino" rel="nofollow" target="_blank"><img alt="" src="./Генератор с регулируемоей частотой на ардуино. _ Аппаратная платформа Arduino_files/44437681974_695659de94_o.png" style="width:300px;height:180px;"></a><a href="http://out.arduino.ru/?redirect=https%3A%2F%2Ffarm2.staticflickr.com%2F1969%2F45110573932_9a3862ed1e_o.png&amp;baseU=http%3A%2F%2Farduino.ru%2Fforum%2Fproekty%2Fgenerator-s-reguliruemoei-chastotoi-na-arduino" rel="nofollow" target="_blank"><img alt="" src="./Генератор с регулируемоей частотой на ардуино. _ Аппаратная платформа Arduino_files/45110573932_9a3862ed1e_o.png" style="width:300px;height:180px;"></a><br>
	-<strong>добавил </strong>поддержку чипа- тактового синтезатора<strong> Si5351</strong>. С ним возможно устанавливать частоты с любым шагом от 4кГц до 225МГц. Из 3х выходов на si5351 использовал только один, с двух других можно вывести например фиксированные частоты. Пример есть в скетче.<br>
	-подключил все 3&nbsp; выхода и вход через <strong>мультиплексор <a href="http://out.arduino.ru/?redirect=http%3A%2F%2Fwww.analog.com%2Fen%2Fproducts%2Fadg704.html&amp;baseU=http%3A%2F%2Farduino.ru%2Fforum%2Fproekty%2Fgenerator-s-reguliruemoei-chastotoi-na-arduino" rel="nofollow" target="_blank">ADG704</a></strong>. (удобно, что-бы всё вывести на один разъём)</p>
<p>Все аппаратные доработки уместились в прежнем корпусе. Модуль si5351 припаял вторым этажом над R2R, а мультиплексор втиснулся рядом с разъёмом.</p>
<p><a href="http://out.arduino.ru/?redirect=https%3A%2F%2Ffarm2.staticflickr.com%2F1941%2F44437682394_d2c4e5d2a1_o.jpg&amp;baseU=http%3A%2F%2Farduino.ru%2Fforum%2Fproekty%2Fgenerator-s-reguliruemoei-chastotoi-na-arduino" rel="nofollow" target="_blank"><img alt="" src="./Генератор с регулируемоей частотой на ардуино. _ Аппаратная платформа Arduino_files/44437682394_d2c4e5d2a1_o.jpg" style="width:300px;height:200px;"></a></p>
<p>	<strong>Схема:</strong> Минимальный набор для сборки по прежнему -плата с МК, дисплей и энкодер. Микросхемы мультиплексора и тактового синтезатора ставить не обязательно, синтезатор даже не отобразится в меню, если при старте программа не обнаружила его подключенным. В схеме есть небольшое отличие от версии 3.0&nbsp; Нужно было освободить пин B8 для шины I2C, и кнопку энкодера я перекинул на PB1 В остальном&nbsp; распиновка совместима с 3.0</p>
<p><a href="http://out.arduino.ru/?redirect=https%3A%2F%2Ffarm2.staticflickr.com%2F1949%2F45110573792_94a8acf253_o.jpg&amp;baseU=http%3A%2F%2Farduino.ru%2Fforum%2Fproekty%2Fgenerator-s-reguliruemoei-chastotoi-na-arduino" rel="nofollow" target="_blank"><img alt="" src="./Генератор с регулируемоей частотой на ардуино. _ Аппаратная платформа Arduino_files/45110573792_94a8acf253_o.jpg" style="width:500px;height:296px;"></a></p>
<p>
	<a href="http://out.arduino.ru/?redirect=https%3A%2F%2Fgithub.com%2Fetherkit%2FSi5351Arduino&amp;baseU=http%3A%2F%2Farduino.ru%2Fforum%2Fproekty%2Fgenerator-s-reguliruemoei-chastotoi-na-arduino" rel="nofollow" target="_blank">Библиотека</a> для si5351&nbsp; <em>примечание:</em>&nbsp; в этой библиотеке в файлике si5351.cpp нужно найти строчку Wire.requestFrom(i2c_bus_addr, (uint8_t)1<strong>, (uint8_t)false</strong>); и удалить выделенный операнд. Это нужно для совместимости с библиотекой wire.h.&nbsp; <a href="http://out.arduino.ru/?redirect=https%3A%2F%2Fgithub.com%2Fadafruit%2FAdafruit-ST7735-Library&amp;baseU=http%3A%2F%2Farduino.ru%2Fforum%2Fproekty%2Fgenerator-s-reguliruemoei-chastotoi-na-arduino" rel="nofollow" target="_blank">Библиотека</a> для дисплея st7735. &nbsp; <a href="http://out.arduino.ru/?redirect=https%3A%2F%2Fgithub.com%2Fadafruit%2FAdafruit-GFX-Library&amp;baseU=http%3A%2F%2Farduino.ru%2Fforum%2Fproekty%2Fgenerator-s-reguliruemoei-chastotoi-na-arduino" rel="nofollow" target="_blank">Библиотека</a> Adafruit_GFX,&nbsp; и на всякий случай готовая<a href="http://out.arduino.ru/?redirect=https%3A%2F%2Fyadi.sk%2Fd%2FdkUfkWoN8kXlAg&amp;baseU=http%3A%2F%2Farduino.ru%2Fforum%2Fproekty%2Fgenerator-s-reguliruemoei-chastotoi-na-arduino" rel="nofollow" target="_blank"> прошивка</a>.</p>
<p>Скетч:</p>
<div id="highlighter_771785" class="syntaxhighlighter collapsed  "><div class="bar"><div class="toolbar"><a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#expandSource" title="показать код" class="item expandSource" style="width: 16px; height: 16px;">показать код</a><a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#viewSource" title="код" class="item viewSource" style="width: 16px; height: 16px;">код</a><div class="item copyToClipboard"><embed width="16" height="16" id="highlighter_771785_clipboard" type="application/x-shockwave-flash" title="скопировать" allowscriptaccess="always" wmode="transparent" flashvars="highlighterId=highlighter_771785" menu="false" src="/sites/all/libraries/syntaxhighlighter/scripts/clipboard.swf"></div><a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#printSource" title="расечатать" class="item printSource" style="width: 16px; height: 16px;">расечатать</a><a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#about" title="?" class="item about" style="width: 16px; height: 16px;">?</a></div></div><div class="lines"><div class="line alt1"><table><tbody><tr><td class="number"><code>001</code></td><td class="content"><code class="comments">/*Генератор с регулируемой частотой v3.1 (C)Dimax */</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>002</code></td><td class="content"><code class="preprocessor">#define pwm2_polar 0 //полярность выхода PWM2</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>003</code></td><td class="content"><code class="preprocessor">#define paper&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0x000000 // цвет фона экрана</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>004</code></td><td class="content"><code class="preprocessor">#define DDSMAX 1E6 //максимальная частота для генеартора DDS</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>005</code></td><td class="content"><code class="preprocessor">#define dds_mpl_72 835.05327478167234049174700635502 //множитель DDS для частоты F_CPU 72МГц</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>006</code></td><td class="content"><code class="comments">//для пересчёта множителя необходимо: частоту на экране * текущий множитель и разделить на фактически измеренную частоту</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>007</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="preprocessor">#define dds_mpl_128 469.7191655978919104715512499704&nbsp; //множитель DDS для&nbsp; частоты F_CPU 128Mhz</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>008</code></td><td class="content"><code class="preprocessor">#define enc_on()&nbsp; timer_attach_interrupt(TIMER4, TIMER_UPDATE_INTERRUPT, enc_int); </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>009</code></td><td class="content"><code class="preprocessor">#define enc_off()&nbsp; timer_detach_interrupt(TIMER4, TIMER_UPDATE_INTERRUPT); </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>010</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="preprocessor">#include &lt;Adafruit_ST7735.h&gt; // Hardware-specific library</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>011</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="preprocessor">#include &lt;SPI.h&gt; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>012</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="preprocessor">#include "si5351.h"</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>013</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="preprocessor">#include &lt;Wire.h&gt; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>014</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">Adafruit_ST7735 tft = Adafruit_ST7735(PB12, PB11,PB10); </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>015</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">Si5351 si5351;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>016</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">boolean si5351_found=0;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>017</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">volatile </code><code class="keyword">int</code> <code class="plain">enc_tic=0, duty_in=50, divider, mon_flag, modebit=1, tim_mode=0;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>018</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">volatile </code><code class="keyword">int</code> <code class="plain">mode=1;</code><code class="comments">// 0- GEN_si5351, 1-PWM, 2-Duty, 3..7 DDS, 8-Freqmeter </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>019</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">volatile </code><code class="keyword">int</code> <code class="plain">encstep=10; </code><code class="comments">//шаг изменения частоты по умолчанию </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>020</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">volatile int32_t freq=1000; </code><code class="comments">//частота по умолчанию</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>021</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain">volatile </code><code class="keyword">float</code> <code class="plain">duty_out;</code><code class="comments">// переменная счёта скважности</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>022</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="keyword">float</code> <code class="plain">t_hi, t_low; </code><code class="comments">//переменные счёта длины импульсов </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>023</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="plain">uint8_t wave[512]; </code><code class="comments">//массив для DDS синтеза</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>024</code></td><td class="content"><code class="plain">uint8_t sine_logo[] __FLASH__ ={25,27,28,30,31,33,34,36,37,38,40,41,42,43,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>025</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">44,45,46,47,48,48,49,49,50,50,50,50,50,50,50,49,49,48,48,47,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>026</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain">46,45,44,43,42,41,40,38,37,36,34,33,31,30,28,27,25,23,22,20,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>027</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">19,17,16,14,13,12,10,9,8,7,6,5,4,3,2,2,1,1,0,0,0,0,0,0,0,1,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>028</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">1,2,2,3,4,5,6,7,8,9,10,12,13,14,16,17,19,20,22,23};</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>029</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>030</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">void</code> <code class="keyword">setup</code><code class="plain">() {</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>031</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">delay(100);</code><code class="comments">// пауза для дисплея</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>032</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">SPI.setModule(2);</code><code class="comments">// выбор SPI2</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>033</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.initR(INITR_BLACKTAB);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>034</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.setRotation(3);</code><code class="comments">//дисплей горизонтально, контакты слева</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>035</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.fillScreen(paper);</code><code class="comments">//залить цветом по умолчанию</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>036</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.setTextWrap(0);</code><code class="comments">//не переносить строки</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>037</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain">nvic_irq_disable_all();</code><code class="comments">//отключить все прерывания</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>038</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">systick_disable(); </code><code class="comments">// отключить системный таймер</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>039</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="plain">RCC_BASE-&gt;APB1ENR|= (1&lt;&lt;2)|(1&lt;&lt;1)|(1&lt;&lt;0); </code><code class="comments">//включить тактирование tim-2,3,4</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>040</code></td><td class="content"><code class="plain">RCC_BASE-&gt;APB2ENR|= (1&lt;&lt;3)|(1&lt;&lt;11)|(1&lt;&lt;2)|(1&lt;&lt;0)|(1&lt;&lt;4);</code><code class="color1">////включить тактирование port-a-b-c,tim1</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>041</code></td><td class="content"><code class="plain">AFIO_BASE-&gt;MAPR|=(1&lt;&lt;8)|(1&lt;&lt;6); </code><code class="comments">//tim 1 &amp;&amp; tim 2 Partial remap</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>042</code></td><td class="content"><code class="plain">i2c_master_enable(I2C1, I2C_REMAP); </code><code class="comments">//SDA PB9, SCL PB8</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>043</code></td><td class="content"><code class="plain">Wire.begin();</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>044</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="plain">si5351_found = si5351.init(SI5351_CRYSTAL_LOAD_8PF, 0, 0);</code><code class="comments">//если нашёлся si5351 поднимается флажок</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>045</code></td><td class="content"><code class="comments">// if (si5351_found) { si5351.set_freq(16E6*SI5351_FREQ_MULT, SI5351_CLK1);// фиксированная частота с выхода 1</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>046</code></td><td class="content"><code class="comments">// si5351.set_freq(20E6*SI5351_FREQ_MULT, SI5351_CLK2); }//фиксированная частота с выхода 2</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>047</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">pinMode(PB0,PWM); </code><code class="comments">//buzzer</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>048</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain">pinMode(PB1,INPUT_PULLUP);</code><code class="comments">//key encoder</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>049</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">pinMode(PB3,OUTPUT); </code><code class="comments">//муль&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; типлексор</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>050</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">pinMode(PB4,OUTPUT); </code><code class="comments">//мультиплексор</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>051</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">pinMode(PB6,INPUT_PULLUP);</code><code class="comments">//enc</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>052</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">pinMode(PB7,INPUT_PULLUP);</code><code class="comments">//enc</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>053</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">mytone(1000,50);</code><code class="comments">//сигнал после старта</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>054</code></td><td class="content"><code class="color1">///////// Таймер4 -обработчик энкодера&nbsp;&nbsp;&nbsp;&nbsp; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>055</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER4_BASE-&gt;CR1=(1&lt;&lt;2)|(1&lt;&lt;9);</code><code class="comments">//CKD10 URS</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>056</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER4_BASE-&gt;CCMR1=0xf1f1; (1&lt;&lt;0)|(1&lt;&lt;8 );</code><code class="comments">//cc1s, cc2s input mapped TI1/TI2</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>057</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER4_BASE-&gt;CCER=(1&lt;&lt;1)|(1&lt;&lt;5)|(1&lt;&lt;0)|(1&lt;&lt;4);</code><code class="comments">//Capture/Compare 1,2 output polarity</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>058</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER4_BASE-&gt;SMCR=(1&lt;&lt;1)|(1&lt;&lt;0);</code><code class="comments">//Encoder mode3(SMS bit)стр.407</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>059</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER4_BASE-&gt;CNT=0;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>060</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">TIMER4_BASE-&gt;ARR=1;</code><code class="comments">//ограничение счёта ( =3 для двухимпульсного энкодера)</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>061</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">TIMER4_BASE-&gt;SR=0; TIMER4_BASE-&gt;EGR=1; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>062</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="plain">enc_on();</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>063</code></td><td class="content"><code class="plain">TIMER4_BASE-&gt;CR1|=(1&lt;&lt;0);</code><code class="comments">//запуск </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>064</code></td><td class="content"><code class="comments">//прерывание кнопки энкодера</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>065</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="plain">attachInterrupt(PB1, key_enc_int, RISING);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>066</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">timer_set();</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>067</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>068</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>069</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>070</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>071</code></td><td class="content"><code class="keyword">void</code> <code class="keyword">loop</code><code class="plain">() {</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>072</code></td><td class="content"><code class="keyword">static</code> <code class="keyword">int</code> <code class="plain">old_mode_loop=-1;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>073</code></td><td class="content"><code class="keyword">if</code> <code class="plain">(freq &gt; 8485) {tim_mode=1;} </code><code class="keyword">else</code> <code class="plain">{tim_mode=0;}</code><code class="comments">// переключать режимы таймера</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>074</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(mode!=old_mode_loop) {</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>075</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.fillScreen(paper); old_mode_loop=mode; mon_flag=1;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>076</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code><code class="comments">//чистить полностью экран только при смене режимов</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>077</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">comm();</code><code class="comments">//коммутация выходов мультиплексором</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>078</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(mode==8) {mon_out(); freq_meter();&nbsp; }</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>079</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(mode &gt;2 &amp;&amp; mode&lt;8) { mon_out();&nbsp; dds_set(); } </code><code class="comments">// запуск DDS режимов</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>080</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="keyword">if</code> <code class="plain">(mon_flag) { mon_out();} </code><code class="comments">//в остальных ситуациях при наличии флага вывода на дисплей </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>081</code></td><td class="content"><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>082</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code>&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>083</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>084</code></td><td class="content"><code class="keyword">void</code> <code class="plain">freq_meter(){</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>085</code></td><td class="content"><code class="color1">/////////////////////счётчик импульсов</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>086</code></td><td class="content"><code class="plain">pinMode(PA15,INPUT_PULLDOWN); </code><code class="comments">// вход частотометра</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>087</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="plain">uint32_t imp_long,imp_hi;</code><code class="comments">//переменные измерения длины такта</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>088</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain">__asm volatile( </code><code class="string">"cpsid i"</code> <code class="plain">);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>089</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="color1">/// Timer2 счёт младших 16 бит</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>090</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER2_BASE-&gt;CR1=0;</code><code class="comments">//стоп таймер</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>091</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER2_BASE-&gt;CCER=0; TIMER2_BASE-&gt;PSC=0;&nbsp; TIMER2_BASE-&gt;CNT=0; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>092</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER2_BASE-&gt;CCR1=0; TIMER2_BASE-&gt;CCR2=0; TIMER2_BASE-&gt;CCR3=0; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>093</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER2_BASE-&gt;CCR4=0;TIMER2_BASE-&gt;PSC=0;TIMER2_BASE-&gt;SR=0;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>094</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER2_BASE-&gt;CCMR2=0;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>095</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER2_BASE-&gt;CR2=1&lt;&lt;5; </code><code class="comments">//MMS:010 управление подчинённым в режиме "Update" </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>096</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER2_BASE-&gt;SMCR= (1&lt;&lt;14);</code><code class="comments">// ECE &amp; TS:000&nbsp; режим 2 внешнего тактирования &amp; разрешение работы от таймера1</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>097</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER2_BASE-&gt;ARR=65535; </code><code class="comments">//считать до максимума</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>098</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER2_BASE-&gt;EGR=1; </code><code class="comments">//перечитать регистры.</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>099</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER2_BASE-&gt;CR1|=(1&lt;&lt;0);</code><code class="comments">//start timer2</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>100</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="color1">/// Timer3 счёт старших 16 бит</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>101</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER3_BASE-&gt;CR1=1&lt;&lt;0;</code><code class="comments">//стоп таймер</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>102</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER3_BASE-&gt;CCER=0; TIMER3_BASE-&gt;PSC=0; TIMER3_BASE-&gt;CNT=0; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>103</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER3_BASE-&gt;CCR1=0; TIMER3_BASE-&gt;CCR2=0; TIMER3_BASE-&gt;CCR3=0; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>104</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">TIMER3_BASE-&gt;CCR4=0;TIMER3_BASE-&gt;PSC=0;TIMER3_BASE-&gt;SR=0;TIMER3_BASE-&gt;CR2=0;&nbsp; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>105</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="plain">TIMER3_BASE-&gt;CCMR1=0; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>106</code></td><td class="content"><code class="plain">TIMER3_BASE-&gt;SMCR=(1&lt;&lt;2)|(1&lt;&lt;1)|(1&lt;&lt;0)|(1&lt;&lt;4);</code><code class="comments">//SMS:111 &amp;&amp; TS:001&nbsp; такт брать от 2-го таймера&nbsp; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>107</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="plain">TIMER3_BASE-&gt;ARR=65535; </code><code class="comments">//считать до </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>108</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">TIMER3_BASE-&gt;EGR=1; </code><code class="comments">//перечитать регистры.</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>109</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER3_BASE-&gt;CR1|=(1&lt;&lt;0);</code><code class="comments">//start timer3</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>110</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="color1">/// настройка времени разрешения на таймере1 для таймера2</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>111</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER1_BASE-&gt;CR1=(1&lt;&lt;3)|(1&lt;&lt;2);</code><code class="comments">//один импульс, без прерываний</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>112</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER1_BASE-&gt;CNT=0;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>113</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER1_BASE-&gt;CR2=(1&lt;&lt;4);&nbsp; </code><code class="comments">//MMS:001 сигнал разрешения работы другим таймерам</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>114</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER1_BASE-&gt;CCER=0;</code><code class="comments">// отключить выходы таймера на физ ноги</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>115</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER1_BASE-&gt;PSC=F_CPU/36000 -1;</code><code class="comments">// 1999; // 72000000/2000= 36000кГц тактовая таймера </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>116</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER1_BASE-&gt;ARR=35999;</code><code class="comments">//считать до 36000 (1секунда) </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>117</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER1_BASE-&gt;EGR=1; </code><code class="comments">//перечитать регистры.</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>118</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER1_BASE-&gt;CR1|=(1&lt;&lt;0);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>119</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">__asm volatile( </code><code class="string">"cpsie i"</code> <code class="plain">);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>120</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">while</code> <code class="plain">(TIMER1_BASE-&gt;CR1&amp;1) {asm volatile(</code><code class="string">"nop"</code><code class="plain">); </code><code class="keyword">if</code><code class="plain">(mon_flag) {</code><code class="keyword">return</code><code class="plain">;}&nbsp; }</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>121</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">freq=&nbsp; TIMER3_BASE-&gt;CNT&lt;&lt;16&nbsp; | TIMER2_BASE-&gt;CNT ;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>122</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(freq&gt;1E6){ t_low=0;t_hi=0; duty_out=50; mon_flag=1; </code><code class="keyword">return</code><code class="plain">;} </code><code class="comments">//выйти если freq больше мегагерца</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>123</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="comments">// Перенастройка таймера 2 в режии измерения длительности импульса и скважности</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>124</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="plain">divider=1;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>125</code></td><td class="content"><code class="keyword">while</code> <code class="plain">((F_CPU/divider/((freq&gt;0)? freq : 1 )) &gt; 65000) {divider++;}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>126</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="plain">__asm volatile( </code><code class="string">"cpsid i"</code> <code class="plain">);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>127</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">TIMER2_BASE-&gt;CR1=0;</code><code class="comments">//стоп таймер</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>128</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER2_BASE-&gt;CCER=0; TIMER2_BASE-&gt;PSC=0;&nbsp; TIMER2_BASE-&gt;CNT=0; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>129</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER2_BASE-&gt;CCR1=0; TIMER2_BASE-&gt;CCR2=0; TIMER2_BASE-&gt;CCR3=0; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>130</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER2_BASE-&gt;CCR4=0;TIMER2_BASE-&gt;PSC=0;TIMER2_BASE-&gt;SR=0;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>131</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER2_BASE-&gt;CCMR2=0;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>132</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER2_BASE-&gt;CR2=0;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>133</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER2_BASE-&gt;PSC= divider-1;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>134</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER2_BASE-&gt;SMCR=(1&lt;&lt;4)|(1&lt;&lt;6)|(1&lt;&lt;2);</code><code class="comments">// TS:101 SMS:100&nbsp; вход TI1FP1&nbsp; , Режим сброса</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>135</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER2_BASE-&gt;CCMR1=(1&lt;&lt;0)|(1&lt;&lt;9);</code><code class="comments">//CC1 input,mapped on TI1, CC2 input,mapped on TI1</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>136</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER2_BASE-&gt;CCER=(1&lt;&lt;5)|(1&lt;&lt;0)|(1&lt;&lt;4);</code><code class="comments">//cc1-Hi,cc2-lo </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>137</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER2_BASE-&gt;EGR=1; </code><code class="comments">//перечитать регистры.</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>138</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER2_BASE-&gt;CR1=(1&lt;&lt;0);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>139</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">__asm volatile( </code><code class="string">"cpsie i"</code> <code class="plain">);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>140</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">while</code><code class="plain">( (TIMER2_BASE-&gt;SR&amp;0x65F)!=0x65F) {asm volatile(</code><code class="string">"nop"</code><code class="plain">);&nbsp; </code><code class="keyword">if</code><code class="plain">(mon_flag) {</code><code class="keyword">return</code><code class="plain">;} }</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>141</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER2_BASE-&gt;CR1=0;</code><code class="comments">// стоп таймер</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>142</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain">imp_long=(uint32_t) ((TIMER2_BASE-&gt;CCR1)*divider);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>143</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">imp_hi=(uint32_t)&nbsp; ((TIMER2_BASE-&gt;CCR2)*divider);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>144</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="keyword">if</code> <code class="plain">(freq &lt;1000){ freq=F_CPU /imp_long;} </code><code class="comments">//если freq Менее 1кГц то использовать данные второго НЧ-измерения частоты</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>145</code></td><td class="content"><code class="plain">duty_out=&nbsp; (</code><code class="keyword">float</code><code class="plain">) imp_hi / (imp_long / 100.0) ;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>146</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="plain">t_low= (imp_long-imp_hi) / (F_CPU/1E6) ;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>147</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">t_hi=&nbsp; imp_hi /(F_CPU/1E6);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>148</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain">mon_flag=1;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>149</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain">} </code><code class="comments">//END freq meter</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>150</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>151</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>152</code></td><td class="content"><code class="color1">///////////////////////////////////////////////////////////////////////////</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>153</code></td><td class="content"><code class="color1">/////////*********** ВЫВОД НА ДИСПЛЕЙ************//////////////////////////</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>154</code></td><td class="content"><code class="color1">///////////////////////////////////////////////////////////////////////////</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>155</code></td><td class="content"><code class="keyword">void</code> <code class="plain">mon_out(){</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>156</code></td><td class="content"><code class="comments">//************** Вывод первой строчки*****************************</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>157</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">tft.setCursor(0, 0); </code><code class="comments">//&nbsp; вперёд, вниз</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>158</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.setTextColor(ST7735_GREEN, paper);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>159</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.setTextSize(2);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>160</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">switch</code><code class="plain">(mode){ </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>161</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">0: tft.print(</code><code class="string">"&nbsp; Clock Gen&nbsp; "</code><code class="plain">);&nbsp; </code><code class="keyword">break</code><code class="plain">;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>162</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">1: tft.print(</code><code class="string">"&nbsp; PWM Mode&nbsp;&nbsp; "</code><code class="plain">); </code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>163</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">2: tft.print(</code><code class="string">"&nbsp; Duty Mode&nbsp; "</code><code class="plain">); </code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>164</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">3: tft.print(</code><code class="string">"&nbsp; Sinus DDS&nbsp; "</code><code class="plain">); </code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>165</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">4: tft.print(</code><code class="string">" Triangle DDS"</code><code class="plain">); </code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>166</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">5: tft.print(</code><code class="string">"&nbsp; Pila1 DDS&nbsp; "</code><code class="plain">); </code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>167</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">6: tft.print(</code><code class="string">"&nbsp; Pila2 DDS&nbsp; "</code><code class="plain">); </code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>168</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">7: tft.print(</code><code class="string">"&nbsp; Meandr DDS "</code><code class="plain">); </code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>169</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">8: tft.print(</code><code class="string">" Freq. meter "</code><code class="plain">); </code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>170</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>171</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="comments">//*****************Вывод второй строчки*****************************</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>172</code></td><td class="content"><code class="plain">tft.setTextColor(ST7735_WHITE, paper);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>173</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="plain">tft.setTextSize(3);&nbsp;&nbsp; tft.setCursor(0, 19);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>174</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">tft.print(</code><code class="string">"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "</code><code class="plain">); </code><code class="comments">//стереть строку</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>175</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(freq&gt;=1E8){tft.setCursor(0, 19);}</code><code class="comments">//переставление курсора</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>176</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">else</code> <code class="keyword">if</code> <code class="plain">(freq&gt;=1E5){tft.setCursor(20, 19);} </code><code class="comments">//переставление курсора</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>177</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">else</code> <code class="keyword">if</code> <code class="plain">(freq&gt;=1E3){tft.setCursor(40, 19);} </code><code class="comments">//переставление курсора</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>178</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">else</code> <code class="keyword">if</code> <code class="plain">(freq&gt;=100){tft.setCursor(60, 19);} </code><code class="comments">//переставление курсора</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>179</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">else</code> <code class="plain">{tft.setCursor(80, 19);} </code><code class="comments">//переставление курсора</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>180</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.print(freq);&nbsp;&nbsp;&nbsp; </code><code class="comments">//вывод частоты</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>181</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="comments">//********************Вывод третьей строчки*****************************</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>182</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.setCursor(50, 43); </code><code class="comments">//&nbsp; вперёд, вниз</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>183</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.setTextColor(ST7735_RED,paper);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>184</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.print(</code><code class="string">"Herz"</code><code class="plain">);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>185</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="comments">//********************* "осциллограммы"******************************</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>186</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.fillRect(5,90, 100,38,paper);</code><code class="comments">//вправо, вниз, ширина вправо, длина вниз</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>187</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.drawRect(0,67, 160,61,ST7735_MAGENTA);</code><code class="comments">//вправо, вниз, ширина вправо, длина вниз</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>188</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(mode==1 ||mode==2 || mode==8){</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>189</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.drawFastVLine(5, 90, 30, ST7735_CYAN); </code><code class="comments">// восход фронта статическая вер линия</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>190</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.drawFastHLine(5, 91, (</code><code class="keyword">int</code><code class="plain">)duty_out, ST7735_YELLOW);</code><code class="comments">//длина единицы</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>191</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.drawFastHLine(5, 90, (</code><code class="keyword">int</code><code class="plain">)duty_out, ST7735_YELLOW);</code><code class="comments">//паралельная линия для выделения</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>192</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.drawFastVLine((</code><code class="keyword">int</code><code class="plain">)duty_out+5, 91, 30, ST7735_YELLOW);</code><code class="comments">// спад</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>193</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.drawFastVLine((</code><code class="keyword">int</code><code class="plain">)duty_out+4, 90, 30, ST7735_YELLOW);</code><code class="comments">//паралельная линия для выделения</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>194</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.drawFastVLine(105, 90, 30, ST7735_YELLOW);</code><code class="comments">//спад конец такта статическая вер. линия</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>195</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.drawFastVLine(104, 90, 30, ST7735_YELLOW);</code><code class="comments">//паралельная линия для выделения</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>196</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.drawFastHLine((</code><code class="keyword">int</code><code class="plain">)duty_out+5, 120, (100-(</code><code class="keyword">int</code><code class="plain">)duty_out), ST7735_YELLOW);</code><code class="comments">//линия единицы 2-го такта</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>197</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.drawFastHLine((</code><code class="keyword">int</code><code class="plain">)duty_out+5, 119, (100-(</code><code class="keyword">int</code><code class="plain">)duty_out), ST7735_YELLOW);</code><code class="comments">//паралельная линия для выделения</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>198</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>199</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(mode==3){ </code><code class="comments">// логотип синуса</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>200</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">for</code><code class="plain">(uint8_t n=0; n&lt;100; n++){tft.drawPixel(5+n, 73+ sine_logo[n],ST7735_YELLOW);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>201</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">} </code><code class="comments">//END&nbsp; for</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>202</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">} </code><code class="comments">// END if (mode==3)</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>203</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">else</code> <code class="keyword">if</code> <code class="plain">(mode==4){</code><code class="comments">// логотип треугольника&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>204</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.drawLine(5,98,30,73,ST7735_YELLOW);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>205</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.drawLine(30,73,80,123,ST7735_YELLOW);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>206</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.drawLine(80,123,105,98,ST7735_YELLOW); </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>207</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">} </code><code class="comments">//END&nbsp; mode==4</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>208</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">else</code> <code class="keyword">if</code> <code class="plain">(mode==5){ </code><code class="comments">//логотип пилы1</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>209</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.drawLine(5,123,105,73,ST7735_YELLOW);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>210</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.drawFastVLine(105, 73, 50, ST7735_YELLOW);</code><code class="comments">//спад конец такта статическая вер. линия</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>211</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">} </code><code class="comments">//END&nbsp; if (mode==5)</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>212</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">else</code> <code class="keyword">if</code> <code class="plain">(mode==6){</code><code class="comments">//логотип пилы2</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>213</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.drawFastVLine(5, 73, 50, ST7735_YELLOW); </code><code class="comments">// восход фронта статическая вер линия </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>214</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.drawLine(5,73,105,123,ST7735_YELLOW);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>215</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code><code class="comments">// END&nbsp; if (mode==6)</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>216</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">else</code> <code class="keyword">if</code> <code class="plain">(mode==7 || mode==0){ </code><code class="comments">//логотип меандра</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>217</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.drawFastVLine(5,73,25,ST7735_YELLOW);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>218</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.drawFastHLine(5,73,50,ST7735_YELLOW);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>219</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.drawFastVLine(55,73,50,ST7735_YELLOW);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>220</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.drawFastHLine(55,123,50,ST7735_YELLOW);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>221</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.drawFastVLine(105,98,25,ST7735_YELLOW);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>222</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>223</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="comments">//*********************** характеристики сигнала****************************************</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>224</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.setCursor(5, 70); </code><code class="comments">//&nbsp; вперёд, вниз</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>225</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.setTextColor(ST7735_WHITE, paper);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>226</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.setTextSize(1);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>227</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(mode==1 ||mode==2 || mode==8){</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>228</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.print(</code><code class="string">"+Width="</code><code class="plain">); </code><code class="keyword">if</code> <code class="plain">(t_hi&lt;1E3) {tft.print(t_hi); tft.print(</code><code class="string">" uS&nbsp; "</code><code class="plain">);} </code><code class="keyword">else</code> <code class="plain">{tft.print(t_hi/1000); tft.print(</code><code class="string">" mS&nbsp; "</code><code class="plain">);}&nbsp; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>229</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.setCursor(5, 80); </code><code class="comments">//&nbsp; вперёд, вниз</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>230</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.print(</code><code class="string">"-Width="</code><code class="plain">); </code><code class="keyword">if</code> <code class="plain">(t_low&lt;1E3) {tft.print(t_low); tft.print(</code><code class="string">" uS&nbsp; "</code><code class="plain">);} </code><code class="keyword">else</code> <code class="plain">{tft.print(t_low/1000); tft.print(</code><code class="string">" mS&nbsp; "</code><code class="plain">);}&nbsp; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>231</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.setCursor(114, 70); tft.print(</code><code class="string">"Duty="</code><code class="plain">);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>232</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.setCursor(114, 80); tft.print(duty_out,0);tft.print(</code><code class="string">" %&nbsp;&nbsp; "</code><code class="plain">);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>233</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">} </code><code class="comments">//END if (mode &lt; 2 || mode==8)</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>234</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(mode!=8){ </code><code class="comments">// выводить шаг кроме частотометра</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>235</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.setCursor(114, 95); tft.print(</code><code class="string">"Step="</code><code class="plain">);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>236</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.setCursor(114, 105); </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>237</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">switch</code> <code class="plain">(encstep) { </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>238</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">1: tft.print(</code><code class="string">"&nbsp;&nbsp; 1"</code><code class="plain">); </code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>239</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">10: tft.print(</code><code class="string">"&nbsp; 10"</code><code class="plain">); </code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>240</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">100: tft.print(</code><code class="string">" 100"</code><code class="plain">);</code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>241</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">1E3: tft.print(</code><code class="string">" 1E3"</code><code class="plain">);</code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>242</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">1E4:&nbsp; tft.print(</code><code class="string">" 1E4"</code><code class="plain">);</code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>243</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">1E5:&nbsp; tft.print(</code><code class="string">" 1E5"</code><code class="plain">);</code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>244</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">1E6:&nbsp; tft.print(</code><code class="string">" 1E6"</code><code class="plain">);</code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>245</code></td><td class="content"><code class="spaces">&nbsp;</code>&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>246</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code><code class="comments">// END switch case&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>247</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">} </code><code class="comments">// END if (mode!=8)</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>248</code></td><td class="content"><code class="keyword">if</code> <code class="plain">( freq &lt; 1)&nbsp; {tft.fillRect(1,68, 158,59,paper); }</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>249</code></td><td class="content"><code class="plain">mon_flag=0;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>250</code></td><td class="content"><code class="plain">enc_on();</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>251</code></td><td class="content"><code class="plain">}</code><code class="comments">//END mon_out</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>252</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>253</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>254</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>255</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>256</code></td><td class="content"><code class="comments">//обработчик прерываний энкодера</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>257</code></td><td class="content"><code class="keyword">void</code> <code class="plain">enc_int(){&nbsp;&nbsp; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>258</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="keyword">if</code><code class="plain">((TIMER4_BASE-&gt;CR1)&amp;1&lt;&lt;4) {enc_mode(1);} </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>259</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="keyword">else</code> <code class="plain">{enc_mode(-1);} </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>260</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="plain">enc_off();</code><code class="comments">//выключить энкодер</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>261</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">}</code><code class="comments">// END VOID</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>262</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>263</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>264</code></td><td class="content"><code class="comments">// ФУНКЦИЯ конфигурации режимов </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>265</code></td><td class="content"><code class="keyword">void</code> <code class="plain">enc_mode(</code><code class="keyword">int</code> <code class="keyword">in</code><code class="plain">){</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>266</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">modebit= (GPIOB_BASE-&gt;IDR&amp;2); </code><code class="comments">//состояние кнопки PB1. 0-нажата </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>267</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(!modebit) {</code><code class="comments">// если сейчас идёт переключение режимов </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>268</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">mytone(880,30); </code><code class="comments">//звук переключения режимов</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>269</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">mode+=</code><code class="keyword">in</code><code class="plain">; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>270</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code><code class="plain">(mode&gt;8){mode=8;}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>271</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(si5351_found) { </code><code class="keyword">if</code><code class="plain">(mode&lt;0){mode=0;}&nbsp; } </code><code class="keyword">else</code> <code class="plain">{ </code><code class="keyword">if</code><code class="plain">(mode&lt;1){mode=1;} }</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>272</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(mode==1 || mode==2 ){timer_set();}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>273</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(mode==0){clock_gen();}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>274</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(mode==8) {freq=0;}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>275</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(mode &gt;2 &amp;&amp; mode !=8) {</code><code class="keyword">if</code> <code class="plain">(freq&gt;DDSMAX) {freq=DDSMAX;} }</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>276</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">mon_flag=1; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>277</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">return</code><code class="plain">; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>278</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">} </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>279</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">mytone(4400,10); </code><code class="comments">//звук изменения частоты</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>280</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">switch</code><code class="plain">(mode){</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>281</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">0:&nbsp; freq+=(encstep*</code><code class="keyword">in</code><code class="plain">); clock_gen(); </code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>282</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">1:&nbsp;&nbsp; </code><code class="keyword">if</code> <code class="plain">(tim_mode==0) { freq+=(encstep*</code><code class="keyword">in</code><code class="plain">); timer_set(); }&nbsp;&nbsp; </code><code class="keyword">else</code> <code class="plain">{ timer_hi_set(</code><code class="keyword">in</code><code class="plain">); } </code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>283</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">2:&nbsp;&nbsp; duty_in+=</code><code class="keyword">in</code><code class="plain">; </code><code class="keyword">if</code><code class="plain">(duty_in&gt;99){duty_in=99;} </code><code class="keyword">if</code><code class="plain">(duty_in&lt;1){duty_in=1;} set_duty(); calc_freq();&nbsp; </code><code class="keyword">break</code><code class="plain">;&nbsp; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>284</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">8:&nbsp;&nbsp; </code><code class="keyword">break</code><code class="plain">; </code><code class="comments">// в частотометре не реагировать на вращение энкодера </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>285</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="keyword">default</code><code class="plain">: freq+=(encstep*</code><code class="keyword">in</code><code class="plain">); </code><code class="keyword">if</code> <code class="plain">(freq&gt;DDSMAX) {freq=DDSMAX;}&nbsp; mon_flag=1; </code><code class="comments">//wave режимы</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>286</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">} </code><code class="comments">//end switch case</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>287</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="keyword">if</code> <code class="plain">(freq&lt;0){freq=0;}&nbsp;&nbsp; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>288</code></td><td class="content"><code class="plain">}</code><code class="comments">//end enc_mode</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>289</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>290</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>291</code></td><td class="content"><code class="comments">// обработчик кнопки энкодера</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>292</code></td><td class="content"><code class="keyword">void</code> <code class="plain">key_enc_int(){</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>293</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="keyword">if</code><code class="plain">(!modebit){modebit=1; enc_step_control() ;</code><code class="keyword">return</code><code class="plain">;}</code><code class="comments">// если менялся режим -выйти&nbsp; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>294</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(mode==2) { mytone(880,30); mode=1; enc_step_control() ; </code><code class="keyword">return</code><code class="plain">;} </code><code class="comments">//сменить режим и выйти если были в duty mode</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>295</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">mytone(220,75); </code><code class="comments">//звук переключения шага</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>296</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">encstep*=10;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>297</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">enc_step_control();</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>298</code></td><td class="content"><code class="plain">}</code><code class="comments">//end </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>299</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>300</code></td><td class="content"><code class="keyword">void</code> <code class="plain">enc_step_control(){</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>301</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(mode!=0 &amp;&amp; encstep &gt;1E4) {encstep=1;}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>302</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(mode==0 &amp;&amp; encstep &gt;1E6) {encstep=1;}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>303</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="plain">mon_flag=1; </code><code class="comments">//флаг вывода на дисплей&nbsp; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>304</code></td><td class="content"><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>305</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>306</code></td><td class="content"><code class="keyword">void</code> <code class="plain">set_duty(){</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>307</code></td><td class="content"><code class="keyword">if</code> <code class="plain">(mode==1 &amp;&amp; TIMER1_BASE-&gt;ARR&lt;100){ </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>308</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">TIMER1_BASE-&gt;CCR1=(TIMER1_BASE-&gt;ARR+1)/2 ; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>309</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">duty_in=50;&nbsp; </code><code class="keyword">return</code><code class="plain">;&nbsp;&nbsp; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>310</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>311</code></td><td class="content"><code class="plain">TIMER1_BASE-&gt;CCR1=(TIMER1_BASE-&gt;ARR+1)*duty_in/100;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>312</code></td><td class="content"><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>313</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>314</code></td><td class="content"><code class="comments">//ОБЩАЯ НАСТРОЙКА ТАЙМЕРА</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>315</code></td><td class="content"><code class="keyword">void</code> <code class="plain">timer_set(){</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>316</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">GPIOA_BASE-&gt;CRL=0xB4444444; </code><code class="comments">//PA7 alt_output</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>317</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">GPIOA_BASE-&gt;CRH=0x4444444B; </code><code class="comments">//PA8 alt_output</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>318</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER1_BASE-&gt;CCMR1=(1&lt;&lt;6)|(1&lt;&lt;5)|(1&lt;&lt;3);</code><code class="comments">//PWM mode 1</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>319</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER1_BASE-&gt;CCMR2=0;TIMER1_BASE-&gt;PSC=0; TIMER1_BASE-&gt;CCR2=0; TIMER1_BASE-&gt;ARR=1;&nbsp; TIMER1_BASE-&gt;CR1=1;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>320</code></td><td class="content"><code class="plain">TIMER1_BASE-&gt;CCER=(1&lt;&lt;0)|(1&lt;&lt;2)|(pwm2_polar&lt;&lt;3);</code><code class="comments">//cc1e/cc1ne enable </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>321</code></td><td class="content"><code class="comments">//TIMER1_BASE-&gt;BDTR=(1&lt;&lt;15)| 255 ;// dead time sample</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>322</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="keyword">if</code> <code class="plain">(freq&lt;1){freq=0; TIMER1_BASE-&gt;CCR1=0;TIMER1_BASE-&gt;ARR= 1; mon_flag=1; </code><code class="keyword">return</code><code class="plain">;} </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>323</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="keyword">if</code> <code class="plain">(freq&gt;(F_CPU/2)) {freq=F_CPU/2;}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>324</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain">divider=1;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>325</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">int</code> <code class="plain">tim_arr = F_CPU/freq;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>326</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">while</code> <code class="plain">( (tim_arr/divider) &gt; 65535) {divider++;} </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>327</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER1_BASE-&gt;PSC=divider-1;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>328</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER1_BASE-&gt;ARR=(tim_arr/divider)-1;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>329</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">set_duty();</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>330</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">calc_freq();</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>331</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>332</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>333</code></td><td class="content"><code class="comments">//НАСТРОЙКА ТАЙМЕРА НА ЧАСТОТАХ ВЫШЕ 8КГЦ</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>334</code></td><td class="content"><code class="keyword">void</code> <code class="plain">timer_hi_set(</code><code class="keyword">int</code> <code class="plain">arr){</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>335</code></td><td class="content"><code class="plain">__asm volatile( </code><code class="string">"cpsid i"</code> <code class="plain">);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>336</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="plain">GPIOA_BASE-&gt;CRL=0xB4444444; </code><code class="comments">//PA7 alt_output</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>337</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">GPIOA_BASE-&gt;CRH=0x4444444B; </code><code class="comments">//PA8 alt_output</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>338</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER1_BASE-&gt;CCMR1=(1&lt;&lt;6)|(1&lt;&lt;5)|(1&lt;&lt;3);</code><code class="comments">//PWM mode 1</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>339</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER1_BASE-&gt;CCER=(1&lt;&lt;0)|(1&lt;&lt;2)|(pwm2_polar&lt;&lt;3);</code><code class="comments">//cc1e/cc1ne enable </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>340</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="comments">//насильно уменьшить шаг с ростом частоты</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>341</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(TIMER1_BASE-&gt;ARR&lt;1000 &amp;&amp; encstep &gt; 100) encstep=100; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>342</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(TIMER1_BASE-&gt;ARR&lt;100 &amp;&amp; encstep &gt; 10) encstep=10;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>343</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(TIMER1_BASE-&gt;ARR&lt;10 &amp;&amp; encstep &gt; 1) encstep=1;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>344</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">arr*=encstep;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>345</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="keyword">int</code> <code class="plain">icr= TIMER1_BASE-&gt;ARR-=arr;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>346</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(icr&lt;1) {icr=1;} </code><code class="keyword">if</code> <code class="plain">(icr&gt;65535) {icr=65535;}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>347</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="plain">TIMER1_BASE-&gt;ARR=icr;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>348</code></td><td class="content"><code class="plain">__asm volatile( </code><code class="string">"cpsie i"</code> <code class="plain">);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>349</code></td><td class="content"><code class="plain">set_duty();</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>350</code></td><td class="content"><code class="plain">calc_freq();</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>351</code></td><td class="content"><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>352</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>353</code></td><td class="content"><code class="comments">// РАСЧЁТ ЧАСТОТЫ И ТАЙМИНГОВ В РЕЖИМАХ PWM</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>354</code></td><td class="content"><code class="keyword">void</code> <code class="plain">calc_freq(){</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>355</code></td><td class="content"><code class="plain">uint32_t imp_long, imp_hi;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>356</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="plain">freq= F_CPU /((TIMER1_BASE-&gt;ARR+1)*divider);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>357</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">duty_out=&nbsp; (</code><code class="keyword">float</code><code class="plain">) TIMER1_BASE-&gt;CCR1 / ((TIMER1_BASE-&gt;ARR+1) / 100.0) ;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>358</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain">duty_out= floorf(duty_out);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>359</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">imp_long=(uint32_t) ((TIMER1_BASE-&gt;ARR+1)*divider);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>360</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">imp_hi=(uint32_t)&nbsp; ((TIMER1_BASE-&gt;CCR1)*divider);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>361</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain">t_low= (imp_long-imp_hi) /(F_CPU/1E6) ;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>362</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">t_hi=&nbsp; imp_hi /(F_CPU/1E6);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>363</code></td><td class="content"><code class="plain">mon_flag=1;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>364</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>365</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>366</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>367</code></td><td class="content"><code class="comments">// КОНФИГУРАЦИЯ DDS РЕЖИМОВ</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>368</code></td><td class="content"><code class="keyword">void</code> <code class="plain">dds_set(){</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>369</code></td><td class="content"><code class="keyword">static</code> <code class="plain">uint32_t akkum;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>370</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="keyword">static</code> <code class="keyword">byte</code> <code class="plain">oldmode=255;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>371</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER1_BASE-&gt;CCER=0; </code><code class="comments">//timer output pins disable</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>372</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">GPIOA_BASE-&gt;CRL = 0x33333333;</code><code class="comments">// pa0-pa7&nbsp; выход</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>373</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(oldmode !=mode) {</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>374</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(mode==3) {</code><code class="keyword">for</code><code class="plain">(uint16_t n=0; n&lt;512; n++){wave[n]=255*(sin(TWO_PI*</code><code class="keyword">float</code><code class="plain">(n)/512)+1)/2 ;}}</code><code class="comments">// синус</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>375</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">else</code> <code class="keyword">if</code> <code class="plain">(mode==4){ </code><code class="keyword">for</code><code class="plain">(uint16_t n=0; n&lt;512; n++){</code><code class="keyword">if</code> <code class="plain">(n&lt;256){ wave[n]=n;} </code><code class="keyword">else</code> <code class="plain">{wave[n]=(511-n);}}}</code><code class="comments">//треугол</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>376</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">else</code> <code class="keyword">if</code> <code class="plain">(mode==5){ </code><code class="keyword">for</code><code class="plain">(uint16_t n=0; n&lt;512; n++){ wave[n]=(n&gt;&gt;1);}}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="comments">//пила1</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>377</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">else</code> <code class="keyword">if</code> <code class="plain">(mode==6){ </code><code class="keyword">for</code><code class="plain">(uint16_t n=0; n&lt;512; n++){ wave[n]=((~n)&gt;&gt;1);}}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="comments">//пила2</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>378</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">else</code> <code class="keyword">if</code> <code class="plain">(mode==7){ </code><code class="keyword">for</code><code class="plain">(uint16_t n=0; n&lt;512; n++){</code><code class="keyword">if</code> <code class="plain">(n&lt;256){ wave[n]=0;} </code><code class="keyword">else</code> <code class="plain">{wave[n]=255;}}}&nbsp;&nbsp;&nbsp; </code><code class="comments">//меандр</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>379</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">oldmode=mode; } </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>380</code></td><td class="content"><code class="plain">uint32_t dds_shag= (</code><code class="keyword">double</code><code class="plain">)freq * ((F_CPU==72E6)? dds_mpl_72 : dds_mpl_128) ;</code><code class="comments">//&nbsp; шаг= частота*коэффициент</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>381</code></td><td class="content"><code class="plain">asm volatile (</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>382</code></td><td class="content"><code class="string">"mov&nbsp;&nbsp; R9, %[port];"</code>&nbsp; <code class="string">"\n\t"</code> <code class="comments">// записать в r9 адресс порта "A"-ODR </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>383</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="string">"mov&nbsp;&nbsp; R8, %[wave];"</code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <code class="string">"\n\t"</code> <code class="comments">//адресс массива положить в r8&nbsp; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>384</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="string">"mov&nbsp;&nbsp; R7, %[shag];"</code>&nbsp;&nbsp; <code class="string">"\n\t"</code> <code class="comments">// значение шага в r7</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>385</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="string">"dds_loop:"</code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <code class="string">"\n\t"</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>386</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="string">"add R6, r7;"</code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <code class="string">"\n\t"</code>&nbsp; <code class="comments">//(1)добавить к аккумулятору шаг</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>387</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="string">"lsrs r2, r6, #23;"</code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <code class="string">"\n\t"</code>&nbsp; <code class="comments">//(1) положить в R2 сдвинутый на 23 бита аккумулятор</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>388</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="string">"ldrb r2, [r8, r2];"</code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <code class="string">"\n\t"</code>&nbsp; <code class="comments">//(2)загрузить в R2 выбранный байт из массива</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>389</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="string">"strb&nbsp; r2, [r9];"</code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <code class="string">"\n\t"</code>&nbsp; <code class="comments">//(2) запиcать этот байт в PORTA-ODR</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>390</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="string">"ldr&nbsp; R2, [%[flag]];"</code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <code class="string">"\n\t"</code>&nbsp; <code class="comments">//(2) подгрузить в&nbsp; R2 флаг </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>391</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="string">"cmp r2, 1;"</code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <code class="string">"\n\t"</code>&nbsp; <code class="comments">//(1) сравнить </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>392</code></td><td class="content"><code class="string">"bne dds_loop;"</code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <code class="string">"\n\t"</code>&nbsp; <code class="comments">//(1) перейти в цикл</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>393</code></td><td class="content"><code class="plain">: : [wave]</code><code class="string">"r"</code> <code class="plain">(&amp;wave),[shag]</code><code class="string">"r"</code><code class="plain">(dds_shag),[port]</code><code class="string">"r"</code><code class="plain">(&amp;GPIOA_BASE-&gt;ODR),[flag]</code><code class="string">"r"</code><code class="plain">(&amp;mon_flag)</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>394</code></td><td class="content"><code class="plain">: </code><code class="string">"r9"</code><code class="plain">,</code><code class="string">"r8"</code><code class="plain">,</code><code class="string">"r7"</code><code class="plain">,</code><code class="string">"r6"</code><code class="plain">,</code><code class="string">"r2"</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>395</code></td><td class="content"><code class="plain">);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>396</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">GPIOA_BASE-&gt;CRL=0x44444444;</code><code class="comments">// все пины в Z</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>397</code></td><td class="content"><code class="plain">}</code><code class="comments">//END DDS set()</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>398</code></td><td class="content"><code class="comments">//</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>399</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>400</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>401</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="keyword">void</code> <code class="plain">mytone(</code><code class="keyword">int</code> <code class="plain">frq, </code><code class="keyword">int</code> <code class="plain">ms ){</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>402</code></td><td class="content"><code class="keyword">if</code> <code class="plain">(mode==8){</code><code class="keyword">return</code><code class="plain">;} </code><code class="comments">//таймер в режиме частотометра занят</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>403</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="plain">uint16_t psc=1; uint32_t tim_arr;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>404</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="comments">// настройка генератора звука на таймере3</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>405</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">tim_arr = (F_CPU/2)/frq;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>406</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="keyword">while</code> <code class="plain">( (tim_arr/psc) &gt; 65535) {psc++;} </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>407</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">__asm volatile( </code><code class="string">"cpsid i"</code> <code class="plain">); </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>408</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER2_BASE-&gt;SMCR=0;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>409</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER3_BASE-&gt;CCR3=0; </code><code class="comments">//обнулить регистр соответсвующий используемому выходу</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>410</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER3_BASE-&gt;PSC=psc-1;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>411</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER3_BASE-&gt;ARR=(tim_arr/psc)-1;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>412</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER3_BASE-&gt;CCMR2=(1&lt;&lt;5)|(1&lt;&lt;4);</code><code class="comments">// OC3M:011</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>413</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER3_BASE-&gt;CCER=1&lt;&lt;8;</code><code class="comments">//cc3e&nbsp; подключить аппаратную ногу</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>414</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER3_BASE-&gt;SMCR=(1&lt;&lt;2)|(1&lt;&lt;0)|(1&lt;&lt;4);</code><code class="comments">//SMS:101 &amp;&amp; TS:001&nbsp; строб от 2-го таймера&nbsp; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>415</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER3_BASE-&gt;EGR=1; </code><code class="comments">//перечитать регистры.</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>416</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER3_BASE-&gt;CR1=1;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>417</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="color1">/// настройка выдержки времени на таймере2</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>418</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">psc=1;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>419</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tim_arr = (F_CPU/1E3) * ms;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>420</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">while</code> <code class="plain">( (tim_arr/psc) &gt; 65536) {psc++;} </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>421</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER2_BASE-&gt;CCMR2=0;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>422</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER2_BASE-&gt;CR2=0;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>423</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER2_BASE-&gt;CR1=(1&lt;&lt;3)|(1&lt;&lt;2);</code><code class="comments">//один импульс, без прероываний</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>424</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER2_BASE-&gt;CNT=0;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>425</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">TIMER2_BASE-&gt;CR2=(1&lt;&lt;4);&nbsp; </code><code class="comments">//MMS:001 сигнал разрешения работы другим таймерам</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>426</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="plain">TIMER2_BASE-&gt;PSC=psc-1;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>427</code></td><td class="content"><code class="plain">TIMER2_BASE-&gt;ARR=(tim_arr/psc)-1;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>428</code></td><td class="content"><code class="plain">TIMER2_BASE-&gt;EGR=1; </code><code class="comments">//перечитать регистры.</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>429</code></td><td class="content"><code class="plain">TIMER2_BASE-&gt;CR1|=(1&lt;&lt;0);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>430</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">__asm volatile( </code><code class="string">"cpsie i"</code> <code class="plain">);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>431</code></td><td class="content"><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>432</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>433</code></td><td class="content"><code class="keyword">void</code> <code class="plain">clock_gen(){ </code><code class="comments">//функция работа с синтезатором si5351</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>434</code></td><td class="content"><code class="keyword">if</code> <code class="plain">(!si5351_found) {</code><code class="keyword">return</code><code class="plain">;} </code><code class="comments">// на всякий случай </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>435</code></td><td class="content"><code class="keyword">if</code> <code class="plain">(freq &lt;4000){freq=4000;} </code><code class="keyword">if</code> <code class="plain">(freq&gt;225E6){ freq=225E6;} </code><code class="comments">//допустимые рамки частот</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>436</code></td><td class="content"><code class="plain">si5351.set_freq(freq*SI5351_FREQ_MULT, SI5351_CLK0);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>437</code></td><td class="content"><code class="plain">mon_flag=1;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>438</code></td><td class="content"><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>439</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>440</code></td><td class="content"><code class="keyword">void</code> <code class="plain">comm(){ </code><code class="comments">//коммутация выходов через мультиплексор</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>441</code></td><td class="content"><code class="keyword">if</code> <code class="plain">(mode==1 || mode==2 ) {digitalWrite(PB3,LOW); digitalWrite(PB4,LOW);}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>442</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="keyword">else</code>&nbsp; <code class="keyword">if</code> <code class="plain">(mode&gt;2 &amp;&amp; mode&lt;8 ) {digitalWrite(PB3,HIGH); digitalWrite(PB4,LOW);}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>443</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="keyword">else</code> <code class="keyword">if</code> <code class="plain">(mode==0 ) {digitalWrite(PB3,LOW); digitalWrite(PB4,HIGH);}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>444</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="keyword">else</code> <code class="keyword">if</code> <code class="plain">(mode==8) {digitalWrite(PB3,HIGH); digitalWrite(PB4,HIGH);}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>445</code></td><td class="content"><code class="plain">}</code></td></tr></tbody></table></div></div></div>

<p>&nbsp;</p>
<p>&nbsp;</p>
      </div>

          </div>
  </div>

  <div class="forum-post-footer clear-block">
    <div class="forum-jump-links">
      <a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#top" title="Jump to top of page">Верх</a>
    </div>

          <div class="forum-post-links">
        <ul class="links forum-links"><li class="comment_forbidden first"><span><a href="http://arduino.ru/user/login?destination=node%2F11357%23comment-form">Войдите</a> или <a href="http://arduino.ru/user/register?destination=node%2F11357%23comment-form">зарегистрируйтесь</a>, чтобы получить возможность отправлять комментарии</span></li>
<li class="vud_comment_votes_count last"></li>
</ul>      </div>
      </div>
</div><a id="comment-398540"></a>

    <div class="forum-post  clear-block">

  <div class="post-info clear-block">
    <div class="posted-on">
      Ср, 17/10/2018 - 21:47
          </div>

          <span class="post-num"><a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#comment-398540" class="active">#43</a> </span>
      </div>

  <div class="forum-post-wrapper">

    <div class="forum-post-panel-sub">
      

<div class="author-pane">
 <div class="author-pane-inner">
        <div class="author-pane-section author-pane-general">
            <div class="author-pane-line author-name">
        Vovchik      </div>

                    
      
                    <div class="author-pane-line author-offline">
           Offline        </div>
      
            
            
            
                    <div class="author-pane-line author-joined">
          <span class="author-pane-label">Зарегистрирован:</span> 08.08.2017        </div>
      
            
                </div>

        <div class="author-pane-section author-pane-contact">
            
            
            
                </div>

        <div class="author-pane-section author-pane-admin">
            
          
               </div>
  </div>
</div>
    </div>

    <div class="forum-post-panel-main clear-block">
      
      <div class="content">
        <p>С таким шагом и такую точность наверняка gps понадобится.Как вы считаете?А может кто выложить скриншоты на низком и высоком участке панораму гармоник сигналов?</p>
      </div>

          </div>
  </div>

  <div class="forum-post-footer clear-block">
    <div class="forum-jump-links">
      <a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#top" title="Jump to top of page">Верх</a>
    </div>

          <div class="forum-post-links">
        <ul class="links forum-links"><li class="comment_forbidden first"><span><a href="http://arduino.ru/user/login?destination=node%2F11357%23comment-form">Войдите</a> или <a href="http://arduino.ru/user/register?destination=node%2F11357%23comment-form">зарегистрируйтесь</a>, чтобы получить возможность отправлять комментарии</span></li>
<li class="vud_comment_votes_count last"></li>
</ul>      </div>
      </div>
</div><a id="comment-398563"></a>

    <div class="forum-post  clear-block">

  <div class="post-info clear-block">
    <div class="posted-on">
      Ср, 17/10/2018 - 23:13
          </div>

          <span class="post-num"><a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#comment-398563" class="active">#44</a> </span>
      </div>

  <div class="forum-post-wrapper">

    <div class="forum-post-panel-sub">
      

<div class="author-pane">
 <div class="author-pane-inner">
        <div class="author-pane-section author-pane-general">
            <div class="author-pane-line author-name">
        dimax      </div>

                    
  <div class="picture">
          <img src="./Генератор с регулируемоей частотой на ардуино. _ Аппаратная платформа Arduino_files/picture-6856.jpg" alt="dimax аватар" title="dimax аватар">      </div>
      
                    <div class="author-pane-line author-offline">
           Offline        </div>
      
            
            
            
                    <div class="author-pane-line author-joined">
          <span class="author-pane-label">Зарегистрирован:</span> 25.12.2013        </div>
      
            
                </div>

        <div class="author-pane-section author-pane-contact">
            
            
            
                </div>

        <div class="author-pane-section author-pane-admin">
            
          
               </div>
  </div>
</div>
    </div>

    <div class="forum-post-panel-main clear-block">
      
      <div class="content">
        <p></p><div class="quote-msg"><div class="quote-author"><em>Blackhock</em> пишет:</div><p></p>
<p>Вот похожее на 2313 собранно, только регулируется одна фаза от 0 до 180 от второй...</p>
<p><a href="http://out.arduino.ru/?redirect=https%3A%2F%2Fb.radikal.ru%2Fb13%2F1810%2F47%2F2567d06d1b0a.gif&amp;baseU=http%3A%2F%2Farduino.ru%2Fforum%2Fproekty%2Fgenerator-s-reguliruemoei-chastotoi-na-arduino" rel="nofollow" target="_blank">https://b.radikal.ru/b13/1810/47/2567d06d1b0a.gif</a></p>
<p></p></div><p></p>
<p>Схема ни о чём не говорит. Нужна сама программа, и&nbsp; желательно осцилограммы результата.&nbsp;&nbsp; Скорее всего там какой нибудь нюанс, типа сдвиг фаз сделан через ШИМ-синус, или вообще чисто&nbsp; программная реализация без таймеров. Если первое, то на stm32 идеально, там как раз по три выхода. Но я тут вам не помощник, ибо тема сдвига фаз вообще не интересна.</p>
      </div>

          </div>
  </div>

  <div class="forum-post-footer clear-block">
    <div class="forum-jump-links">
      <a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#top" title="Jump to top of page">Верх</a>
    </div>

          <div class="forum-post-links">
        <ul class="links forum-links"><li class="comment_forbidden first"><span><a href="http://arduino.ru/user/login?destination=node%2F11357%23comment-form">Войдите</a> или <a href="http://arduino.ru/user/register?destination=node%2F11357%23comment-form">зарегистрируйтесь</a>, чтобы получить возможность отправлять комментарии</span></li>
<li class="vud_comment_votes_count last"></li>
</ul>      </div>
      </div>
</div><a id="comment-398767"></a>

    <div class="forum-post  clear-block">

  <div class="post-info clear-block">
    <div class="posted-on">
      Чт, 18/10/2018 - 16:15
          </div>

          <span class="post-num"><a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#comment-398767" class="active">#45</a> </span>
      </div>

  <div class="forum-post-wrapper">

    <div class="forum-post-panel-sub">
      

<div class="author-pane">
 <div class="author-pane-inner">
        <div class="author-pane-section author-pane-general">
            <div class="author-pane-line author-name">
        miklin      </div>

                    
      
                    <div class="author-pane-line author-offline">
           Offline        </div>
      
            
            
            
                    <div class="author-pane-line author-joined">
          <span class="author-pane-label">Зарегистрирован:</span> 08.06.2018        </div>
      
            
                </div>

        <div class="author-pane-section author-pane-contact">
            
            
            
                </div>

        <div class="author-pane-section author-pane-admin">
            
          
               </div>
  </div>
</div>
    </div>

    <div class="forum-post-panel-main clear-block">
      
      <div class="content">
        <p>&nbsp;Доделал свой DDS v3.0, зделал корпус.</p>
<p>&nbsp;Автору большая благодарность.</p>
<p>Правда есть проблемы,для контроля выходного сигнала,проходится использовать осцилограф.</p>
<p>Линейных перемеников для печатных плат ненашол,применил что было а они нелинейны.</p>
<p>Нужно переделывать шкалы резисторов.</p>
<p>&nbsp;</p>
      </div>

          </div>
  </div>

  <div class="forum-post-footer clear-block">
    <div class="forum-jump-links">
      <a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#top" title="Jump to top of page">Верх</a>
    </div>

          <div class="forum-post-links">
        <ul class="links forum-links"><li class="comment_forbidden first"><span><a href="http://arduino.ru/user/login?destination=node%2F11357%23comment-form">Войдите</a> или <a href="http://arduino.ru/user/register?destination=node%2F11357%23comment-form">зарегистрируйтесь</a>, чтобы получить возможность отправлять комментарии</span></li>
<li class="vud_comment_votes_count last"></li>
</ul>      </div>
      </div>
</div><a id="comment-400070"></a>

    <div class="forum-post  clear-block">

  <div class="post-info clear-block">
    <div class="posted-on">
      Сб, 12/01/2019 - 11:08
          </div>

          <span class="post-num"><a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#comment-400070" class="active">#46</a> </span>
      </div>

  <div class="forum-post-wrapper">

    <div class="forum-post-panel-sub">
      

<div class="author-pane">
 <div class="author-pane-inner">
        <div class="author-pane-section author-pane-general">
            <div class="author-pane-line author-name">
        dimax      </div>

                    
  <div class="picture">
          <img src="./Генератор с регулируемоей частотой на ардуино. _ Аппаратная платформа Arduino_files/picture-6856.jpg" alt="dimax аватар" title="dimax аватар">      </div>
      
                    <div class="author-pane-line author-offline">
           Offline        </div>
      
            
            
            
                    <div class="author-pane-line author-joined">
          <span class="author-pane-label">Зарегистрирован:</span> 25.12.2013        </div>
      
            
                </div>

        <div class="author-pane-section author-pane-contact">
            
            
            
                </div>

        <div class="author-pane-section author-pane-admin">
            
          
               </div>
  </div>
</div>
    </div>

    <div class="forum-post-panel-main clear-block">
      
      <div class="content">
        <p>Генератор v3.2</p>
<p>-изменён вывод на дисплей, каждые три знака в значении частоты разделяются пробелом.</p>
<p><a href="http://out.arduino.ru/?redirect=https%3A%2F%2Ffarm2.staticflickr.com%2F1955%2F45471554222_1ddf2ef395_b.jpg&amp;baseU=http%3A%2F%2Farduino.ru%2Fforum%2Fproekty%2Fgenerator-s-reguliruemoei-chastotoi-na-arduino" rel="nofollow" target="_blank"><img alt="" src="./Генератор с регулируемоей частотой на ардуино. _ Аппаратная платформа Arduino_files/45471554222_1ddf2ef395_b.jpg" style="width:300px;height:196px;"></a></p>
<p>-добавлен шаг 0,1 Гц для частот до 1кГц. Минимальная частота тоже стала 0,1 Герц</p>
<p><a href="http://out.arduino.ru/?redirect=https%3A%2F%2Ffarm2.staticflickr.com%2F1947%2F44608078475_df2cfc9e22_b.jpg&amp;baseU=http%3A%2F%2Farduino.ru%2Fforum%2Fproekty%2Fgenerator-s-reguliruemoei-chastotoi-na-arduino" rel="nofollow" target="_blank"><img alt="" src="./Генератор с регулируемоей частотой на ардуино. _ Аппаратная платформа Arduino_files/44608078475_df2cfc9e22_b.jpg" style="width:300px;height:177px;"></a></p>
<p>-устранены мелкие недочёты в частотометре.</p>
<p>&nbsp;Схема как в <a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#comment-395540" rel="nofollow">версии 3.1</a> , без изменений.</p>
<p>Готовая <a href="http://out.arduino.ru/?redirect=https%3A%2F%2Fyadi.sk%2Fd%2Fy-xi5I5q1Gosew&amp;baseU=http%3A%2F%2Farduino.ru%2Fforum%2Fproekty%2Fgenerator-s-reguliruemoei-chastotoi-na-arduino" rel="nofollow" target="_blank">прошивка</a></p>
<p>Скетч:</p>
<div id="highlighter_825556" class="syntaxhighlighter collapsed  "><div class="bar"><div class="toolbar"><a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#expandSource" title="показать код" class="item expandSource" style="width: 16px; height: 16px;">показать код</a><a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#viewSource" title="код" class="item viewSource" style="width: 16px; height: 16px;">код</a><div class="item copyToClipboard"><embed width="16" height="16" id="highlighter_825556_clipboard" type="application/x-shockwave-flash" title="скопировать" allowscriptaccess="always" wmode="transparent" flashvars="highlighterId=highlighter_825556" menu="false" src="/sites/all/libraries/syntaxhighlighter/scripts/clipboard.swf"></div><a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#printSource" title="расечатать" class="item printSource" style="width: 16px; height: 16px;">расечатать</a><a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#about" title="?" class="item about" style="width: 16px; height: 16px;">?</a></div></div><div class="lines"><div class="line alt1"><table><tbody><tr><td class="number"><code>001</code></td><td class="content"><code class="comments">/*Генератор с регулируемой частотой v3.2 (C)Dimax */</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>002</code></td><td class="content"><code class="preprocessor">#define pwm2_polar 0 //полярность выхода PWM2</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>003</code></td><td class="content"><code class="preprocessor">#define paper&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0x000000 // цвет фона экрана</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>004</code></td><td class="content"><code class="preprocessor">#define DDSMAX 1E7 //максимальная частота для генератора DDS (удесятерённая)</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>005</code></td><td class="content"><code class="preprocessor">#define dds_mpl_72 835.05327478167234049174700635502 //множитель DDS для частоты F_CPU 72МГц</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>006</code></td><td class="content"><code class="comments">//для пересчёта множителя необходимо: частоту на экране * текущий множитель и разделить на фактически измеренную частоту</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>007</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="preprocessor">#define dds_mpl_128 469.7191655978919104715512499704&nbsp; //множитель DDS для&nbsp; частоты F_CPU 128Mhz</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>008</code></td><td class="content"><code class="preprocessor">#define enc_on()&nbsp; timer_attach_interrupt(TIMER4, TIMER_UPDATE_INTERRUPT, enc_int); </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>009</code></td><td class="content"><code class="preprocessor">#define enc_off()&nbsp; timer_detach_interrupt(TIMER4, TIMER_UPDATE_INTERRUPT); </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>010</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="preprocessor">#include &lt;Adafruit_ST7735.h&gt; // Hardware-specific library</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>011</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="preprocessor">#include &lt;SPI.h&gt; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>012</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="preprocessor">#include "si5351.h"</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>013</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="preprocessor">#include &lt;Wire.h&gt; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>014</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">Adafruit_ST7735 tft = Adafruit_ST7735(PB12, PB11,PB10); </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>015</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">Si5351 si5351;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>016</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">boolean si5351_found=0;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>017</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">volatile </code><code class="keyword">int</code> <code class="plain">enc_tic=0, duty_in=50, mon_flag, divider, modebit=1;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>018</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">volatile </code><code class="keyword">int</code> <code class="plain">mode=1;</code><code class="comments">// 0- GEN_si5351, 1-PWM, 2-Duty, 3..7 DDS, 8-Freqmeter </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>019</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">volatile </code><code class="keyword">int</code> <code class="plain">encstep=10; </code><code class="comments">//шаг изменения частоты по умолчанию (желаемый *10)</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>020</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">volatile int32_t freq=10000; </code><code class="comments">//частота по умолчанию (желаемая *10)</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>021</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain">volatile </code><code class="keyword">float</code> <code class="plain">duty_out;</code><code class="comments">// переменная счёта скважности</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>022</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="keyword">float</code> <code class="plain">t_hi, t_low; </code><code class="comments">//переменные счёта длины импульсов </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>023</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="plain">uint8_t wave[512]; </code><code class="comments">//массив для DDS синтеза</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>024</code></td><td class="content"><code class="plain">uint8_t sine_logo[] __FLASH__ ={25,27,28,30,31,33,34,36,37,38,40,41,42,43,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>025</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">44,45,46,47,48,48,49,49,50,50,50,50,50,50,50,49,49,48,48,47,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>026</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain">46,45,44,43,42,41,40,38,37,36,34,33,31,30,28,27,25,23,22,20,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>027</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">19,17,16,14,13,12,10,9,8,7,6,5,4,3,2,2,1,1,0,0,0,0,0,0,0,1,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>028</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">1,2,2,3,4,5,6,7,8,9,10,12,13,14,16,17,19,20,22,23};</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>029</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>030</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">void</code> <code class="keyword">setup</code><code class="plain">() {</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>031</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">delay(100);</code><code class="comments">// пауза для дисплея</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>032</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">SPI.setModule(2);</code><code class="comments">// выбор SPI2</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>033</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.initR(INITR_BLACKTAB);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>034</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.setRotation(3);</code><code class="comments">//дисплей горизонтально, контакты слева</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>035</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.fillScreen(paper);</code><code class="comments">//залить цветом по умолчанию</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>036</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.setTextWrap(0);</code><code class="comments">//не переносить строки</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>037</code></td><td class="content"><code class="keyword">Serial</code><code class="plain">.end();</code><code class="comments">// дефолтовый сериал не нужен</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>038</code></td><td class="content"><code class="plain">nvic_irq_disable_all();</code><code class="comments">//отключить все прерывания </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>039</code></td><td class="content"><code class="plain">systick_disable(); </code><code class="comments">// отключить системный таймер</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>040</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="plain">RCC_BASE-&gt;APB1ENR|= (1&lt;&lt;2)|(1&lt;&lt;1)|(1&lt;&lt;0); </code><code class="comments">//включить тактирование tim-2,3,4</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>041</code></td><td class="content"><code class="plain">RCC_BASE-&gt;APB2ENR|= (1&lt;&lt;3)|(1&lt;&lt;11)|(1&lt;&lt;2)|(1&lt;&lt;0)|(1&lt;&lt;4);</code><code class="color1">////включить тактирование port-a-b-c,tim1</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>042</code></td><td class="content"><code class="plain">AFIO_BASE-&gt;MAPR|=(1&lt;&lt;8)|(1&lt;&lt;6); </code><code class="comments">//tim 1 &amp;&amp; tim 2 Partial remap</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>043</code></td><td class="content"><code class="plain">i2c_master_enable(I2C1, I2C_REMAP); </code><code class="comments">//SDA PB9, SCL PB8</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>044</code></td><td class="content"><code class="plain">Wire.begin();</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>045</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="plain">si5351_found = si5351.init(SI5351_CRYSTAL_LOAD_8PF, 0, 0);</code><code class="comments">//если нашёлся si5351 поднимается флажок</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>046</code></td><td class="content"><code class="comments">// if (si5351_found) { si5351.set_freq(16E6*SI5351_FREQ_MULT, SI5351_CLK1);// фиксированная частота с выхода 1</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>047</code></td><td class="content"><code class="comments">// si5351.set_freq(20E6*SI5351_FREQ_MULT, SI5351_CLK2); }//фиксированная частота с выхода 2</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>048</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">pinMode(PB0,PWM); </code><code class="comments">//buzzer</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>049</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain">pinMode(PB1,INPUT_PULLUP);</code><code class="comments">//key encoder</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>050</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">pinMode(PB3,OUTPUT); </code><code class="comments">//мультиплексор</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>051</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">pinMode(PB4,OUTPUT); </code><code class="comments">//мультиплексор</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>052</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">pinMode(PB6,INPUT_PULLUP);</code><code class="comments">//encoder</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>053</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">pinMode(PB7,INPUT_PULLUP);</code><code class="comments">//encoder</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>054</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">mytone(1000,50);</code><code class="comments">//сигнал после старта</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>055</code></td><td class="content"><code class="color1">///////// Таймер4 -обработчик энкодера&nbsp;&nbsp;&nbsp;&nbsp; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>056</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER4_BASE-&gt;CR1=(1&lt;&lt;2)|(1&lt;&lt;9);</code><code class="comments">//CKD10 URS</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>057</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER4_BASE-&gt;CCMR1=0xf1f1; (1&lt;&lt;0)|(1&lt;&lt;8 );</code><code class="comments">//cc1s, cc2s input mapped TI1/TI2</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>058</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER4_BASE-&gt;CCER=(1&lt;&lt;1)|(1&lt;&lt;5)|(1&lt;&lt;0)|(1&lt;&lt;4);</code><code class="comments">//Capture/Compare 1,2 output polarity</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>059</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER4_BASE-&gt;SMCR=(1&lt;&lt;1)|(1&lt;&lt;0);</code><code class="comments">//Encoder mode3(SMS bit)стр.407</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>060</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER4_BASE-&gt;CNT=0;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>061</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">TIMER4_BASE-&gt;ARR=1;</code><code class="comments">//ограничение счёта ( =3 для двухимпульсного энкодера)</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>062</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">TIMER4_BASE-&gt;SR=0; TIMER4_BASE-&gt;EGR=1; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>063</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="plain">enc_on();</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>064</code></td><td class="content"><code class="plain">TIMER4_BASE-&gt;CR1|=(1&lt;&lt;0);</code><code class="comments">//запуск </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>065</code></td><td class="content"><code class="comments">//прерывание кнопки энкодера</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>066</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="plain">attachInterrupt(PB1, key_enc_int, RISING);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>067</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="keyword">if</code> <code class="plain">(mode==1){ timer_set(0); }</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>068</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>069</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>070</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>071</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>072</code></td><td class="content"><code class="keyword">void</code> <code class="keyword">loop</code><code class="plain">() {</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>073</code></td><td class="content"><code class="keyword">static</code> <code class="keyword">int</code> <code class="plain">old_mode_loop=-1;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>074</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(mode!=old_mode_loop) {</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>075</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.fillScreen(paper); old_mode_loop=mode; mon_flag=1;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>076</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code><code class="comments">//чистить полностью экран только при смене режимов</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>077</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">comm();</code><code class="comments">//коммутация выходов мультиплексором</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>078</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(mode==8) {mon_out(); freq_meter();&nbsp; }</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>079</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(mode &gt;2 &amp;&amp; mode&lt;8) { mon_out();&nbsp; dds_set(); } </code><code class="comments">// запуск DDS режимов</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>080</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="keyword">if</code> <code class="plain">(mon_flag) { mon_out();} </code><code class="comments">//в остальных ситуациях при наличии флага вывода на дисплей </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>081</code></td><td class="content"><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>082</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code>&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>083</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>084</code></td><td class="content"><code class="keyword">void</code> <code class="plain">freq_meter(){</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>085</code></td><td class="content"><code class="color1">/////////////////////счётчик импульсов</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>086</code></td><td class="content"><code class="plain">pinMode(PA15,INPUT_PULLDOWN); </code><code class="comments">// вход частотометра</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>087</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="plain">uint32_t imp_long,imp_hi;</code><code class="comments">//переменные измерения длины такта</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>088</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain">__asm volatile( </code><code class="string">"cpsid i"</code> <code class="plain">);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>089</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="color1">/// Timer2 счёт младших 16 бит</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>090</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER2_BASE-&gt;CR1=0;</code><code class="comments">//стоп таймер</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>091</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER2_BASE-&gt;CCER=0; TIMER2_BASE-&gt;PSC=0;&nbsp; TIMER2_BASE-&gt;CNT=0; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>092</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER2_BASE-&gt;CCR1=0; TIMER2_BASE-&gt;CCR2=0; TIMER2_BASE-&gt;CCR3=0; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>093</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER2_BASE-&gt;CCR4=0;TIMER2_BASE-&gt;PSC=0;TIMER2_BASE-&gt;SR=0;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>094</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER2_BASE-&gt;CCMR2=0;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>095</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER2_BASE-&gt;CR2=1&lt;&lt;5; </code><code class="comments">//MMS:010 управление подчинённым в режиме "Update" </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>096</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER2_BASE-&gt;SMCR= (1&lt;&lt;14);</code><code class="comments">// ECE &amp; TS:000&nbsp; режим 2 внешнего тактирования &amp; разрешение работы от таймера1</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>097</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER2_BASE-&gt;ARR=65535; </code><code class="comments">//считать до максимума</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>098</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER2_BASE-&gt;EGR=1; </code><code class="comments">//перечитать регистры.</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>099</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER2_BASE-&gt;CR1|=(1&lt;&lt;0);</code><code class="comments">//start timer2</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>100</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="color1">/// Timer3 счёт старших 16 бит</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>101</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER3_BASE-&gt;CR1=1&lt;&lt;0;</code><code class="comments">//стоп таймер</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>102</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER3_BASE-&gt;CCER=0; TIMER3_BASE-&gt;PSC=0; TIMER3_BASE-&gt;CNT=0; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>103</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER3_BASE-&gt;CCR1=0; TIMER3_BASE-&gt;CCR2=0; TIMER3_BASE-&gt;CCR3=0; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>104</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">TIMER3_BASE-&gt;CCR4=0;TIMER3_BASE-&gt;PSC=0;TIMER3_BASE-&gt;SR=0;TIMER3_BASE-&gt;CR2=0;&nbsp; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>105</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="plain">TIMER3_BASE-&gt;CCMR1=0; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>106</code></td><td class="content"><code class="plain">TIMER3_BASE-&gt;SMCR=(1&lt;&lt;2)|(1&lt;&lt;1)|(1&lt;&lt;0)|(1&lt;&lt;4);</code><code class="comments">//SMS:111 &amp;&amp; TS:001&nbsp; такт брать от 2-го таймера&nbsp; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>107</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="plain">TIMER3_BASE-&gt;ARR=65535; </code><code class="comments">//считать до </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>108</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">TIMER3_BASE-&gt;EGR=1; </code><code class="comments">//перечитать регистры.</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>109</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER3_BASE-&gt;CR1|=(1&lt;&lt;0);</code><code class="comments">//start timer3</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>110</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="color1">/// настройка времени разрешения на таймере1 для таймера2</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>111</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER1_BASE-&gt;CR1=(1&lt;&lt;3)|(1&lt;&lt;2);</code><code class="comments">//один импульс, без прерываний</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>112</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER1_BASE-&gt;CNT=0;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>113</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER1_BASE-&gt;CR2=(1&lt;&lt;4);&nbsp; </code><code class="comments">//MMS:001 сигнал разрешения работы другим таймерам</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>114</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER1_BASE-&gt;CCER=0;</code><code class="comments">// отключить выходы таймера на физ ноги</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>115</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER1_BASE-&gt;PSC=F_CPU/36000 -1;</code><code class="comments">// 1999; // 72000000/2000= 36000кГц тактовая таймера </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>116</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER1_BASE-&gt;ARR=35999;</code><code class="comments">//считать до 36000 (1секунда) </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>117</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER1_BASE-&gt;EGR=1; </code><code class="comments">//перечитать регистры.</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>118</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER1_BASE-&gt;CR1|=(1&lt;&lt;0);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>119</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">__asm volatile( </code><code class="string">"cpsie i"</code> <code class="plain">);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>120</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">while</code> <code class="plain">(TIMER1_BASE-&gt;CR1&amp;1) {asm volatile(</code><code class="string">"nop"</code><code class="plain">); </code><code class="keyword">if</code><code class="plain">(mon_flag) {</code><code class="keyword">return</code><code class="plain">;}&nbsp; }</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>121</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">freq=&nbsp; TIMER3_BASE-&gt;CNT&lt;&lt;16&nbsp; | TIMER2_BASE-&gt;CNT ; </code><code class="comments">//частота не удесятерённая</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>122</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(freq&gt;1E5){freq*=10; t_low=0;t_hi=0; duty_out=0; mon_flag=1; </code><code class="keyword">return</code><code class="plain">;} </code><code class="comments">//выйти если freq больше 100кГц</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>123</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="comments">// Перенастройка таймера 2 в режии измерения длительности импульса и скважности для частот менее 100 кГц</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>124</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="plain">divider=1;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>125</code></td><td class="content"><code class="keyword">while</code> <code class="plain">((F_CPU/divider/((freq&gt;0)? freq : 1 )) &gt; 65000) {divider++;}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>126</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="plain">__asm volatile( </code><code class="string">"cpsid i"</code> <code class="plain">);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>127</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">TIMER2_BASE-&gt;CR1=0;</code><code class="comments">//стоп таймер</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>128</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER2_BASE-&gt;CCER=0; TIMER2_BASE-&gt;PSC=0;&nbsp; TIMER2_BASE-&gt;CNT=0; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>129</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER2_BASE-&gt;CCR1=0; TIMER2_BASE-&gt;CCR2=0; TIMER2_BASE-&gt;CCR3=0; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>130</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER2_BASE-&gt;CCR4=0;TIMER2_BASE-&gt;PSC=0;TIMER2_BASE-&gt;SR=0;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>131</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER2_BASE-&gt;CCMR2=0;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>132</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER2_BASE-&gt;CR2=0;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>133</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER2_BASE-&gt;PSC= divider-1;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>134</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER2_BASE-&gt;SMCR=(1&lt;&lt;4)|(1&lt;&lt;6)|(1&lt;&lt;2);</code><code class="comments">// TS:101 SMS:100&nbsp; вход TI1FP1&nbsp; , Режим сброса</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>135</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER2_BASE-&gt;CCMR1=(1&lt;&lt;0)|(1&lt;&lt;9);</code><code class="comments">//CC1 input,mapped on TI1, CC2 input,mapped on TI1</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>136</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER2_BASE-&gt;CCER=(1&lt;&lt;5)|(1&lt;&lt;0)|(1&lt;&lt;4);</code><code class="comments">//cc1-Hi,cc2-lo </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>137</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER2_BASE-&gt;EGR=1; </code><code class="comments">//перечитать регистры.</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>138</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="color1">/// настройка таймера1 для счёта&nbsp; тайм-аута при измерения PWM </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>139</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER1_BASE-&gt;CR1=(1&lt;&lt;3);</code><code class="comments">//один импульс, без прерываний</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>140</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER1_BASE-&gt;CNT=0; TIMER1_BASE-&gt;CR2=0;&nbsp; TIMER1_BASE-&gt;CCER=0;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>141</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER1_BASE-&gt;PSC=F_CPU/15625 -1; </code><code class="comments">// тактовая таймера 15625 Герц </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>142</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER1_BASE-&gt;ARR=31250;</code><code class="comments">//считать до 31250 (2 секунды) </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>143</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER1_BASE-&gt;EGR=1; </code><code class="comments">//перечитать регистры.</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>144</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">timer_attach_interrupt(TIMER1, TIMER_UPDATE_INTERRUPT, myint);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>145</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER1_BASE-&gt;CR1|=(1&lt;&lt;0);</code><code class="comments">// старт счёта 2х секунд&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>146</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">__asm volatile( </code><code class="string">"cpsie i"</code> <code class="plain">);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>147</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER2_BASE-&gt;CR1=(1&lt;&lt;0);</code><code class="comments">// старт захвата PWM</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>148</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">while</code><code class="plain">( (TIMER2_BASE-&gt;SR&amp;0x65F)!=0x65F) {</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>149</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">asm volatile(</code><code class="string">"nop"</code><code class="plain">); </code><code class="keyword">if</code><code class="plain">(mon_flag) {timer_detach_interrupt(TIMER1, TIMER_UPDATE_INTERRUPT); </code><code class="keyword">return</code><code class="plain">;} }</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>150</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER2_BASE-&gt;CR1=0;</code><code class="comments">// стоп таймер</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>151</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain">timer_detach_interrupt(TIMER1, TIMER_UPDATE_INTERRUPT);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>152</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain">imp_long=(uint32_t) ((TIMER2_BASE-&gt;CCR1)*divider);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>153</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">imp_hi=(uint32_t)&nbsp; ((TIMER2_BASE-&gt;CCR2)*divider);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>154</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="keyword">if</code> <code class="plain">(freq &lt;1000){ freq= F_CPU*10 /imp_long ;} </code><code class="comments">//если freq Менее 1кГц то использовать данные второго НЧ-измерения частоты (*10)</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>155</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="keyword">else</code> <code class="plain">{freq*=10; } </code><code class="comments">//иначе просто удесятерить результат для корректного вывода информации. </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>156</code></td><td class="content"><code class="plain">duty_out=&nbsp; (</code><code class="keyword">float</code><code class="plain">) imp_hi / (imp_long / 100.0) ;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>157</code></td><td class="content"><code class="keyword">if</code> <code class="plain">(duty_out &gt; 100 || duty_out &lt; 0) {duty_out=0;} </code><code class="comments">// на всякий случай ограничение</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>158</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="plain">t_low= (</code><code class="keyword">double</code><code class="plain">)(imp_long-imp_hi) / (F_CPU/1E6) ;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>159</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">t_hi=&nbsp; (</code><code class="keyword">double</code><code class="plain">) imp_hi /(F_CPU/1E6);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>160</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain">mon_flag=1;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>161</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain">} </code><code class="comments">//END freq meter</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>162</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>163</code></td><td class="content"><code class="comments">// прерывание тайм-аута при отсутствиии сигнала на входе при измерении PWM </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>164</code></td><td class="content"><code class="keyword">void</code> <code class="plain">myint(){ mon_flag=1; t_low=0; t_hi=0; duty_out=0;&nbsp; freq=0; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>165</code></td><td class="content"><code class="plain">timer_detach_interrupt(TIMER1, TIMER_UPDATE_INTERRUPT);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>166</code></td><td class="content"><code class="plain">} </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>167</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>168</code></td><td class="content"><code class="color1">///////////////////////////////////////////////////////////////////////////</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>169</code></td><td class="content"><code class="color1">/////////*********** ВЫВОД НА ДИСПЛЕЙ************//////////////////////////</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>170</code></td><td class="content"><code class="color1">///////////////////////////////////////////////////////////////////////////</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>171</code></td><td class="content"><code class="keyword">void</code> <code class="plain">mon_out(){</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>172</code></td><td class="content"><code class="keyword">char</code> <code class="plain">mybuf[15];</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>173</code></td><td class="content"><code class="comments">//************** Вывод первой строчки*****************************</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>174</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">tft.setCursor(0, 0); </code><code class="comments">//&nbsp; вперёд, вниз</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>175</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.setTextColor(ST7735_GREEN, paper);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>176</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.setTextSize(2);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>177</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">switch</code><code class="plain">(mode){ </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>178</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">0: tft.print(</code><code class="string">"&nbsp; Clock Gen&nbsp; "</code><code class="plain">);&nbsp; </code><code class="keyword">break</code><code class="plain">;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>179</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">1: tft.print(</code><code class="string">"&nbsp; PWM Mode&nbsp;&nbsp; "</code><code class="plain">); </code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>180</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">2: tft.print(</code><code class="string">"&nbsp; Duty Mode&nbsp; "</code><code class="plain">); </code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>181</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">3: tft.print(</code><code class="string">"&nbsp; Sinus DDS&nbsp; "</code><code class="plain">); </code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>182</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">4: tft.print(</code><code class="string">" Triangle DDS"</code><code class="plain">); </code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>183</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">5: tft.print(</code><code class="string">"&nbsp; Pila1 DDS&nbsp; "</code><code class="plain">); </code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>184</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">6: tft.print(</code><code class="string">"&nbsp; Pila2 DDS&nbsp; "</code><code class="plain">); </code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>185</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">7: tft.print(</code><code class="string">"&nbsp; Meandr DDS "</code><code class="plain">); </code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>186</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">8: tft.print(</code><code class="string">" Freq. meter "</code><code class="plain">); </code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>187</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>188</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="comments">//*****************Вывод второй строчки*****************************</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>189</code></td><td class="content"><code class="plain">tft.setTextColor(ST7735_WHITE, paper); </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>190</code></td><td class="content"><code class="plain">tft.setCursor(0, 19); tft.setTextSize(3);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>191</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="keyword">if</code> <code class="plain">(freq&gt;=1E8) {tft.print(</code><code class="string">"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "</code><code class="plain">);&nbsp;&nbsp; tft.setTextSize(2);tft.setCursor(0, 21);}&nbsp;&nbsp;&nbsp; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>192</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(freq&lt;10) {sprintf(mybuf,</code><code class="string">"&nbsp;&nbsp; 0,%d&nbsp;&nbsp; "</code><code class="plain">, freq );}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="comments">//9 -&gt; 0,9</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>193</code></td><td class="content"><code class="keyword">else</code> <code class="keyword">if</code> <code class="plain">(freq&lt;100){sprintf(mybuf,</code><code class="string">"&nbsp;&nbsp; %d,%d&nbsp;&nbsp; "</code><code class="plain">, freq/10, freq%10 );}&nbsp;&nbsp; </code><code class="comments">//99 -&gt; 9,9&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>194</code></td><td class="content"><code class="keyword">else</code> <code class="keyword">if</code> <code class="plain">(freq&lt;1E3){sprintf(mybuf,</code><code class="string">"&nbsp;&nbsp; %d,%d&nbsp; "</code><code class="plain">, freq/10, freq%10 );}&nbsp;&nbsp;&nbsp; </code><code class="comments">//999 -&gt; 99,9&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>195</code></td><td class="content"><code class="keyword">else</code> <code class="keyword">if</code> <code class="plain">(freq&lt;1E4){sprintf(mybuf,</code><code class="string">"&nbsp; %d,%d&nbsp; "</code><code class="plain">, freq/10, freq%10 );}&nbsp;&nbsp;&nbsp; </code><code class="comments">//9999 -&gt; 999,9&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>196</code></td><td class="content"><code class="keyword">else</code> <code class="keyword">if</code> <code class="plain">(freq&lt;1E5){sprintf(mybuf,</code><code class="string">"&nbsp; %ld %03ld&nbsp; "</code><code class="plain">, freq/10000, (freq/10)%1000 );} </code><code class="comments">//99999 -&gt; 9.999&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>197</code></td><td class="content"><code class="keyword">else</code> <code class="keyword">if</code> <code class="plain">(freq&lt;1E6){sprintf(mybuf,</code><code class="string">"&nbsp; %ld %03ld "</code><code class="plain">, freq/10000, (freq/10)%1000 );}&nbsp; </code><code class="comments">//999999 -&gt; 99.999&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>198</code></td><td class="content"><code class="keyword">else</code> <code class="keyword">if</code> <code class="plain">(freq&lt;1E7){sprintf(mybuf,</code><code class="string">" %ld %03ld "</code><code class="plain">, freq/10000, (freq/10)%1000 );} </code><code class="comments">//999999 -&gt; 999.999&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>199</code></td><td class="content"><code class="keyword">else</code> <code class="keyword">if</code> <code class="plain">(freq&lt;1E8){sprintf(mybuf,</code><code class="string">"%ld %03ld %03ld"</code><code class="plain">, freq/10000000, (freq%10000000)/10000, (freq%10000)/10&nbsp; );} </code><code class="comments">//9999999 -&gt; 9.999.999&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>200</code></td><td class="content"><code class="keyword">else</code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <code class="plain">{sprintf(mybuf,</code><code class="string">"%3ld %03ld %03ld"</code><code class="plain">, freq/10000000, (freq%10000000)/10000, (freq%10000)/10&nbsp; );} </code><code class="comments">//99999999 -&gt; 99.999.999&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>201</code></td><td class="content"><code class="plain">tft.print(mybuf);&nbsp;&nbsp;&nbsp; </code><code class="comments">//вывод частоты</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>202</code></td><td class="content"><code class="comments">//Serial.println(mybuf);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>203</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="comments">//********************Вывод третьей строчки*****************************</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>204</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.setTextSize(3); </code><code class="comments">//крупно</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>205</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.setCursor(50, 43); </code><code class="comments">//&nbsp; вперёд, вниз</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>206</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.setTextColor(ST7735_RED,paper);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>207</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.print(</code><code class="string">"Herz"</code><code class="plain">);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>208</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="comments">//********************* "осциллограммы"******************************</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>209</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.fillRect(5,90, 100,38,paper);</code><code class="comments">// зачистка пяточка (вправо, вниз, ширина вправо, длина вниз)</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>210</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.drawRect(0,67, 160,61,ST7735_MAGENTA);</code><code class="comments">//вправо, вниз, ширина вправо, длина вниз</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>211</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(mode==1 ||mode==2 || mode==8){</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>212</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.drawFastVLine(5, 90, 30, ST7735_CYAN); </code><code class="comments">// восход фронта статическая вер линия</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>213</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.drawFastHLine(5, 91, (</code><code class="keyword">int</code><code class="plain">)duty_out, ST7735_YELLOW);</code><code class="comments">//длина единицы</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>214</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.drawFastHLine(5, 90, (</code><code class="keyword">int</code><code class="plain">)duty_out, ST7735_YELLOW);</code><code class="comments">//паралельная линия для выделения</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>215</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.drawFastVLine((</code><code class="keyword">int</code><code class="plain">)duty_out+5, 91, 30, ST7735_YELLOW);</code><code class="comments">// спад</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>216</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.drawFastVLine((</code><code class="keyword">int</code><code class="plain">)duty_out+4, 90, 30, ST7735_YELLOW);</code><code class="comments">//паралельная линия для выделения</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>217</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.drawFastVLine(105, 90, 30, ST7735_YELLOW);</code><code class="comments">//спад конец такта статическая вер. линия</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>218</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.drawFastVLine(104, 90, 30, ST7735_YELLOW);</code><code class="comments">//паралельная линия для выделения</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>219</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.drawFastHLine((</code><code class="keyword">int</code><code class="plain">)duty_out+5, 120, (100-(</code><code class="keyword">int</code><code class="plain">)duty_out), ST7735_YELLOW);</code><code class="comments">//линия единицы 2-го такта</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>220</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.drawFastHLine((</code><code class="keyword">int</code><code class="plain">)duty_out+5, 119, (100-(</code><code class="keyword">int</code><code class="plain">)duty_out), ST7735_YELLOW);</code><code class="comments">//паралельная линия для выделения</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>221</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>222</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(mode==3){ </code><code class="comments">// логотип синуса</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>223</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">for</code><code class="plain">(uint8_t n=0; n&lt;100; n++){tft.drawPixel(5+n, 73+ sine_logo[n],ST7735_YELLOW);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>224</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">} </code><code class="comments">//END&nbsp; for</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>225</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">} </code><code class="comments">// END if (mode==3)</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>226</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">else</code> <code class="keyword">if</code> <code class="plain">(mode==4){</code><code class="comments">// логотип треугольника&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>227</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.drawLine(5,98,30,73,ST7735_YELLOW);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>228</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.drawLine(30,73,80,123,ST7735_YELLOW);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>229</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.drawLine(80,123,105,98,ST7735_YELLOW); </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>230</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">} </code><code class="comments">//END&nbsp; mode==4</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>231</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">else</code> <code class="keyword">if</code> <code class="plain">(mode==5){ </code><code class="comments">//логотип пилы1</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>232</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.drawLine(5,123,105,73,ST7735_YELLOW);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>233</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.drawFastVLine(105, 73, 50, ST7735_YELLOW);</code><code class="comments">//спад конец такта статическая вер. линия</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>234</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">} </code><code class="comments">//END&nbsp; if (mode==5)</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>235</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">else</code> <code class="keyword">if</code> <code class="plain">(mode==6){</code><code class="comments">//логотип пилы2</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>236</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.drawFastVLine(5, 73, 50, ST7735_YELLOW); </code><code class="comments">// восход фронта статическая вер линия </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>237</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.drawLine(5,73,105,123,ST7735_YELLOW);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>238</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code><code class="comments">// END&nbsp; if (mode==6)</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>239</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">else</code> <code class="keyword">if</code> <code class="plain">(mode==7 || mode==0){ </code><code class="comments">//логотип меандра</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>240</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.drawFastVLine(5,73,25,ST7735_YELLOW);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>241</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.drawFastHLine(5,73,50,ST7735_YELLOW);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>242</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.drawFastVLine(55,73,50,ST7735_YELLOW);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>243</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.drawFastHLine(55,123,50,ST7735_YELLOW);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>244</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.drawFastVLine(105,98,25,ST7735_YELLOW);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>245</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>246</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="comments">//*********************** характеристики сигнала****************************************</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>247</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.setCursor(5, 70); </code><code class="comments">//&nbsp; вперёд, вниз</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>248</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.setTextColor(ST7735_WHITE, paper);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>249</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.setTextSize(1);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>250</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(mode==1 ||mode==2 || mode==8){</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>251</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.print(</code><code class="string">"+Width="</code><code class="plain">); </code><code class="keyword">if</code> <code class="plain">(t_hi&lt;1E3) {tft.print(t_hi); tft.print(</code><code class="string">" uS&nbsp; "</code><code class="plain">);} </code><code class="keyword">else</code> <code class="plain">{tft.print(t_hi/1000); tft.print(</code><code class="string">" mS&nbsp; "</code><code class="plain">);}&nbsp; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>252</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.setCursor(5, 80); </code><code class="comments">//&nbsp; вперёд, вниз</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>253</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.print(</code><code class="string">"-Width="</code><code class="plain">); </code><code class="keyword">if</code> <code class="plain">(t_low&lt;1E3) {tft.print(t_low); tft.print(</code><code class="string">" uS&nbsp; "</code><code class="plain">);} </code><code class="keyword">else</code> <code class="plain">{tft.print(t_low/1000); tft.print(</code><code class="string">" mS&nbsp; "</code><code class="plain">);}&nbsp; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>254</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.setCursor(114, 70); tft.print(</code><code class="string">"Duty="</code><code class="plain">);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>255</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.setCursor(114, 80); tft.print(duty_out,0);tft.print(</code><code class="string">" %&nbsp;&nbsp; "</code><code class="plain">);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>256</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">} </code><code class="comments">//END if (mode &lt; 2 || mode==8)</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>257</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(mode!=8){ </code><code class="comments">// выводить шаг кроме частотометра</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>258</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.setCursor(114, 95); tft.print(</code><code class="string">"Step="</code><code class="plain">);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>259</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tft.setCursor(114, 105); </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>260</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">switch</code> <code class="plain">(encstep) { </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>261</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">1: tft.print(</code><code class="string">" 0,1"</code><code class="plain">); </code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>262</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">10: tft.print(</code><code class="string">"&nbsp;&nbsp; 1"</code><code class="plain">); </code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>263</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">100: tft.print(</code><code class="string">"&nbsp; 10"</code><code class="plain">); </code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>264</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">1E3: tft.print(</code><code class="string">" 100"</code><code class="plain">);</code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>265</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">1E4: tft.print(</code><code class="string">" 1E3"</code><code class="plain">);</code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>266</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">1E5:&nbsp; tft.print(</code><code class="string">" 1E4"</code><code class="plain">);</code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>267</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">1E6:&nbsp; tft.print(</code><code class="string">" 1E5"</code><code class="plain">);</code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>268</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">1E7:&nbsp; tft.print(</code><code class="string">" 1E6"</code><code class="plain">);</code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>269</code></td><td class="content"><code class="spaces">&nbsp;</code>&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>270</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code><code class="comments">// END switch case&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>271</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">} </code><code class="comments">// END if (mode!=8)</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>272</code></td><td class="content"><code class="comments">//if ( freq &lt; 1)&nbsp; {tft.fillRect(1,68, 158,59,paper); }</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>273</code></td><td class="content"><code class="plain">mon_flag=0;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>274</code></td><td class="content"><code class="plain">enc_on();</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>275</code></td><td class="content"><code class="plain">}</code><code class="comments">//END mon_out</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>276</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>277</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>278</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>279</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>280</code></td><td class="content"><code class="comments">//обработчик прерываний энкодера</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>281</code></td><td class="content"><code class="keyword">void</code> <code class="plain">enc_int(){&nbsp;&nbsp; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>282</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="keyword">if</code><code class="plain">((TIMER4_BASE-&gt;CR1)&amp;1&lt;&lt;4) {enc_mode(1);} </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>283</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="keyword">else</code> <code class="plain">{enc_mode(-1);} </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>284</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="plain">enc_off();</code><code class="comments">//выключить энкодер</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>285</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">}</code><code class="comments">// END VOID</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>286</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>287</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>288</code></td><td class="content"><code class="comments">// ФУНКЦИЯ конфигурации режимов </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>289</code></td><td class="content"><code class="keyword">void</code> <code class="plain">enc_mode(</code><code class="keyword">int</code> <code class="keyword">in</code><code class="plain">){</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>290</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">modebit= (GPIOB_BASE-&gt;IDR&amp;2); </code><code class="comments">//состояние кнопки PB1. 0-нажата </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>291</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(!modebit) {</code><code class="comments">// если сейчас идёт переключение режимов </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>292</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">mytone(880,30); </code><code class="comments">//звук переключения режимов</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>293</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">mode+=</code><code class="keyword">in</code><code class="plain">; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>294</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code><code class="plain">(mode&gt;8){mode=8;}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>295</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(si5351_found) { </code><code class="keyword">if</code><code class="plain">(mode&lt;0){mode=0;}&nbsp; } </code><code class="keyword">else</code> <code class="plain">{ </code><code class="keyword">if</code><code class="plain">(mode&lt;1){mode=1;} }</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>296</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(mode==1 || mode==2 ){timer_set(0);}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>297</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(mode==0){clock_gen();}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>298</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(mode==8) {freq=0;}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>299</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(mode &gt;2 &amp;&amp; mode !=8) {</code><code class="keyword">if</code> <code class="plain">(freq&gt;DDSMAX) {freq=DDSMAX;} }</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>300</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">mon_flag=1; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>301</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">return</code><code class="plain">; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>302</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">} </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>303</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">mytone(4400,10); </code><code class="comments">//звук изменения частоты</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>304</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">switch</code><code class="plain">(mode){ </code><code class="comments">//если сейчас идёт изменение частоты</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>305</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">0:&nbsp; freq+=(encstep*</code><code class="keyword">in</code><code class="plain">); clock_gen(); </code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>306</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">1:&nbsp;&nbsp; timer_set(</code><code class="keyword">in</code><code class="plain">); </code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>307</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">2:&nbsp;&nbsp; duty_in+=</code><code class="keyword">in</code><code class="plain">; timer_set(0);&nbsp; </code><code class="keyword">break</code><code class="plain">;&nbsp; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>308</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">8:&nbsp;&nbsp; </code><code class="keyword">break</code><code class="plain">; </code><code class="comments">// в частотометре не реагировать на вращение энкодера </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>309</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="keyword">default</code><code class="plain">: freq+=(encstep*</code><code class="keyword">in</code><code class="plain">); </code><code class="keyword">if</code> <code class="plain">(freq&gt;DDSMAX) {freq=DDSMAX;}&nbsp; mon_flag=1; </code><code class="comments">//DDS режимы</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>310</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">} </code><code class="comments">//end switch case</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>311</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="keyword">if</code> <code class="plain">(freq&lt;0){freq=0;}&nbsp;&nbsp; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>312</code></td><td class="content"><code class="plain">}</code><code class="comments">//end enc_mode</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>313</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>314</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>315</code></td><td class="content"><code class="comments">// обработчик кнопки энкодера</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>316</code></td><td class="content"><code class="keyword">void</code> <code class="plain">key_enc_int(){</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>317</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="keyword">if</code><code class="plain">(!modebit){modebit=1; enc_step_control() ;</code><code class="keyword">return</code><code class="plain">;}</code><code class="comments">// если менялся режим -выйти&nbsp; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>318</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(mode==2) { mytone(880,30); mode=1; enc_step_control() ; </code><code class="keyword">return</code><code class="plain">;} </code><code class="comments">//сменить режим и выйти если были в duty mode</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>319</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">mytone(220,75); </code><code class="comments">//звук переключения шага</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>320</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">encstep*=10;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>321</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">enc_step_control();</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>322</code></td><td class="content"><code class="plain">}</code><code class="comments">//end </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>323</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>324</code></td><td class="content"><code class="keyword">void</code> <code class="plain">enc_step_control(){ </code><code class="comments">//ограничение шага в зависимости от режимов и частот</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>325</code></td><td class="content"><code class="comments">// для CLOCK режима если&nbsp; шаг более 1 МГц то шаг сбросить на 0,1 или 1 Герц (зацикливание переключений)</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>326</code></td><td class="content"><code class="keyword">if</code> <code class="plain">(mode==0 &amp;&amp;&nbsp; encstep &gt;1E7) {encstep=1;} </code><code class="comments">// Для CLOCK режима макс шаг 1МГц</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>327</code></td><td class="content"><code class="keyword">if</code> <code class="plain">(mode==1 &amp;&amp; encstep &gt;1E5) {encstep=1;} </code><code class="comments">//для PWM макс шаг 10 000 Гц</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>328</code></td><td class="content"><code class="keyword">if</code> <code class="plain">(mode&gt;2 &amp;&amp;&nbsp; encstep &gt;1E6) {encstep=1;} </code><code class="comments">//для DDS&nbsp; макс шаг 100 000 Гц</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>329</code></td><td class="content"><code class="keyword">if</code> <code class="plain">(encstep==1 &amp;&amp; freq &gt;=10000 ) encstep=10;</code><code class="comments">// менять шаг 0,1 Гц -&gt; 1Гц&nbsp; на частотах выше 1кГц для всех режимов</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>330</code></td><td class="content"><code class="plain">mon_flag=1; </code><code class="comments">//флаг вывода на дисплей&nbsp; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>331</code></td><td class="content"><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>332</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>333</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>334</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>335</code></td><td class="content"><code class="color1">////////////////НАСТРОЙКА ТАЙМЕРА-ГЕНЕРАТОРА/////////////////////////////////////////////</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>336</code></td><td class="content"><code class="keyword">void</code> <code class="plain">timer_set(</code><code class="keyword">int</code> <code class="keyword">in</code><code class="plain">){ </code><code class="comments">//принимает +1 -1 или 0</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>337</code></td><td class="content"><code class="keyword">int</code> <code class="plain">tim_arr; uint32_t imp_long, imp_hi; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>338</code></td><td class="content"><code class="comments">//общие настройки таймера1</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>339</code></td><td class="content"><code class="plain">GPIOA_BASE-&gt;CRL=0xB4444444; </code><code class="comments">//PA7 alt_output</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>340</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="plain">GPIOA_BASE-&gt;CRH=0x4444444B; </code><code class="comments">//PA8 alt_output</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>341</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">TIMER1_BASE-&gt;CR1=0;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>342</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER1_BASE-&gt;CCMR2=0;TIMER1_BASE-&gt;PSC=0; TIMER1_BASE-&gt;CCR2=0; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>343</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER1_BASE-&gt;CCER=(1&lt;&lt;0)|(1&lt;&lt;2)|(pwm2_polar&lt;&lt;3);</code><code class="comments">//cc1e/cc1ne enable </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>344</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="comments">//TIMER1_BASE-&gt;BDTR=(1&lt;&lt;15)| 255 ;// dead time sample</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>345</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER1_BASE-&gt;CCMR1=(1&lt;&lt;6)|(1&lt;&lt;5)|(1&lt;&lt;3);</code><code class="comments">//PWM mode 1</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>346</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code><code class="plain">(freq &lt; 84850){ </code><code class="comments">//изменение частоты таймера по заданной частоте</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>347</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(</code><code class="keyword">in</code><code class="plain">) {freq+=(encstep*</code><code class="keyword">in</code><code class="plain">);}</code><code class="comments">//если передавалось изменение частоты, то рассчитать</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>348</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(freq&lt;1){freq=1;}&nbsp; </code><code class="keyword">if</code> <code class="plain">(freq&gt;(F_CPU/2*10)) {freq=F_CPU/2*10;}</code><code class="comments">// ограничение макс. частоты *10</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>349</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tim_arr = F_CPU*10/freq; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>350</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">divider=1; </code><code class="keyword">while</code> <code class="plain">( (tim_arr/divider) &gt; 65535) {divider++;} </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>351</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER1_BASE-&gt;PSC=divider-1;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>352</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER1_BASE-&gt;ARR=(tim_arr/divider)-1;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>353</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">} </code><code class="comments">//end f (freq &lt; 84850)</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>354</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">else</code> <code class="plain">{ </code><code class="comments">// изменение частоты таймера инкрементом регистра ARR</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>355</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tim_arr=TIMER1_BASE-&gt;ARR; </code><code class="comments">//снять тукущее состояния регистра&nbsp;&nbsp;&nbsp;&nbsp; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>356</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(tim_arr&lt;1000 &amp;&amp; encstep &gt; 1000) encstep=1000; </code><code class="comments">// уменьшать шаг с ростом частоты</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>357</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="keyword">if</code> <code class="plain">(tim_arr&lt;100 &amp;&amp; encstep &gt; 100) encstep=100; </code><code class="comments">// уменьшать шаг с ростом частоты</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>358</code></td><td class="content"><code class="keyword">if</code> <code class="plain">(tim_arr&lt;10 &amp;&amp; encstep &gt; 10) encstep=10;&nbsp;&nbsp; </code><code class="comments">// уменьшать шаг с ростом частоты&nbsp;&nbsp;&nbsp; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>359</code></td><td class="content"><code class="keyword">in</code><code class="plain">*=(encstep/10);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>360</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="plain">tim_arr-=</code><code class="keyword">in</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>361</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(tim_arr&lt;1) {tim_arr=1;} </code><code class="keyword">if</code> <code class="plain">(tim_arr&gt;65535) {tim_arr=65535;}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>362</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER1_BASE-&gt;ARR=tim_arr;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>363</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">} </code><code class="comments">// END&nbsp; изменение частоты таймера инкрементом регистра ARR</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>364</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="comments">// установка заданного DUTY</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>365</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code><code class="plain">(duty_in&gt;99){duty_in=99;} </code><code class="keyword">if</code><code class="plain">(duty_in&lt;1){duty_in=1;} </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>366</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(mode==1 &amp;&amp; TIMER1_BASE-&gt;ARR&lt;100){ TIMER1_BASE-&gt;CCR1=(TIMER1_BASE-&gt;ARR+1)/2 ; duty_in=50;} </code><code class="comments">//сбрасывать duty на 50% на высоких частотах </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>367</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">else</code><code class="plain">{TIMER1_BASE-&gt;CCR1= (</code><code class="keyword">float</code><code class="plain">) (TIMER1_BASE-&gt;ARR+1)* duty_in/100.0 ;} </code><code class="comments">//или рассчитать </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>368</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">freq= F_CPU*10 /((TIMER1_BASE-&gt;ARR+1)*divider);</code><code class="comments">// рассчёт фактической частоты</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>369</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">duty_out=&nbsp; (</code><code class="keyword">float</code><code class="plain">) TIMER1_BASE-&gt;CCR1 / ((TIMER1_BASE-&gt;ARR+1) / 100.0) ; </code><code class="comments">//расчёт фактического duty</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>370</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">duty_out= floorf(duty_out); </code><code class="comments">//округление</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>371</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">imp_long=(uint32_t) ((TIMER1_BASE-&gt;ARR+1)*divider); </code><code class="comments">//длина периода в тактах</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>372</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">imp_hi=(uint32_t)&nbsp; ((TIMER1_BASE-&gt;CCR1)*divider); </code><code class="comments">// длина импульса в тактах</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>373</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">t_low= (imp_long-imp_hi) /(F_CPU/1E6) ; </code><code class="comments">//время LOW</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>374</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain">t_hi=&nbsp; imp_hi /(F_CPU/1E6); </code><code class="comments">//время HI</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>375</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="plain">TIMER1_BASE-&gt;CR1=1;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>376</code></td><td class="content"><code class="plain">mon_flag=1;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>377</code></td><td class="content"><code class="plain">}</code><code class="comments">//end timer_set</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>378</code></td><td class="content"><code class="spaces">&nbsp;</code>&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>379</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>380</code></td><td class="content"><code class="spaces">&nbsp;</code>&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>381</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>382</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>383</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>384</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>385</code></td><td class="content"><code class="comments">// КОНФИГУРАЦИЯ DDS РЕЖИМОВ</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>386</code></td><td class="content"><code class="keyword">void</code> <code class="plain">dds_set(){</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>387</code></td><td class="content"><code class="keyword">static</code> <code class="plain">uint32_t akkum;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>388</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="keyword">static</code> <code class="keyword">byte</code> <code class="plain">oldmode=255;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>389</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER1_BASE-&gt;CCER=0; </code><code class="comments">//timer output pins disable</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>390</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">GPIOA_BASE-&gt;CRL = 0x33333333;</code><code class="comments">// pa0-pa7&nbsp; выход</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>391</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(oldmode !=mode) {</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>392</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(mode==3) {</code><code class="keyword">for</code><code class="plain">(uint16_t n=0; n&lt;512; n++){wave[n]=255*(sin(TWO_PI*</code><code class="keyword">float</code><code class="plain">(n)/512)+1)/2 ;}}</code><code class="comments">// синус</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>393</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">else</code> <code class="keyword">if</code> <code class="plain">(mode==4){ </code><code class="keyword">for</code><code class="plain">(uint16_t n=0; n&lt;512; n++){</code><code class="keyword">if</code> <code class="plain">(n&lt;256){ wave[n]=n;} </code><code class="keyword">else</code> <code class="plain">{wave[n]=(511-n);}}}</code><code class="comments">//треугол</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>394</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">else</code> <code class="keyword">if</code> <code class="plain">(mode==5){ </code><code class="keyword">for</code><code class="plain">(uint16_t n=0; n&lt;512; n++){ wave[n]=(n&gt;&gt;1);}}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="comments">//пила1</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>395</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">else</code> <code class="keyword">if</code> <code class="plain">(mode==6){ </code><code class="keyword">for</code><code class="plain">(uint16_t n=0; n&lt;512; n++){ wave[n]=((~n)&gt;&gt;1);}}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="comments">//пила2</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>396</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">else</code> <code class="keyword">if</code> <code class="plain">(mode==7){ </code><code class="keyword">for</code><code class="plain">(uint16_t n=0; n&lt;512; n++){</code><code class="keyword">if</code> <code class="plain">(n&lt;256){ wave[n]=0;} </code><code class="keyword">else</code> <code class="plain">{wave[n]=255;}}}&nbsp;&nbsp;&nbsp; </code><code class="comments">//меандр</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>397</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">oldmode=mode; } </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>398</code></td><td class="content"><code class="plain">uint32_t dds_shag= (</code><code class="keyword">double</code><code class="plain">)freq/10 * ((F_CPU==72E6)? dds_mpl_72 : dds_mpl_128) ;</code><code class="comments">//&nbsp; шаг= частота*коэффициент</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>399</code></td><td class="content"><code class="plain">asm volatile (</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>400</code></td><td class="content"><code class="string">"mov&nbsp;&nbsp; R9, %[port];"</code>&nbsp; <code class="string">"\n\t"</code> <code class="comments">// записать в r9 адресс порта "A"-ODR </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>401</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="string">"mov&nbsp;&nbsp; R8, %[wave];"</code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <code class="string">"\n\t"</code> <code class="comments">//адресс массива положить в r8&nbsp; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>402</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="string">"mov&nbsp;&nbsp; R7, %[shag];"</code>&nbsp;&nbsp; <code class="string">"\n\t"</code> <code class="comments">// значение шага в r7</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>403</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="string">"dds_loop:"</code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <code class="string">"\n\t"</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>404</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="string">"add R6, r7;"</code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <code class="string">"\n\t"</code>&nbsp; <code class="comments">//(1)добавить к аккумулятору шаг</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>405</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="string">"lsrs r2, r6, #23;"</code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <code class="string">"\n\t"</code>&nbsp; <code class="comments">//(1) положить в R2 сдвинутый на 23 бита аккумулятор</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>406</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="string">"ldrb r2, [r8, r2];"</code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <code class="string">"\n\t"</code>&nbsp; <code class="comments">//(2)загрузить в R2 выбранный байт из массива</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>407</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="string">"strb&nbsp; r2, [r9];"</code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <code class="string">"\n\t"</code>&nbsp; <code class="comments">//(2) запиcать этот байт в PORTA-ODR</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>408</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="string">"ldr&nbsp; R2, [%[flag]];"</code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <code class="string">"\n\t"</code>&nbsp; <code class="comments">//(2) подгрузить в&nbsp; R2 флаг </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>409</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="string">"cmp r2, 1;"</code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <code class="string">"\n\t"</code>&nbsp; <code class="comments">//(1) сравнить </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>410</code></td><td class="content"><code class="string">"bne dds_loop;"</code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <code class="string">"\n\t"</code>&nbsp; <code class="comments">//(1) перейти в цикл</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>411</code></td><td class="content"><code class="plain">: : [wave]</code><code class="string">"r"</code> <code class="plain">(&amp;wave),[shag]</code><code class="string">"r"</code><code class="plain">(dds_shag),[port]</code><code class="string">"r"</code><code class="plain">(&amp;GPIOA_BASE-&gt;ODR),[flag]</code><code class="string">"r"</code><code class="plain">(&amp;mon_flag)</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>412</code></td><td class="content"><code class="plain">: </code><code class="string">"r9"</code><code class="plain">,</code><code class="string">"r8"</code><code class="plain">,</code><code class="string">"r7"</code><code class="plain">,</code><code class="string">"r6"</code><code class="plain">,</code><code class="string">"r2"</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>413</code></td><td class="content"><code class="plain">);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>414</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">GPIOA_BASE-&gt;CRL=0x44444444;</code><code class="comments">// все пины в Z</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>415</code></td><td class="content"><code class="plain">}</code><code class="comments">//END DDS set()</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>416</code></td><td class="content"><code class="comments">//</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>417</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>418</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>419</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="keyword">void</code> <code class="plain">mytone(</code><code class="keyword">int</code> <code class="plain">frq, </code><code class="keyword">int</code> <code class="plain">ms ){</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>420</code></td><td class="content"><code class="keyword">if</code> <code class="plain">(mode==8){</code><code class="keyword">return</code><code class="plain">;} </code><code class="comments">//таймер в режиме частотометра занят</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>421</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="plain">uint16_t psc=1; uint32_t tim_arr;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>422</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="comments">// настройка генератора звука на таймере3</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>423</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">tim_arr = (F_CPU/2)/frq;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>424</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="keyword">while</code> <code class="plain">( (tim_arr/psc) &gt; 65535) {psc++;} </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>425</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">__asm volatile( </code><code class="string">"cpsid i"</code> <code class="plain">); </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>426</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER2_BASE-&gt;SMCR=0;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>427</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER3_BASE-&gt;CCR3=0; </code><code class="comments">//обнулить регистр соответсвующий используемому выходу</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>428</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER3_BASE-&gt;PSC=psc-1;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>429</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER3_BASE-&gt;ARR=(tim_arr/psc)-1;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>430</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER3_BASE-&gt;CCMR2=(1&lt;&lt;5)|(1&lt;&lt;4);</code><code class="comments">// OC3M:011</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>431</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER3_BASE-&gt;CCER=1&lt;&lt;8;</code><code class="comments">//cc3e&nbsp; подключить аппаратную ногу</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>432</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER3_BASE-&gt;SMCR=(1&lt;&lt;2)|(1&lt;&lt;0)|(1&lt;&lt;4);</code><code class="comments">//SMS:101 &amp;&amp; TS:001&nbsp; строб от 2-го таймера&nbsp; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>433</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER3_BASE-&gt;EGR=1; </code><code class="comments">//перечитать регистры.</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>434</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER3_BASE-&gt;CR1=1;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>435</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="color1">/// настройка выдержки времени на таймере2</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>436</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">psc=1;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>437</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">tim_arr = (F_CPU/1E3) * ms;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>438</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">while</code> <code class="plain">( (tim_arr/psc) &gt; 65536) {psc++;} </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>439</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER2_BASE-&gt;CCMR2=0;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>440</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER2_BASE-&gt;CR2=0;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>441</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER2_BASE-&gt;CR1=(1&lt;&lt;3)|(1&lt;&lt;2);</code><code class="comments">//один импульс, без прероываний</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>442</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain">TIMER2_BASE-&gt;CNT=0;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>443</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">TIMER2_BASE-&gt;CR2=(1&lt;&lt;4);&nbsp; </code><code class="comments">//MMS:001 сигнал разрешения работы другим таймерам</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>444</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="plain">TIMER2_BASE-&gt;PSC=psc-1;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>445</code></td><td class="content"><code class="plain">TIMER2_BASE-&gt;ARR=(tim_arr/psc)-1;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>446</code></td><td class="content"><code class="plain">TIMER2_BASE-&gt;EGR=1; </code><code class="comments">//перечитать регистры.</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>447</code></td><td class="content"><code class="plain">TIMER2_BASE-&gt;CR1|=(1&lt;&lt;0);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>448</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">__asm volatile( </code><code class="string">"cpsie i"</code> <code class="plain">);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>449</code></td><td class="content"><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>450</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>451</code></td><td class="content"><code class="keyword">void</code> <code class="plain">clock_gen(){ </code><code class="comments">//функция работа с синтезатором si5351</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>452</code></td><td class="content"><code class="keyword">if</code> <code class="plain">(!si5351_found) {</code><code class="keyword">return</code><code class="plain">;} </code><code class="comments">// на всякий случай </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>453</code></td><td class="content"><code class="keyword">if</code> <code class="plain">(freq &lt;4E4){freq=4E4;} </code><code class="keyword">if</code> <code class="plain">(freq&gt;200E7){ freq=200E7;} </code><code class="comments">//допустимые рамки частот</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>454</code></td><td class="content"><code class="plain">si5351.set_freq((freq/10)* SI5351_FREQ_MULT, SI5351_CLK0);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>455</code></td><td class="content"><code class="plain">mon_flag=1;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>456</code></td><td class="content"><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>457</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>458</code></td><td class="content"><code class="keyword">void</code> <code class="plain">comm(){ </code><code class="comments">//коммутация выходов через мультиплексор</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>459</code></td><td class="content"><code class="keyword">if</code> <code class="plain">(mode==1 || mode==2 ) {digitalWrite(PB3,LOW); digitalWrite(PB4,LOW);}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>460</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="keyword">else</code>&nbsp; <code class="keyword">if</code> <code class="plain">(mode&gt;2 &amp;&amp; mode&lt;8 ) {digitalWrite(PB3,HIGH); digitalWrite(PB4,LOW);}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>461</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="keyword">else</code> <code class="keyword">if</code> <code class="plain">(mode==0 ) {digitalWrite(PB3,LOW); digitalWrite(PB4,HIGH);}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>462</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="keyword">else</code> <code class="keyword">if</code> <code class="plain">(mode==8) {digitalWrite(PB3,HIGH); digitalWrite(PB4,HIGH);}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>463</code></td><td class="content"><code class="plain">}</code></td></tr></tbody></table></div></div></div>

<p>&nbsp;</p>
<p>PS обновлено 12.01.2019&nbsp; в связи с тем, что у многих проблемы правильно вставить библиотеки, выкладываю полный архив моей arduino IDE со всеми библиотеками и с самим скетчем в примерах. Останется только запустить Arduino.exe и выбрать в примерах скетч.&nbsp; <a href="http://out.arduino.ru/?redirect=https%3A%2F%2Fyadi.sk%2Fd%2F_BFVMSyz7Wb0Bg&amp;baseU=http%3A%2F%2Farduino.ru%2Fforum%2Fproekty%2Fgenerator-s-reguliruemoei-chastotoi-na-arduino" rel="nofollow" target="_blank">Архив в зипе.</a>&nbsp;&nbsp; Размер архива 430МБ.</p>
<p><a href="http://out.arduino.ru/?redirect=https%3A%2F%2Ffarm5.staticflickr.com%2F4833%2F45985372434_3dc3c1d515_b.jpg&amp;baseU=http%3A%2F%2Farduino.ru%2Fforum%2Fproekty%2Fgenerator-s-reguliruemoei-chastotoi-na-arduino" rel="nofollow" target="_blank"><img alt="" src="./Генератор с регулируемоей частотой на ардуино. _ Аппаратная платформа Arduino_files/45985372434_3dc3c1d515_b.jpg" style="width:450px;height:347px;"></a></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
      </div>

          </div>
  </div>

  <div class="forum-post-footer clear-block">
    <div class="forum-jump-links">
      <a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#top" title="Jump to top of page">Верх</a>
    </div>

          <div class="forum-post-links">
        <ul class="links forum-links"><li class="comment_forbidden first"><span><a href="http://arduino.ru/user/login?destination=node%2F11357%23comment-form">Войдите</a> или <a href="http://arduino.ru/user/register?destination=node%2F11357%23comment-form">зарегистрируйтесь</a>, чтобы получить возможность отправлять комментарии</span></li>
<li class="vud_comment_votes_count last"></li>
</ul>      </div>
      </div>
</div><a id="comment-403165"></a>

    <div class="forum-post  clear-block">

  <div class="post-info clear-block">
    <div class="posted-on">
      Втр, 06/11/2018 - 14:18
          </div>

          <span class="post-num"><a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#comment-403165" class="active">#47</a> </span>
      </div>

  <div class="forum-post-wrapper">

    <div class="forum-post-panel-sub">
      

<div class="author-pane">
 <div class="author-pane-inner">
        <div class="author-pane-section author-pane-general">
            <div class="author-pane-line author-name">
        MAG-N      </div>

                    
  <div class="picture">
          <img src="./Генератор с регулируемоей частотой на ардуино. _ Аппаратная платформа Arduino_files/picture-29355.jpg" alt="MAG-N аватар" title="MAG-N аватар">      </div>
      
                    <div class="author-pane-line author-offline">
           Offline        </div>
      
            
            
            
                    <div class="author-pane-line author-joined">
          <span class="author-pane-label">Зарегистрирован:</span> 05.06.2017        </div>
      
            
                </div>

        <div class="author-pane-section author-pane-contact">
            
            
            
                </div>

        <div class="author-pane-section author-pane-admin">
            
          
               </div>
  </div>
</div>
    </div>

    <div class="forum-post-panel-main clear-block">
      
      <div class="content">
        <p>Получил сегодня Si5351 и решил замерить точность установки частоты. На частоте 36 МГц в режиме PWM отклонение около 800 Гц, а у Si5351 - немного более 3 кГц, а на 145 МГц - более 10 кГц. Мерил трансивером по нулевым биениям, предварительно проверив его по сигналам эталонных частот.</p>
      </div>

          </div>
  </div>

  <div class="forum-post-footer clear-block">
    <div class="forum-jump-links">
      <a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#top" title="Jump to top of page">Верх</a>
    </div>

          <div class="forum-post-links">
        <ul class="links forum-links"><li class="comment_forbidden first"><span><a href="http://arduino.ru/user/login?destination=node%2F11357%23comment-form">Войдите</a> или <a href="http://arduino.ru/user/register?destination=node%2F11357%23comment-form">зарегистрируйтесь</a>, чтобы получить возможность отправлять комментарии</span></li>
<li class="vud_comment_votes_count last"></li>
</ul>      </div>
      </div>
</div><a id="comment-403166"></a>

    <div class="forum-post  clear-block">

  <div class="post-info clear-block">
    <div class="posted-on">
      Втр, 06/11/2018 - 14:24
          </div>

          <span class="post-num"><a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#comment-403166" class="active">#48</a> </span>
      </div>

  <div class="forum-post-wrapper">

    <div class="forum-post-panel-sub">
      

<div class="author-pane">
 <div class="author-pane-inner">
        <div class="author-pane-section author-pane-general">
            <div class="author-pane-line author-name">
        dimax      </div>

                    
  <div class="picture">
          <img src="./Генератор с регулируемоей частотой на ардуино. _ Аппаратная платформа Arduino_files/picture-6856.jpg" alt="dimax аватар" title="dimax аватар">      </div>
      
                    <div class="author-pane-line author-offline">
           Offline        </div>
      
            
            
            
                    <div class="author-pane-line author-joined">
          <span class="author-pane-label">Зарегистрирован:</span> 25.12.2013        </div>
      
            
                </div>

        <div class="author-pane-section author-pane-contact">
            
            
            
                </div>

        <div class="author-pane-section author-pane-admin">
            
          
               </div>
  </div>
</div>
    </div>

    <div class="forum-post-panel-main clear-block">
      
      <div class="content">
        <p>MAG-N, да похоже на правду. По крайней мере по части таймера МК, у меня тоже примерно такие цифры. Можно попробывать прописать свой дефайн F_CPU что б подогнать под истину, но этот вариант я не тестировал.</p>
      </div>

          </div>
  </div>

  <div class="forum-post-footer clear-block">
    <div class="forum-jump-links">
      <a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#top" title="Jump to top of page">Верх</a>
    </div>

          <div class="forum-post-links">
        <ul class="links forum-links"><li class="comment_forbidden first"><span><a href="http://arduino.ru/user/login?destination=node%2F11357%23comment-form">Войдите</a> или <a href="http://arduino.ru/user/register?destination=node%2F11357%23comment-form">зарегистрируйтесь</a>, чтобы получить возможность отправлять комментарии</span></li>
<li class="vud_comment_votes_count last"></li>
</ul>      </div>
      </div>
</div><a id="comment-403168"></a>

    <div class="forum-post  clear-block">

  <div class="post-info clear-block">
    <div class="posted-on">
      Втр, 06/11/2018 - 15:06
          </div>

          <span class="post-num"><a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#comment-403168" class="active">#49</a> </span>
      </div>

  <div class="forum-post-wrapper">

    <div class="forum-post-panel-sub">
      

<div class="author-pane">
 <div class="author-pane-inner">
        <div class="author-pane-section author-pane-general">
            <div class="author-pane-line author-name">
        MAG-N      </div>

                    
  <div class="picture">
          <img src="./Генератор с регулируемоей частотой на ардуино. _ Аппаратная платформа Arduino_files/picture-29355.jpg" alt="MAG-N аватар" title="MAG-N аватар">      </div>
      
                    <div class="author-pane-line author-offline">
           Offline        </div>
      
            
            
            
                    <div class="author-pane-line author-joined">
          <span class="author-pane-label">Зарегистрирован:</span> 05.06.2017        </div>
      
            
                </div>

        <div class="author-pane-section author-pane-contact">
            
            
            
                </div>

        <div class="author-pane-section author-pane-admin">
            
          
               </div>
  </div>
</div>
    </div>

    <div class="forum-post-panel-main clear-block">
      
      <div class="content">
        <p>800 Гц на такой частоте - вполне нормально, а вот в разы большая погрешность у специально заточенной&nbsp; микросхемы - это не есть хорошо. Возможно, резонатор на платке "кривоватый", всё же китайская поделка.</p>
<p>#define F_CPU попробовал, но при этом изменяется частота на экране.</p>
      </div>

          </div>
  </div>

  <div class="forum-post-footer clear-block">
    <div class="forum-jump-links">
      <a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#top" title="Jump to top of page">Верх</a>
    </div>

          <div class="forum-post-links">
        <ul class="links forum-links"><li class="comment_forbidden first"><span><a href="http://arduino.ru/user/login?destination=node%2F11357%23comment-form">Войдите</a> или <a href="http://arduino.ru/user/register?destination=node%2F11357%23comment-form">зарегистрируйтесь</a>, чтобы получить возможность отправлять комментарии</span></li>
<li class="vud_comment_votes_count last"></li>
</ul>      </div>
      </div>
</div><a id="comment-403243"></a>

    <div class="forum-post  clear-block">

  <div class="post-info clear-block">
    <div class="posted-on">
      Втр, 06/11/2018 - 19:39
          </div>

          <span class="post-num"><a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#comment-403243" class="active">#50</a> </span>
      </div>

  <div class="forum-post-wrapper">

    <div class="forum-post-panel-sub">
      

<div class="author-pane">
 <div class="author-pane-inner">
        <div class="author-pane-section author-pane-general">
            <div class="author-pane-line author-name">
        MAG-N      </div>

                    
  <div class="picture">
          <img src="./Генератор с регулируемоей частотой на ардуино. _ Аппаратная платформа Arduino_files/picture-29355.jpg" alt="MAG-N аватар" title="MAG-N аватар">      </div>
      
                    <div class="author-pane-line author-offline">
           Offline        </div>
      
            
            
            
                    <div class="author-pane-line author-joined">
          <span class="author-pane-label">Зарегистрирован:</span> 05.06.2017        </div>
      
            
                </div>

        <div class="author-pane-section author-pane-contact">
            
            
            
                </div>

        <div class="author-pane-section author-pane-admin">
            
          
               </div>
  </div>
</div>
    </div>

    <div class="forum-post-panel-main clear-block">
      
      <div class="content">
        <p>Поигрался с Si5351. Подцепил к Ардуино Нано и стал гонять примеры из библиотеки <strong>Si5351Arduino-master</strong>. Пример <strong>si5351_calibration</strong> натолкнул на некоторые мысли, в результате чего скетч генератора дополнился строкой (после стр. 45)</p>
<p>si5351.set_correction(80000, SI5351_PLL_INPUT_XO);</p>
<p>Ошибка убралась почти на "0", надо точнее подобрать величину коррекции. В примере всё это делается достаточно наглядно через монитор порта, потом только результат подставить. Всё это индивидуально для каждой платы,&nbsp; так что кому надо - может сделать.</p>
      </div>

          </div>
  </div>

  <div class="forum-post-footer clear-block">
    <div class="forum-jump-links">
      <a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#top" title="Jump to top of page">Верх</a>
    </div>

          <div class="forum-post-links">
        <ul class="links forum-links"><li class="comment_forbidden first"><span><a href="http://arduino.ru/user/login?destination=node%2F11357%23comment-form">Войдите</a> или <a href="http://arduino.ru/user/register?destination=node%2F11357%23comment-form">зарегистрируйтесь</a>, чтобы получить возможность отправлять комментарии</span></li>
<li class="vud_comment_votes_count last"></li>
</ul>      </div>
      </div>
</div><div class="item-list"><ul class="pager"><li class="pager-current first">1</li>
<li class="pager-item"><a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino?page=1" title="На страницу номер 2" class="active">2</a></li>
<li class="pager-item"><a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino?page=2" title="На страницу номер 3" class="active">3</a></li>
<li class="pager-next"><a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino?page=1" title="На следующую страницу" class="active">следующая ›</a></li>
<li class="pager-last last"><a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino?page=2" title="На последнюю страницу" class="active">последняя »</a></li>
</ul></div></div>      </div> <!-- /#main -->

      
       <div class="clear"></div> 
       <div id="push"></div> 
    </div> <!-- /.container -->
    <!-- /layout -->

   <div id="footer" class="clear">
        <div id="block-block-5" class="block block-block">

  
  <div class="content">
        <div style="float: left; margin: 18px 0pt 0pt 18px;">
	Материалы по программированию Arduino переведены с официального сайта проекта Ардуино&nbsp;— <a href="http://out.arduino.ru/?redirect=http%3A%2F%2Farduino.cc%2F&amp;baseU=http%3A%2F%2Farduino.ru%2Fforum%2Fproekty%2Fgenerator-s-reguliruemoei-chastotoi-na-arduino" target="_blank" rel="nofollow">http://arduino.cc</a><br>
	и представлены по лицензии <a href="http://out.arduino.ru/?redirect=http%3A%2F%2Fcreativecommons.org%2Flicenses%2Fby-sa%2F3.0%2F&amp;baseU=http%3A%2F%2Farduino.ru%2Fforum%2Fproekty%2Fgenerator-s-reguliruemoei-chastotoi-na-arduino" rel="nofollow" target="_blank">Creative Commons Attribution-ShareAlike 3.0 License</a>.<br>
	Электропочта для связи: <strong> <script language="javascript">
        <!--
        var part1 = "electropochta";
        var part2 = "arduino.ru";
        document.write("<a href=\"mailto:"+ part1 + '@' + part2+"\">"+part1 + '@' + part2+"<\/a>");
        // -->
    </script><a href="mailto:electropochta@arduino.ru">electropochta@arduino.ru</a></strong></div>
  </div>

</div>
              </div> <!-- /#footer -->
  <script type="text/javascript" src="./Генератор с регулируемоей частотой на ардуино. _ Аппаратная платформа Arduino_files/js_dcd2eb74bec57c8826a92f73630874da.js.Без названия"></script>

  

<div id="lightbox2-overlay" style="display: none;"></div>      <div id="lightbox" style="display: none;" class="lightbox2-orig-layout">        <div id="outerImageContainer" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);"><div id="modalContainer" style="display: none; padding: 10px;"></div><div id="frameContainer" style="display: none; padding: 10px;"></div><div id="imageContainer" style="display: none; padding: 10px;"><img id="lightboxImage" alt=""><div id="hoverNav"><a id="prevLink" title="Previous" href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#" style="padding-top: 10px;"></a><a id="nextLink" title="Next" href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#" style="padding-top: 10px;"></a></div></div><div id="loading"><a href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#" id="loadingLink"></a></div></div>        <div id="imageDataContainer" class="clearfix" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);">          <div id="imageData"><div id="imageDetails"><span id="caption"></span><span id="numberDisplay"></span></div><div id="bottomNav"><div id="frameHoverNav"><a id="framePrevLink" title="Previous" href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#" style="padding-top: 10px;"></a><a id="frameNextLink" title="Next" href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#" style="padding-top: 10px;"></a></div><a id="bottomNavClose" title="Close" href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);"></a><a id="bottomNavZoom" href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#"></a><a id="bottomNavZoomOut" href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#"></a><a id="lightshowPause" title="Pause Slideshow" href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#" style="display: none;"></a><a id="lightshowPlay" title="Play Slideshow" href="http://arduino.ru/forum/proekty/generator-s-reguliruemoei-chastotoi-na-arduino#" style="display: none;"></a></div></div>        </div>      </div><img src="./Генератор с регулируемоей частотой на ардуино. _ Аппаратная платформа Arduino_files/1" style="text-decoration: none; border: 0px; padding: 0px; margin: 0px;"><table cellspacing="0" cellpadding="0" class="gstl_50 gssb_c" style="width: 365px; display: none; top: 69px; position: absolute; left: 701px;"><tbody><tr><td class="gssb_f"></td><td class="gssb_e" style="width: 100%;"></td></tr></tbody></table></body></html>